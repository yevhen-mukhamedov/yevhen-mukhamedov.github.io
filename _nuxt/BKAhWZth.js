import{V as H,_ as J,i as p,aJ as U,j as V,p as X,k as G,q as K,o as d,c as h,u as y,x as u,X as o,f as B,w as _,b as f,d as n,t as S,a as k,T as Q,m as W,a4 as Y,n as Z,as as x,a5 as ee}from"./JoFQSik9.js";import{u as te}from"./BM2BYuY2.js";import{v as le}from"./D8aEg3BZ.js";const se={key:0,class:"multiselect-search-container tw-relative tw-pb-2"},ae={key:0,class:"ng-multiselect-label fg-main-12-regular"},oe={class:"fg-main-14-regular"},ne=["onMousedown"],de=H({__name:"NgSingleSelector",props:{isValidatedSeparately:{type:Boolean,default:!1},isOptionSearchable:{type:Boolean,default:!1},isCloseOnSelected:{type:Boolean,default:!0},isHideSelected:{type:Boolean,default:!1},isDefaultClass:{type:Boolean,default:!0},isFullOption:{type:Boolean,default:!1},isAllowEmpty:{type:Boolean,default:!1},isSearchable:{type:Boolean,default:!1},isSearchIcon:{type:Boolean},isDisabled:{type:Boolean,default:!1},validationRules:{},returnedOption:{default:null},defaultOption:{default:null},displayedOption:{default:""},additionalLabel:{default:""},deselectLabel:{default:""},selectedLabel:{default:""},selectLabel:{default:""},placeholder:{default:""},classList:{default:""},inputName:{default:""},modelValue:{},itemList:{},isPreventAutofocus:{type:Boolean,default:!1}},emits:["update:modelValue","change","close","open"],setup(E,{emit:D}){const{t:M}=J(),l=E,I=e=>typeof e=="object"?Object.values(e).join(" "):String(e),q=()=>{const e={};return l.isSearchable&&(e.customLabel=I),e},r=p(null),m=p(),L=p(`ng-single-selector-footer-${le()}`),w=p(!1),A=U(),O=p(""),$=()=>{l.defaultOption&&(r.value=l.defaultOption)},N=()=>{const e=m.value.$el;if(e&&l.isSearchable){const a=e.querySelector(".multiselect__content-wrapper"),t=e.querySelector(".multiselect__input");if(a&&t){if(l.isOptionSearchable)t.placeholder=`${M("search")}...`,t.classList.add("ng-selector-search"),a.querySelector(".multiselect-search-container").prepend(t);else{const c=document.createElement("div");c.classList.add("ng-search-wrapper");const s=document.createElement("div");s.classList.add("ng-search-content");const v=document.createElement("div");v.classList.add("ng-selector-placeholder"),v.innerHTML=t.placeholder,t.placeholder="",c.append(s),s.append(v),t.before(c),s.append(t),l.isSearchIcon&&x(()=>import("./x9wMAF8_.js"),[],import.meta.url).then(T=>{const g=document.createElement("img");g.classList.add("ng-search-icon"),g.src=T.default,c.prepend(g)})}t.addEventListener("click",()=>t.focus())}}},R=()=>{const e=m.value.$el;if(e){const a=e.querySelector(".multiselect__content-wrapper"),t=document.createElement("div");t.classList.add("ng-selector-footer"),t.id=L.value,a.append(t),w.value=!0}},i=D,C=()=>{var e;if(!l.returnedOption||l.isFullOption){i("update:modelValue",r.value),i("change");return}l.returnedOption&&(i("update:modelValue",((e=r.value)==null?void 0:e[l.returnedOption])??""),i("change"))},F=V(()=>[`${l.isDefaultClass?"ng-single-selector":""}`,`${l.isSearchable?"ng-hide-placeholder":""}`,`${l.isDisabled?"disabled":""}`,`${b.value?"error":""}`,`${l.classList}`]),P=V(()=>l.additionalLabel&&!l.isSearchable),{errorMessage:b}=te(()=>l.inputName,l.isValidatedSeparately?l.validationRules:null,{syncVModel:!0}),j=()=>{const{$el:e,updateSearch:a}=m.value,t=e.querySelector(".multiselect__input");t&&(t!=null&&t.value)&&(t.value="",a())},z=(e="")=>{O.value=e};return X(()=>l.defaultOption,()=>{$()}),G(()=>{$(),N(),A.footer&&R()}),(e,a)=>{const t=ee,c=K("VueMultiselect");return d(),h("div",null,[y(c,W({ref_key:"ngselector",ref:m,modelValue:o(r),"onUpdate:modelValue":a[0]||(a[0]=s=>Y(r)?r.value=s:null)},q(),{label:e.displayedOption,"close-on-select":e.isCloseOnSelected,"hide-selected":e.isHideSelected,"allow-empty":e.isAllowEmpty,searchable:e.isSearchable,"selected-label":e.selectedLabel,"select-label":e.selectLabel,"deselect-label":e.deselectLabel,placeholder:e.placeholder,"tag-position":"bottom","preserve-search":!0,options:e.itemList,multiple:!1,class:o(F),"prevent-autofocus":e.isPreventAutofocus,onSelect:C,onRemove:C,onOpen:a[1]||(a[1]=s=>i("open")),onClose:a[2]||(a[2]=s=>i("close")),onSearchChange:z}),{beforeList:u(()=>[l.isOptionSearchable?(d(),h("div",se,[y(t,{class:"tw-absolute tw-top-3.5 tw-left-4 tw-text-input-fg icon-search",size:20,name:"search"}),o(O).length?(d(),B(t,{key:0,class:"tw-absolute tw-top-4 tw-right-4 tw-text-input-fg icon-close",size:16,name:"close",onClick:_(j,["prevent","stop"])})):f("",!0)])):f("",!0),n(e.$slots,"before-list")]),singleLabel:u(({option:s})=>[n(e.$slots,"selected-option",{props:s},()=>[o(P)?(d(),h("span",ae,S(e.additionalLabel),1)):f("",!0),k("span",oe,S(s[e.displayedOption]||s),1)])]),option:u(({option:s})=>[n(e.$slots,"option",{props:s})]),afterList:u(()=>[o(w)?(d(),B(Q,{key:0,to:`#${o(L)}`},[n(e.$slots,"footer")],8,["to"])):f("",!0),n(e.$slots,"after-list")]),noOptions:u(()=>[n(e.$slots,"no-options")]),caret:u(({toggle:s})=>[n(e.$slots,"caret",{toggle:s},()=>[k("div",{class:"caret",onMousedown:_(s,["prevent","stop"])},[y(t,{name:"toggle",size:16})],40,ne)])]),_:3},16,["modelValue","label","close-on-select","hide-selected","allow-empty","searchable","selected-label","select-label","deselect-label","placeholder","options","class","prevent-autofocus"]),o(b)?(d(),h("div",{key:0,class:Z(["ng-selector-error-message",{disabled:e.isDisabled}])},S(o(b)),3)):f("",!0)])}}});export{de as _};
