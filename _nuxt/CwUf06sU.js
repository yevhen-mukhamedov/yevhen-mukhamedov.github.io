import{V as P,_ as A,j as f,c as r,u as l,m as R,X as t,a as s,t as n,f as D,b as _,n as G,a5 as Y,o as a,a6 as $,W as M,a7 as H,a0 as j,a8 as W,a1 as X,i as k,k as q,a9 as C,E as J,F as v,x as N,aa as O}from"./JoFQSik9.js";import{_ as Q}from"./ElL4sWVy.js";import{_ as Z}from"./Cel6GgYv.js";import{_ as tt}from"./O62aqz-L.js";import{_ as st}from"./Cf_ozb67.js";import{u as et}from"./CkHyjaJP.js";import{g as T}from"./BZw8aVXh.js";import"./sQNTZNBq.js";import"./BMBJnSAB.js";import"./ClZaf3ID.js";import"./D8aEg3BZ.js";import"./BKAhWZth.js";import"./BM2BYuY2.js";import"./K-WBeQ-v.js";import"./1-N0yLDQ.js";import"./BkdEmRM5.js";import"./3N86B1rU.js";import"./LijCuOwn.js";import"./CXQSc-M8.js";import"./iYoyzWPT.js";import"./PP6ET3BF.js";import"./CXetEtI4.js";const nt={class:"status-btn-content"},at="1",ot="2",it="0",ct="-1",B="3",S="play",rt="playing",E="canceled",L="deleted",b="finished",lt="results_in",_t=P({__name:"BattleStatusButton",props:{battle:{}},setup(x){const{t:o}=A(),u=x,w={[at]:S,[ot]:rt,[it]:E,[ct]:L,[B]:b},h=f(()=>u.battle.timer>0&&u.battle.timer<=30),y=f(()=>h.value&&m.value!==b?{name:"trophy",width:"16",height:"16"}:m.value===E?{name:"block",width:"16",height:"16"}:m.value===b?{name:b,folder:"pvp",width:"16",height:"16"}:{name:S,folder:"pvp",width:"16",height:"16"}),m=f(()=>h.value&&u.battle.battle_status!==+B?lt:w[u.battle.battle_status]),g=f(()=>[E,L,b].includes(m.value));return(p,I)=>{const i=Y,e=Q;return a(),r("div",{class:G(["status-btn",[t(m)]])},[l(i,R({class:"status-btn-icon"},t(y)),null,16),s("div",nt,[s("span",null,n(t(o)(`status_bar_${t(m)}`)),1),p.battle.timer&&!t(g)?(a(),D(e,{key:0,id:`status-${p.battle.battle_id}-timer`,"hidden-days":!0,"hidden-hours":!0,"end-time":p.battle.timer*1e3},null,8,["id","end-time"])):_("",!0)])],2)}}}),mt=$(_t,[["__scopeId","data-v-7de07f88"]]),ut={class:"tw-py-8"},pt={class:"status-bar"},dt={key:0,class:"tw-flex tw-items-center tw-mr-4"},bt={class:"status-bar-items"},ht={class:"status-bar-item"},ft={key:0,class:"tw-mr-4"},wt={class:"tw-flex tw-items-center"},yt={class:"tw-mr-1"},gt=["src","alt"],vt={key:0,class:"status-bar-item @tablet:tw-hidden"},Et={class:"tw-mr-4"},xt={class:"tw-flex tw-items-center tw-text-text-brand"},It={class:"tw-mr-1"},kt={class:"status-bar-item"},Ct={key:0,class:"tw-mr-4"},Nt={class:"tw-flex tw-items-center"},Tt={class:"tw-mr-1"},Bt=["src","alt"],St={class:"tw-mr-4 @tablet:tw-hidden"},Lt={class:"tw-flex tw-items-center"},Pt={class:"tw-mr-1"},At={class:"tw-mr-4 @tablet:tw-hidden"},Dt={class:"tw-flex tw-items-center"},Yt={class:"tw-mr-1"},$t=P({__name:"[id]",setup(x){const{t:o}=A(),{$emitter:u}=O(),w=M(),{setBreadcrumbs:h}=et(),y=H();h([{label:o("battles"),path:w({name:"battles"})},{label:o("pvp_lobby")}]);const m=j(),g=W(),{isLessContainerTablet:p,isLessContainerDesktop:I}=X(m),i=k({}),e=k({}),U=c=>{i.value=c};return q(async()=>{const{data:c}=await g.fetchBattleInfo({id:y.params.id});e.value=c,i.value=c.player_data,u.on(C.PVP_BATTLE_STAT,U)}),J(()=>{u.off(C.PVP_BATTLE_STAT)}),(c,Ut)=>{const d=Y,V=mt,z=Z,F=tt,K=st;return a(),r("div",ut,[s("div",pt,[t(I)?_("",!0):(a(),r("div",dt,[l(d,{name:"pvp",size:24,class:"tw-mr-2"}),s("span",null,n(t(o)("pvp_battle")),1)])),s("div",bt,[s("div",ht,[t(p)?_("",!0):(a(),r("span",ft,n(t(o)("bet_amount")),1)),s("span",wt,[s("span",yt,n(t(i).bet_amount),1),s("img",{src:("getCurrencyIconUrl"in c?c.getCurrencyIconUrl:t(T))(t(e).battle_currency),alt:t(e).battle_currency},null,8,gt)])]),t(p)?_("",!0):(a(),r("div",vt,[s("span",Et,n(t(o)("spins_left")),1),s("span",xt,[s("span",It,n(t(i).spins_left),1),l(d,{name:"spins",size:16})])])),s("div",kt,[t(e).battle_type==="max_winning"?(a(),r(v,{key:0},[t(p)?_("",!0):(a(),r("span",Ct,n(t(o)("winnings")),1)),s("span",Nt,[s("span",Tt,n(Number(t(i).winnings).toFixed(2)),1),s("img",{src:("getCurrencyIconUrl"in c?c.getCurrencyIconUrl:t(T))(t(e).battle_currency),alt:t(e).battle_currency},null,8,Bt)])],64)):_("",!0),t(e).battle_type==="max_multiplying"?(a(),r(v,{key:1},[s("span",St,n(t(o)("multiplier")),1),s("span",Lt,[s("span",Pt," x"+n(Number(t(i).max_multiplayer).toFixed(1)),1),l(d,{name:"max_multiplying",folder:"pvp",size:24})])],64)):_("",!0),t(e).battle_type==="consecutive_wins"?(a(),r(v,{key:2},[s("span",At,n(t(o)("consecutive_wins")),1),s("span",Dt,[s("span",Yt,n(t(i).max_consecutive_wins),1),l(d,{name:"consecutive_wins",folder:"pvp",size:24})])],64)):_("",!0)])]),l(V,{class:"tw-ml-auto tw-mr-3",battle:t(e)},null,8,["battle"]),l(z,{"is-link":"","color-type":"secondary",link:{name:"battles-lobby-id",params:{id:t(e).link}}},{default:N(()=>[l(d,{name:"stat",size:20})]),_:1},8,["link"])]),l(K,{loading:!t(e).nux_game_id},{default:N(()=>[t(e).nux_game_id?(a(),D(F,{key:0,"game-id":t(e).nux_game_id},null,8,["game-id"])):_("",!0)]),_:1},8,["loading"])])}}}),is=$($t,[["__scopeId","data-v-7672a6df"]]);export{is as default};
