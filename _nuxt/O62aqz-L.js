var Je=Object.defineProperty;var Ze=(e,r,o)=>r in e?Je(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o;var Se=(e,r,o)=>(Ze(e,typeof r!="symbol"?r+"":r,o),o);import{V as le,an as oe,i as q,W as Te,$ as Fe,k as Ne,E as He,o as d,c as R,g as Ue,v as Le,X as t,u as A,x as J,a as m,t as V,f as M,b as D,D as We,Z as ge,a5 as ze,a6 as ce,b3 as Qe,a1 as X,ah as et,ai as tt,al as ot,a2 as he,j as me,l as Oe,a4 as we,_ as nt,a0 as je,p as Ce,n as Ie,K as Ee,aH as at,a9 as Me,b4 as st,aa as rt,ax as de}from"./JoFQSik9.js";import{_ as qe}from"./Cel6GgYv.js";import{_ as Xe}from"./sQNTZNBq.js";import{_ as it}from"./BMBJnSAB.js";import{_ as Ye}from"./ClZaf3ID.js";import{_ as lt}from"./BKAhWZth.js";import{_ as ct}from"./K-WBeQ-v.js";import{g as _e}from"./BZw8aVXh.js";import{_ as ut}from"./BkdEmRM5.js";import{_ as dt}from"./3N86B1rU.js";import{_ as mt}from"./iYoyzWPT.js";import{_ as _t}from"./Cf_ozb67.js";import{u as pt}from"./CkHyjaJP.js";import{u as gt}from"./PP6ET3BF.js";import{u as ft}from"./CXetEtI4.js";var ke={dragStart:!0},ht=(e,r={})=>{let o,c,{bounds:p,axis:h="both",gpuAcceleration:y=!0,legacyTranslate:E=!0,transform:S,applyUserSelectHack:a=!0,disabled:P=!1,ignoreMultitouch:x=!1,recomputeBounds:s=ke,grid:_,position:l,cancel:u,handle:$,defaultClass:g="neodrag",defaultClassDragging:C="neodrag-dragging",defaultClassDragged:i="neodrag-dragged",defaultPosition:G={x:0,y:0},onDragStart:Y,onDrag:Z,onDragEnd:ne}=r,Q=!1,T=0,F=0,z=0,w=0,N=0,ae=0,{x:k,y:O}=l?{x:(l==null?void 0:l.x)??0,y:(l==null?void 0:l.y)??0}:G;ve(k,O);let B,U,j,ee,se,re="",ie=!!l;s={...ke,...s};let v=new Set;const ue=document.body.style,te=e.classList;function ve(n=T,b=F){if(!S){if(E){let L=`${+n}px, ${+b}px`;return pe(e,"transform",y?`translate3d(${L}, 0)`:`translate(${L})`)}return pe(e,"translate",`${+n}px ${+b}px ${y?"1px":""}`)}const I=S({offsetX:n,offsetY:b,rootNode:e});xe(I)&&pe(e,"transform",I)}const be=(n,b)=>{const I={offsetX:T,offsetY:F,rootNode:e,currentNode:se};e.dispatchEvent(new CustomEvent(n,{detail:I})),b==null||b(I)},ye=addEventListener;ye("pointerdown",De,!1),ye("pointerup",Ae,!1),ye("pointermove",Pe,!1),pe(e,"touch-action","none");const Be=()=>{let n=e.offsetWidth/U.width;return isNaN(n)&&(n=1),n};function De(n){if(P||n.button===2)return;if(v.add(n.pointerId),x&&v.size>1)return n.preventDefault();if(s.dragStart&&(B=$e(p,e)),xe($)&&xe(u)&&$===u)throw new Error("`handle` selector can't be same as `cancel` selector");if(te.add(g),j=function(f,W){if(!f)return[W];if(Ge(f))return[f];if(Array.isArray(f))return f;const K=W.querySelectorAll(f);if(K===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(K.values())}($,e),ee=function(f,W){if(!f)return[];if(Ge(f))return[f];if(Array.isArray(f))return f;const K=W.querySelectorAll(f);if(K===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(K.values())}(u,e),o=/(both|x)/.test(h),c=/(both|y)/.test(h),Ve(ee,j))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");const b=n.composedPath()[0];if(!j.some(f=>{var W;return f.contains(b)||((W=f.shadowRoot)==null?void 0:W.contains(b))})||Ve(ee,[b]))return;se=j.length===1?e:j.find(f=>f.contains(b)),Q=!0,U=e.getBoundingClientRect(),a&&(re=ue.userSelect,ue.userSelect="none"),be("neodrag:start",Y);const{clientX:I,clientY:L}=n,H=Be();o&&(z=I-k/H),c&&(w=L-O/H),B&&(N=I-U.left,ae=L-U.top)}function Ae(n){v.delete(n.pointerId),Q&&(s.dragEnd&&(B=$e(p,e)),te.remove(C),te.add(i),a&&(ue.userSelect=re),be("neodrag:end",ne),o&&(z=T),c&&(w=F),Q=!1)}function Pe(n){if(!Q||x&&v.size>1)return;s.drag&&(B=$e(p,e)),te.add(C),n.preventDefault(),U=e.getBoundingClientRect();let b=n.clientX,I=n.clientY;const L=Be();if(B){const H={left:B.left+N,top:B.top+ae,right:B.right+N-U.width,bottom:B.bottom+ae-U.height};b=Re(b,H.left,H.right),I=Re(I,H.top,H.bottom)}if(Array.isArray(_)){let[H,f]=_;if(isNaN(+H)||H<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+f)||f<0)throw new Error("2nd argument of `grid` must be a valid positive number");let W=b-z,K=I-w;[W,K]=wt([H/L,f/L],W,K),b=z+W,I=w+K}o&&(T=Math.round((b-z)*L)),c&&(F=Math.round((I-w)*L)),k=T,O=F,be("neodrag",Z),ve()}return{destroy:()=>{const n=removeEventListener;n("pointerdown",De,!1),n("pointerup",Ae,!1),n("pointermove",Pe,!1)},update:n=>{var I,L;h=n.axis||"both",P=n.disabled??!1,x=n.ignoreMultitouch??!1,$=n.handle,p=n.bounds,s=n.recomputeBounds??ke,u=n.cancel,a=n.applyUserSelectHack??!0,_=n.grid,y=n.gpuAcceleration??!0,E=n.legacyTranslate??!0,S=n.transform;const b=te.contains(i);te.remove(g,i),g=n.defaultClass??"neodrag",C=n.defaultClassDragging??"neodrag-dragging",i=n.defaultClassDragged??"neodrag-dragged",te.add(g),b&&te.add(i),ie&&(k=T=((I=n.position)==null?void 0:I.x)??T,O=F=((L=n.position)==null?void 0:L.y)??F,ve())}}},Re=(e,r,o)=>Math.min(Math.max(e,r),o),xe=e=>typeof e=="string",wt=([e,r],o,c)=>{const p=(h,y)=>y===0?0:Math.ceil(h/y)*y;return[p(o,e),p(c,r)]},Ve=(e,r)=>e.some(o=>r.some(c=>o.contains(c)));function $e(e,r){if(e===void 0)return;if(Ge(e))return e.getBoundingClientRect();if(typeof e=="object"){const{top:c=0,left:p=0,right:h=0,bottom:y=0}=e;return{top:c,right:window.innerWidth-h,bottom:window.innerHeight-y,left:p}}if(e==="parent")return r.parentNode.getBoundingClientRect();const o=document.querySelector(e);if(o===null)throw new Error("The selector provided for bound doesn't exists in the document.");return o.getBoundingClientRect()}var pe=(e,r,o)=>e.style.setProperty(r,o),Ge=e=>e instanceof HTMLElement,vt=class{constructor(e,r={}){Se(this,"_dragInstance");Se(this,"_options",{});this.node=e,this._dragInstance=ht(e,this._options=r)}updateOptions(e){this._dragInstance.update(Object.assign(this._options,e))}set options(e){this._dragInstance.update(this._options=e)}get options(){return this._options}destroy(){this._dragInstance.destroy()}};const bt={class:"casino-game-mobile-menu"},yt={class:"casino-game-mobile-menu-wrapper"},St={class:"casino-game-mobile-menu-heading"},kt={class:"casino-game-mobile-menu-title"},xt={class:"casino-game-mobile-menu-soft"},$t={class:"casino-game-mobile-menu-btn-w"},Ct=le({__name:"CasinoGameMobileMenu",props:{gameName:{},gameSoft:{}},setup(e){const{setGameFullScreen:r}=oe(),o=q(!1),c=q(null),p=q(!1),h=q({x:0,y:0}),y=Te(),E=Fe(),S=()=>{o.value=!o.value,p.value=o.value,We(()=>{a()})},a=()=>{const s=document.querySelector(".draggable"),_=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=20;h.value={x:_/2-u,y:0},c.value=new vt(s,{position:h.value,onDragEnd:({offsetX:$,offsetY:g})=>{setTimeout(()=>{p.value||P($,g,s,_,l)},100)}})},P=(s,_,l,u,$)=>{var G;const g=l.offsetWidth===0?56:l.offsetWidth;let C=s;s>u-g&&(C=u-g),s<0&&(C=0);let i=_>$-g?$-g:_;i<0&&(i=0),(G=c.value)==null||G.updateOptions({position:{x:C,y:i}})},x=()=>{r(!1),E.push(y(ge.main_home))};return Ne(()=>{a(),window.addEventListener("resize",()=>{setTimeout(()=>{p.value=!0,a()},100)})}),He(()=>{var s;(s=c.value)==null||s.destroy()}),(s,_)=>{const l=ze,u=qe;return d(),R("div",bt,[Ue(A(u,{class:"casino-game-mobile-menu-toggler draggable","color-type":"transparent",onClick:S},{default:J(()=>[A(l,{name:"mobile-game-menu-toggler",size:24,color:"white"})]),_:1},512),[[Le,!t(o)]]),Ue(m("div",yt,[m("div",St,[m("div",kt,V(s.gameName),1),m("div",xt,V(s.gameSoft),1)]),m("div",$t,[A(u,{class:"casino-game-mobile-menu-button","color-type":"transparent",onClick:_[0]||(_[0]=$=>x())},{default:J(()=>[A(l,{name:"mobile-game-menu-home",size:40,color:"white"})]),_:1}),t(o)?(d(),M(u,{key:0,class:"casino-game-mobile-menu-button","color-type":"transparent",onClick:_[1]||(_[1]=$=>S())},{default:J(()=>[A(l,{name:"mobile-game-menu-close",size:40,color:"white"})]),_:1})):D("",!0)])],512),[[Le,t(o)]])])}}}),It=ce(Ct,[["__scopeId","data-v-a54e9551"]]),Et=Qe("/img/casino_game_error.png"),Gt=e=>(et("data-v-cff10e1f"),e=e(),tt(),e),Nt={key:0,class:"casino-game-error"},Bt=Gt(()=>m("img",{src:Et},null,-1)),Dt={class:"fg-title-16-fat"},At={class:"fg-main-14-regular tw-text-text-tertiary"},Pt=le({__name:"CasinoGameError",setup(e){const r=oe(),{getGamePageError:o}=X(r);return(c,p)=>{const h=Xe;return t(o)?(d(),R("div",Nt,[Bt,m("div",Dt,V(c.$t(t(o).title)),1),m("div",At,V(c.$t(t(o).description)),1),A(h,{"is-link":!0,"label-key":t(o).buttonText,link:t(o).navigationLink},null,8,["label-key","link"])])):D("",!0)}}}),Ut=ce(Pt,[["__scopeId","data-v-cff10e1f"]]),Lt={class:"favourites-handler"},Mt=le({__name:"FavouritesHandler",props:{gameId:{type:Number,required:!0}},setup(e){const r=ot(),{getObjectList:o}=X(r),{fetchMyFavoritesGames:c,resetActivitiesStore:p}=r,h=oe(),{addGameToFavourites:y,removeGameFromFavourites:E}=h,S=he(),{isLoggedIn:a}=X(S),{setAuthModal:P}=S,x=q({}),s=q(!1),_=e,l=async()=>{x.value={};try{if(s.value){const i=await y(_.gameId);i!=null&&i.status?s.value=!0:s.value=!1}else{const i=await E(_.gameId);i!=null&&i.status?s.value=!1:s.value=!0}}catch(i){i&&typeof i=="object"&&(x.value=i)}},u=async()=>{try{await c({}),await $()}catch(i){i&&typeof i=="object"&&(x.value=i)}},$=()=>{s.value=!!o.value.find(i=>i.game_id===_.gameId)},g=me(()=>a.value?"tw-pointer-events-auto":"tw-pointer-events-none"),C=()=>{a.value||P("signUp")};return Ne(()=>{u()}),Oe(()=>{p()}),(i,G)=>{const Y=it,Z=Ye;return d(),R("div",Lt,[Object.keys(t(x)).length?(d(),M(Y,{key:0,error:t(x),type:"tooltip"},null,8,["error"])):D("",!0),m("div",{class:"action-wrapper",onClick:C},[A(Z,{modelValue:t(s),"onUpdate:modelValue":G[0]||(G[0]=ne=>we(s)?s.value=ne:null),"is-disabled":!t(a),"is-checked":t(s),type:"fav",classes:t(g),onChange:l},null,8,["modelValue","is-disabled","is-checked","classes"])])])}}}),Ke=ce(Mt,[["__scopeId","data-v-8896142a"]]);var fe=(e=>(e.USD="USD",e.EUR="EUR",e))(fe||{});const Rt={key:1,class:"game-lobby"},Vt={class:"tw-flex tw-gap-2 tablet:tw-w-full mobile:tw-w-full"},Tt={key:0},Ft=["src"],Ht={class:"tw-absolute tw-top-0 tw-right-0"},Wt={class:"tw-text-text-tertiary"},zt={class:"tw-text-text-secondary tw-text-nowrap"},Ot={class:"caption selected"},jt=["src","alt"],qt={class:"caption"},Xt=["src","alt"],Yt={key:1,class:"tw-flex tw-gap-2 tablet:tw-w-full mobile:tw-w-full"},Kt=le({__name:"CasinoGameLobby",setup(e){var z;const{t:r}=nt(),o=he(),{isLoggedIn:c}=X(o),{setAuthModal:p}=he(),h=oe(),{startDemoGame:y,startRealGame:E,setGameFullScreen:S}=oe(),{getGameInfo:a,getGamePageError:P}=X(h),x=je(),{isDesktop:s,getIsFullscreenGameMode:_,isMultiBalance:l}=X(x),u=q(!1),$=()=>{u.value=!0},g=q(((z=a==null?void 0:a.value)==null?void 0:z.allowed_currencies[0])??""),C=q(fe.USD),i=[{key:fe.USD,label:"USD",img:_e("USD")},{key:fe.EUR,label:"EUR",img:_e("EUR")}],G=()=>{We(()=>{const w=!s.value||_.value;S(w)})},Y=me(()=>l.value?g.value:C.value),Z=async()=>{try{await E(Y.value),G()}catch(w){console.error("CasinoGameLobby.vue: ",w)}},ne=()=>{y(),G()},Q=me(()=>{var w;return(w=a==null?void 0:a.value)==null?void 0:w.demo});Ce(()=>c.value,()=>F());const{fetchGameInfo:T}=h,F=async()=>{var w;if((w=a==null?void 0:a.value)!=null&&w.gameId)try{await T(a.value.gameId)}catch(N){console.error("updateGameInfo CasinoGamePage/CasinoGameLobby.vue",N)}};return(w,N)=>{var j,ee,se,re,ie;const ae=Ut,k=Ke,O=lt,B=ct,U=Xe;return t(P)?(d(),M(ae,{key:0})):(d(),R("div",Rt,[m("div",Vt,[!t(s)&&((j=t(a))!=null&&j.banner_vertical)&&!t(u)?(d(),R("div",Tt,[m("img",{src:(ee=t(a))==null?void 0:ee.banner_vertical,alt:"game-banner",onerror:$},null,8,Ft)])):D("",!0),t(a)?(d(),R("div",{key:1,class:Ie(["game-lobby__body",{"tablet:tw-items-start":!t(u),"tablet:tw-items-center":t(u),"mobile:tw-items-start":!t(u),"mobile:tw-items-center":t(u)}])},[m("div",Ht,[t(s)?D("",!0):(d(),M(k,{key:0,"game-id":t(a).gameId},null,8,["game-id"]))]),m("span",null,V(t(a).name),1),m("span",Wt,V(t(a).soft),1)],2)):D("",!0)]),(((se=t(a))==null?void 0:se.allowed_currencies.length)??!1)&&t(c)?(d(),R("div",{key:0,class:Ie(["tw-grid tw-grid-cols-2 tw-gap-2 tw-items-center tw-text-right tw-text-text-secondary mobile:tw-w-full tablet:tw-w-full",{"single-balance-wrap":!t(l)}])},[m("span",zt,V(t(r)("display_balance_in"))+":",1),t(l)?(d(),M(O,{key:0,modelValue:t(g),"onUpdate:modelValue":N[0]||(N[0]=v=>we(g)?g.value=v:null),"item-list":(re=t(a))==null?void 0:re.allowed_currencies,"default-option":(ie=t(a))==null?void 0:ie.allowed_currencies[0],class:"currencies-selector"},{"selected-option":J(({props:v})=>[m("div",Ot,[m("img",{src:t(_e)(v),alt:v,class:"currIcon"},null,8,jt),Ee(" "+V(v),1)])]),option:J(({props:v})=>[m("div",qt,[m("img",{src:t(_e)(v),alt:v,class:"currIcon"},null,8,Xt),Ee(" "+V(v),1)])]),_:1},8,["modelValue","item-list","default-option"])):(d(),M(B,{key:1,modelValue:t(C),"onUpdate:modelValue":N[1]||(N[1]=v=>we(C)?C.value=v:null),class:"single-currency","tab-without-translate":"",tabs:i,type:"default"},null,8,["modelValue"]))],2)):D("",!0),t(P)?D("",!0):(d(),R("div",Yt,[t(c)?(d(),M(U,{key:0,class:"tablet:tw-w-full mobile:tw-w-full","label-key":"play_now",onClick:Z})):(d(),M(U,{key:1,class:"tablet:tw-w-full mobile:tw-w-full","label-key":"join_now",onClick:N[2]||(N[2]=v=>t(p)("signUp"))})),t(Q)?(d(),M(U,{key:2,class:"tablet:tw-w-full mobile:tw-w-full","label-key":"play_demo","color-type":"outline",onClick:ne})):D("",!0)]))]))}}}),Jt=ce(Kt,[["__scopeId","data-v-7cde6612"]]),Zt={class:"game-bottom-panel"},Qt={key:0,class:"tw-flex tw-gap-2 tw-items-center fg-title-16-fat"},eo={class:"tw-text-text-tertiary"},to={key:1,class:"tw-flex tw-items-center tw-gap-4"},oo={class:"tw-flex tw-items-center tw-gap-2"},no={class:"tw-text-text-primary"},ao={class:"tw-text-text-primary"},so=le({__name:"CasinoGameBottomPanel",setup(e){const r=oe(),{getGameInfo:o,getGameSrc:c,getIsRealPlay:p}=X(r),{setGameFullScreen:h,setIsRealPlay:y}=oe(),E=me({get(){return p.value},set(S){y(S)}});return(S,a)=>{const P=Ke,x=Ye,s=ze,_=qe;return d(),R("div",Zt,[t(o)?(d(),R("div",Qt,[A(P,{"game-id":t(o).gameId},null,8,["game-id"]),m("span",null,[Ee(V(t(o).name)+" ",1),m("span",eo,V(t(o).soft),1)])])):D("",!0),t(c)?(d(),R("div",to,[m("div",oo,[m("span",no,V(S.$t("fun_play")),1),A(x,{modelValue:t(E),"onUpdate:modelValue":a[0]||(a[0]=l=>we(E)?E.value=l:null)},null,8,["modelValue"]),m("span",ao,V(S.$t("real_play")),1)]),A(_,{"color-type":"transparent",onClick:a[1]||(a[1]=l=>t(h)(!0))},{default:J(()=>[A(s,{name:"full-screen",width:18,height:18})]),_:1})])):D("",!0)])}}}),ro=ce(so,[["__scopeId","data-v-0a838243"]]),io={class:"tw-relative"},lo={class:"tw-h-[70vh]"},co=["src"],uo={key:2,class:"tw-my-8"},mo=le({__name:"CasinoGamePage",props:{gameId:{type:Number,required:!0}},async setup(e){let r,o;const c=e,p=Fe(),h=he(),y=je(),E=Te(),S=oe(),{$emitter:a}=rt(),{setBreadcrumbs:P}=pt(),{setGameFullScreen:x,fetchGameInfo:s,setGameSrc:_,startDemoGame:l,setGamePageError:u,setExitUrl:$}=S,{getGameSrc:g,getIsGameFullScreen:C,getGameLoading:i,getGameInfo:G,getGameName:Y,getSimilarGames:Z,getIsRealPlay:ne,getExitUrl:Q}=X(S),{isDesktop:T}=X(y),{isLoggedIn:F}=X(h),z=q(null),w=me(()=>({mobileSmall:de.mobileSmall,mobile:de.mobile-32,mobileLarge:de.mobileLarge-32,tablet:de.tablet-32,desktop:de.desktop-32})),N=k=>{k.origin,Q.value},ae=()=>{try{window==null||window.addEventListener("message",N)}catch(k){console.error(k)}};return[r,o]=at(async()=>ft(async()=>{var k,O;try{await s(c.gameId),(O=(k=G.value)==null?void 0:k.hover)!=null&&O.show?u({title:"error",description:`sorry_${G.value.hover.reason}_title`,navigationLink:ge.main_home,buttonText:"go_to_home"}):u(null)}catch{u({title:"error",description:"game_not_found",navigationLink:ge.main_home,buttonText:"go_to_home"})}},"$SVzJnVCWkE")),await r,o(),P([{label:"Casino",path:"/casino"},{label:Y.value}]),Ne(()=>{_(""),$(window.location.origin),a.on(Me.BONUS_WAGERING_CHANGED,()=>{st()})}),He(()=>{a.off(Me.BONUS_WAGERING_CHANGED)}),Oe(()=>{x(!1)}),Ce(F,k=>{k||p.push(E({path:ge.main_home}))}),Ce(ne,k=>{k?_(""):l()}),gt({title:Y.value}),(k,O)=>{const B=It,U=Jt,j=ro,ee=ut,se=dt,re=mt,ie=_t;return d(),M(ie,{loading:t(i)},{default:J(()=>{var v;return[m("div",io,[t(C)&&t(g)?(d(),M(B,{key:0,"game-name":t(Y),"game-soft":((v=t(G))==null?void 0:v.soft)??"","game-loading":!1,class:"tw-hidden mobile:tw-flex tw-relative tw-z-[115]"},null,8,["game-name","game-soft"])):D("",!0),m("div",lo,[t(g)?(d(),R("iframe",{key:1,ref_key:"iframe",ref:z,class:Ie({"game-fullscreen":t(C)}),src:t(g),allowfullscreen:!0,frameborder:"0",height:"100%",width:"100%",onLoad:ae},null,42,co)):(d(),M(U,{key:0,class:"desktop:tw-h-full"}))]),t(T)?(d(),M(j,{key:1})):D("",!0),t(Z).length>0?(d(),R("section",uo,[A(re,{list:t(Z),"slider-id":"slider-similar-games",class:"game-slider","is-navigation":!0,"slider-settings":{breakpointsBase:"container",slidesPerView:6,breakpoints:{[t(w).mobileSmall]:{slidesPerView:2,spaceBetween:10},[t(w).mobileLarge]:{slidesPerView:3,spaceBetween:10},[t(w).tablet]:{slidesPerView:4,spaceBetween:10},[t(w).desktop]:{slidesPerView:7,spaceBetween:10}}}},{header:J(()=>[A(ee,{"is-navigation":!0,"title-key":"similar_games","title-icon":"virtual-sport"})]),item:J(({item:ue})=>[A(se,{game:ue},null,8,["game"])]),_:1},8,["list","slider-settings"])])):D("",!0)])]}),_:1},8,["loading"])}}}),Go=ce(mo,[["__scopeId","data-v-5246faf4"]]);export{Go as _};
