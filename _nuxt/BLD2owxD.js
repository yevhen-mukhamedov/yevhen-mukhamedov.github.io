import{_ as V}from"./sQNTZNBq.js";import{V as I,W as K,$ as W,j as S,c as v,a as d,X as l,b as E,f as G,o as u,bq as j,a1 as b,a2 as x,a0 as Z,i as P,U as q,Z as z,k as B,a9 as C,b4 as X,p as $,E as F,aa as J}from"./JoFQSik9.js";import{u as Q}from"./CXetEtI4.js";const Y={class:"game-error"},ee=["alt"],te=["innerHTML"],ne=["innerHTML"],ae=I({__name:"GameError",props:{gameError:{}},setup(s){const g=K(),m=W(),o=s,h=`/img/game-error/${o.gameError.icon}.png`,i=S(()=>{const t=/<[^>]*>/g,n=o.gameError.msg.match(/<p.*?>(.*?)<\/p>/g);return n&&n.length>1?{title:n[0].replace(t,""),description:n[1].replace(t,"")}:{title:o.gameError.msg,description:""}}),_=t=>{m.push(g({path:t}))};return(t,n)=>{const c=V;return u(),v("section",Y,[d("img",{class:"game-error-icon",src:h,alt:t.gameError.icon+"icon"},null,8,ee),d("h3",{class:"game-error-title",innerHTML:l(i).title},null,8,te),l(i).description.length?(u(),v("p",{key:0,class:"game-error-text",innerHTML:l(i).description},null,8,ne)):E("",!0),t.gameError.button?(u(),G(c,{key:1,"label-key":t.gameError.button.text,class:"game-error-btn",onClick:n[0]||(n[0]=O=>_(t.gameError.button.path))},null,8,["label-key"])):E("",!0)])}}});var H=(s=>(s.CASINO_GAME="casino",s.SPORT_BOOK="sport-book",s.TIMER="timer",s))(H||{});const se={class:"ng-sportbook"},re=d("div",{id:"ng-betby-content"},null,-1),oe=[re],ue=I({__name:"index",setup(s){const g=j(),{$emitter:m}=J(),{getSportBook:o,getSportToken:h}=b(g),{fetchSportUrl:i,fetchSportToken:_,resetSportPageStore:t}=g,n=x(),{isLoggedIn:c,tokenChanging:O}=b(n),{setAuthModal:R}=x(),L=Z(),{isDesktop:f,isChatOpened:y}=b(L),T=P(),r=P(),p=q({msg:"",status:!1,icon:H.SPORT_BOOK,button:{text:"Back to Home",path:z.main_home}});B(()=>{m.on(C.BONUS_WAGERING_CHANGED,()=>{X()})});const A=async()=>{w();try{await i(),window.BTRenderer?N(o.value):U(o.value)}catch(e){if(console.error("callSportPageAction sportbook/index.vue",e),e&&(e!=null&&e.msg)){const{msg:a}=e;p.msg=a,p.status=!0}}},U=e=>{if(e){const a=document.createElement("script");a.setAttribute("src",e.jsUrl),a.setAttribute("id","ng-betby-script"),T.value.appendChild(a),a.onload=()=>N(e)}},N=e=>{e&&(r.value=new window.BTRenderer().initialize({target:document.getElementById("ng-betby-content"),themeName:e==null?void 0:e.theme,brand_id:e==null?void 0:e.brandId,token:e==null?void 0:e.token,lang:e==null?void 0:e.lang,betSlipOffsetBottom:k.value,betSlipOffsetRight:M.value,betSlipOffsetTop:0,betslipZIndex:1,stickyTop:0,onTokenExpired:async()=>{c.value&&await _().then(()=>h.value)},onSessionRefresh:async()=>{await A()},onRecharge:()=>{c.value},onRegister:()=>{R("signUp")},onLogin:()=>{R("signIn")}}))},w=()=>{var e;!r.value||!window.BTRenderer||(e=r.value)==null||e.kill()},M=S(()=>f.value&&y.value?360:0);$(()=>y.value,()=>{r.value&&r.value.updateOptions({betSlipOffsetRight:M.value})});const k=S(()=>f.value?0:58);return $(()=>f.value,()=>{r.value&&r.value.updateOptions({betSlipOffsetBottom:f.value?0:58})}),Q("callSportPageAction",async()=>await A(),{watch:[c,O]}),F(()=>{m.off(C.BONUS_WAGERING_CHANGED),w(),t()}),(e,a)=>{const D=ae;return u(),v("div",se,[d("div",{ref_key:"sportbookRef",ref:T},oe,512),l(p).status?(u(),G(D,{key:0,"game-error":l(p)},null,8,["game-error"])):E("",!0)])}}});export{ue as default};
