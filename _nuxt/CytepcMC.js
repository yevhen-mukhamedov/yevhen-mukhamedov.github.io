const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DrrPB9Xd.js","./7PQ9d4dP.js","./entry.ipf8rPRR.css","./CML6iTNl.js","./CXUEa_s4.js","./BQWyzQZp.js","./D0WEjs_T.js","./NgPagination.COMHEeIS.css","./Withdraw.BwZ5u5CT.css","./UCCBr-NG.js","./useAnalytics.xIThTRVD.css","./ProductModal.Bdz0lI0T.css","./ZLuHFUuX.js","./DqC-nx6a.js","./DD170oM2.js","./D4aeT6U_.js","./NgPhoneNumberNew.D-dRI1gr.css","./ProductBuyModal.CQa1zS1Y.css","./B4arS3F0.js","./ProductSuccessModal.Ts5tetgA.css"])))=>i.map(i=>d[i]);
import{d as H,L as rt,a as U,a7 as j,j as q,s as N,H as V,o as a,c as u,e as p,b as h,g as e,t as w,i as l,B as S,p as it,A as K,_ as X,aN as pt,a0 as i,aq as z,F as dt,a1 as ut,C as G,U as _t,b2 as mt,q as x,V as ht,at as gt,v as R}from"./7PQ9d4dP.js";import{_ as ft}from"./CwMDRuuH.js";import{_ as yt,C as P,a as vt,M as bt}from"./D5X7BfX4.js";import{u as Ct}from"./D0WEjs_T.js";import"./DqC-nx6a.js";import"./BQWyzQZp.js";import"./DD170oM2.js";import"./C3H6epDl.js";import"./CXUEa_s4.js";import"./DPPwigSW.js";const wt={class:"shop-card"},St={class:"shop-card-img-wrapper"},Mt={class:"shop-card-badges fg-main-12-bold"},kt={key:0,class:"shop-card-badge shop-card-badge--new"},Lt={key:1,class:"shop-card-badge shop-card-badge--sale"},Ot={class:"shop-card-info"},It={class:"tw-flex tw-items-center tw-justify-between tw-mt-auto"},Nt={class:"tw-flex tw-items-center"},Tt={class:"tw-flex tw-flex-col tw-ml-2"},$t={key:0,class:"shop-card-price"},At={class:"fg-title-16-bold"},Et=H({__name:"CardShop",props:{product:{}},emits:["openModal"],setup(n,{emit:M}){const{platformCommasFormat:k}=rt(),L=["0f0b84f4-bf49-417e-bf4d-4fad0cbcb289","8213223e-e1e4-4e0b-8046-03b7a6b1ede7"],g=M,b=n,{t:O}=U(),T=j(),I=q(),{isLoggedIn:$}=N(T),{isHideSingInBtn:A,isHideRegistrationBtn:E}=N(I),f=V(()=>$.value?O("buy_now"):O("join_now")),c=V(()=>b.product.tags.find(s=>s.class==="sale")),_=V(()=>b.product.tags.find(s=>s.class==="new")),d=()=>{g("openModal",b.product)};return(s,y)=>{const m=it,r=K;return a(),u("div",wt,[p("div",St,[h(m,{src:s.product.banner,alt:`shop-card ${s.product.name}`,class:"img",onClick:d},null,8,["src","alt"]),p("div",Mt,[e(_)?(a(),u("div",kt,w(s.$t("new").toLocaleUpperCase()),1)):l("",!0),e(c)?(a(),u("div",Lt,w(s.$t("sale").toLocaleUpperCase()),1)):l("",!0)])]),p("div",Ot,[p("h3",{class:"shop-card-title fg-text-14-fat",onClick:d},w(s.product.name),1),p("div",It,[p("div",Nt,[h(m,{src:"/img/GEM.png",alt:"gem"}),p("p",Tt,[s.product.discount?(a(),u("span",$t,w(e(k)(L,s.product.price,".",!0)),1)):l("",!0),p("span",At,w(e(k)(L,s.product.total,".",!0)),1)])]),e(A)&&e(E)?l("",!0):(a(),S(r,{key:0,"label-key":e(f),onClick:d},null,8,["label-key"]))])])])}}}),Bt=X(Et,[["__scopeId","data-v-d95229cb"]]),Vt=x(()=>R(()=>import("./DrrPB9Xd.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url).then(n=>n.default||n)),Pt=x(()=>R(()=>import("./ZLuHFUuX.js"),__vite__mapDeps([12,13,1,2,5,14,15,16,4,6,7,9,10,17]),import.meta.url).then(n=>n.default||n)),xt=x(()=>R(()=>import("./B4arS3F0.js"),__vite__mapDeps([18,1,2,9,6,10,19]),import.meta.url).then(n=>n.default||n)),Rt={class:"shop"},Dt={key:0,class:"tw-flex tw-flex-col tw-gap-2 tw-mt-4"},Ft={key:0,class:"shop-pagination"},zt=12,Gt=H({__name:"shop",setup(n){const M=j(),k=pt(),L=q(),{t:g}=U(),{setAuthModal:b}=M,{fetchProducts:O,fetchFilters:T}=k,{isLoggedIn:I}=N(M),{isChatOpened:$,isMenuOpened:A}=N(L),E=i(1),f=i(!1),c=i({order:"order",order_dir:"asc",category_ids:[],search:"",limit:zt}),_=i([]),d=i(null),s=i([]),y=i(null),m=i(null),r=i(null),J=async()=>{const o={...c.value,"category_ids[]":[...c.value.category_ids].filter(t=>t!==0)};delete o.category_ids;try{const t=await O(o);s.value=t.products,r.value=t.pagination}catch(t){console.error("shopGetDataCallAction pages/shop.vue",t)}},Q=async()=>{try{y.value=await T(),W()}catch(o){console.error("shopFiltersCallAction pages/shop.vue",o)}},D=()=>y.value.order_fields.map(o=>({label:g(o.label),data:o.data})),W=()=>{var o,t;if(_.value=[{target:"search",componentName:P.SEARCH_INPUT,props:{classes:"tw-col-span-4",modelValue:"",placeholderText:g("search"),isRequired:!0},mobile:{class:"tw-col-span-6"},leftIcon:{name:"search",size:20}}],(o=y.value)!=null&&o.categories.length){const C=[...y.value.categories];_.value.push({target:"category",componentName:P.MULTI_SELECTOR,props:{modelValue:[0],itemList:C,displayedOption:"name",returnedOption:"id",trackOption:"id",isSearchable:!0,isOptionSearchable:!0,isCloseOnSelected:!1,classList:"categories-list"},mobile:{redirect:!0},counted:{titleKey:"category"},optionsType:vt.TOGGLER_CHECKBOX})}(t=y.value)!=null&&t.order_fields.length&&_.value.push({target:"orders",componentName:P.SINGLE_SELECTOR,props:{modelValue:"",displayedOption:"label",returnedOption:"data",additionalLabel:`${g("sort_by")}:`,defaultOption:D()[0],itemList:D()},mobile:{redirect:!0}})},F=o=>{const t=o.orders,C=o.search?String(o.search):"",B=o.category;c.value={...c.value,category_ids:B,search:C,...t}},Y=o=>{if(I.value)d.value=o.id;else{const{nameModal:t}=Ct();t&&b(t)}},Z=o=>{m.value=o},tt=()=>{const o=Number(E.value)+1,t=c.value.limit*o;c.value={...c.value,limit:t}};return z("getShopData",async()=>await J(),{watch:[I,c]}),z("shopFiltersCallAction",async()=>await Q()),dt({title:g("shop")}),(o,t)=>{const C=ft,B=yt,et=Bt,ot=ht,st=K,at=gt,nt=Vt,lt=Pt,ct=xt;return a(),u("div",Rt,[h(C,{class:"tw-font-bold","icon-name":"shop","title-key":"shop"}),e(_).length?(a(),u("div",Dt,[h(B,{list:e(_),"mobile-settings":{type:("MobileVersionType"in o?o.MobileVersionType:e(bt)).ACCORDION,style:{accordionContainerClass:"shop-filter-accordion"}},"order-settings":{gridCols:6},onChange:F,onInput:F},null,8,["list","mobile-settings"])])):l("",!0),e(s).length?(a(),u(ut,{key:1},[p("div",{class:_t([{"shop-list-chat":e($),"shop-list-menu":e(A)},"shop-list"])},[h(ot,{container:!1,list:e(s),"key-name":"shop-list"},{item:G(({item:v})=>[h(et,{product:v,onOpenModal:Y},null,8,["product"])]),_:1},8,["list"])],2),e(r)&&e(s).length?(a(),u("div",Ft,[e(r).next_page?(a(),S(at,{key:0,item:{total:e(r).total,total_pages:e(r).total,page:e(r).per_page},"item-count":e(r).count},mt({_:2},[e(r).next_page?{name:"action",fn:G(()=>[h(st,{"color-type":"outline","label-key":"show_more",onClick:tt})]),key:"0"}:void 0]),1032,["item","item-count"])):l("",!0)])):l("",!0)],64)):l("",!0),e(d)?(a(),S(nt,{key:2,id:e(d),onClose:t[0]||(t[0]=v=>d.value=null),onSuccess:t[1]||(t[1]=v=>f.value=!0),onOpenBuyModal:Z},null,8,["id"])):l("",!0),e(m)?(a(),S(lt,{key:3,product:e(m),onClose:t[2]||(t[2]=v=>m.value=null),onSuccess:t[3]||(t[3]=v=>f.value=!0)},null,8,["product"])):l("",!0),e(f)?(a(),S(ct,{key:4,onClose:t[4]||(t[4]=v=>f.value=!1)})):l("",!0)])}}}),Zt=X(Gt,[["__scopeId","data-v-2d86dbea"]]);export{Zt as default};
