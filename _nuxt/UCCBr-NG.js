var O=Object.defineProperty;var P=(o,a,e)=>a in o?O(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e;var l=(o,a,e)=>P(o,typeof a!="symbol"?a+"":a,e);import{d as z,u as R,j as N,a as F,a0 as y,k as T,o as d,B as A,C as J,b8 as U,g as $,c as M,e as c,i as k,b as j,U as w,r as b,t as S,p as D,h as V,a4 as W,_ as H,aa as Y,s as x,aX as G}from"./7PQ9d4dP.js";import{v as X}from"./D0WEjs_T.js";const q={class:"ng-modal-banner"},K={class:"ng-modal-main"},Q={class:"tw-grow"},Z={class:"ng-modal-body"},ee={class:"ng-modal-content"},te={key:0,class:"ng-modal-footer"},oe=300,ae=z({__name:"NgModal",props:{withoutBg:{type:Boolean,default:!1},isCloseButton:{type:Boolean,default:!0},closeIconSize:{default:"16"},modalWidth:{default:"94vw"},modalMaxWidth:{default:"360px"},isFooter:{type:Boolean,default:!1},modalId:{default:X()},withoutHeader:{type:Boolean,default:!1},bannerUrl:{},fullscreenMode:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},manual:{type:Boolean,default:!1},position:{default:"default"}},emits:["close","mainAction"],setup(o,{emit:a}){R(s=>({"32dad3f9":e.modalWidth,"71ce1faf":e.modalMaxWidth}));const e=o,t=a,n=N(),{pushOpenedModals:r,shiftOpenedModals:i}=n,{t:m}=F(),p=y(!1),f=()=>{p.value=!1,setTimeout(()=>{i(),t("close")},oe)};return T(()=>{e.manual||r(e.modalId),p.value=!0}),(s,v)=>{const _=D,C=V,L=W;return d(),A(U,null,{default:J(()=>[$(p)?(d(),M("div",{key:0,class:w([[`pin-${s.position}`],"ng-modal"])},[c("div",{class:"ng-modal-mask",onClick:f}),c("div",{class:w(["ng-modal-container",{"with-banner":s.bannerUrl,"ng-modal-container--fullscreen":s.fullscreenMode}])},[c("div",q,[s.bannerUrl?(d(),A(_,{key:0,src:s.bannerUrl,alt:"modal banner"},null,8,["src"])):k("",!0)]),c("div",K,[s.isCloseButton?(d(),M("button",{key:0,class:"ng-modal-close",onClick:f},[j(C,{size:Number(s.closeIconSize),name:"close"},null,8,["size"])])):k("",!0),s.withoutHeader?k("",!0):(d(),M("div",{key:1,class:w([{"ng-modal-header--without-bg":s.withoutBg},"ng-modal-header"])},[c("div",Q,[b(s.$slots,"title",{},void 0,!0)])],2)),c("div",Z,[c("div",ee,[b(s.$slots,"error",{},void 0,!0),s.loading?(d(),A(L,{key:0,class:"ng-modal-preloader",loading:""})):b(s.$slots,"content",{key:1},()=>[c("div",null,S($(m)("highlights"))+S($(m)("modal_done")),1)],!0)]),s.isFooter?(d(),M("div",te,[b(s.$slots,"footer",{},()=>[c("button",{onClick:f},S($(m)("modal_cancel")),1),c("button",{onClick:v[0]||(v[0]=re=>t("mainAction"))},S($(m)("ok")),1)],!0)])):k("",!0)])])],2)],2)):k("",!0)]),_:3})}}}),de=H(ae,[["__scopeId","data-v-af50888d"]]);var u=(o=>(o.click="click",o.pageEnter="pageEnter",o.pageLeave="pageLeave",o.logout="logout",o.login="login",o))(u||{}),h=(o=>(o.event="event",o.config="config",o))(h||{}),g=(o=>(o.trackCustom="trackCustom",o.track="track",o))(g||{});const B="noemail@nux.com",I="data-analytic";class E{constructor(a){l(this,"router");this.router=a}handleClick(a){var i;const e=a.target,t=e.getAttribute(I)??((i=e.closest(`[${I}]`))==null?void 0:i.getAttribute(I));if(!t)return;const[n,r]=t.split("-");this.onClick(r,{category:n})}handleRouteChange(a,e){this.leavePage(e),this.enterPage(a)}}class se extends E{constructor(){super(...arguments);l(this,"$analytic",window.gtag);l(this,"errorMessage","Google Analytics is not initialized")}initAnalytics(){if(!this.$analytic){console.error(this.errorMessage);return}this.router.afterEach((e,t)=>{this.handleRouteChange(e.name,t.name)}),document.addEventListener("click",e=>this.handleClick(e))}enterPage(e){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(h.event,u.pageEnter,{pageName:e})}leavePage(e){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(h.event,u.pageLeave,{pageName:e})}onClick(e,t){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(h.event,u.click,{event:e,data:JSON.stringify(t)})}loginSuccess(e,t={}){if(!this.$analytic){console.error(this.errorMessage);return}const{main_user:n,email:r}=e,i={memberId:n,email:r||B,customFields:JSON.stringify(t)};this.$analytic(h.event,u.login,i)}logoutSuccess(){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(h.event,u.logout)}emitEvent(e,t={}){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(h.event,e,{data:t})}}class ne extends E{constructor(e,t){super(e);l(this,"$analytic",window.$solitics);l(this,"errorMessage","Solttics is not initialized");l(this,"mainStore",N());l(this,"options");this.options=t}initAnalytics(){if(!this.$analytic){console.error(this.errorMessage);return}this.router.afterEach((e,t)=>{this.handleRouteChange(e.name,t.name)}),document.addEventListener("click",e=>this.handleClick(e))}enterPage(e){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic.onPageEnter(e)}leavePage(e){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic.onPageLeave(e)}onClick(e,t){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic.onClick(e,JSON.stringify(t))}loginSuccess(e,t={}){if(!this.$analytic){console.error(this.errorMessage);return}const{main_user:n,email:r}=e,i={popupToken:this.options.popupToken,brand:this.options.brand,branch:this.options.branch,memberId:n,email:r||B,customFields:JSON.stringify(t)};this.$analytic.loginSuccess(i)}logoutSuccess(){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic.onLogout()}emitEvent(e,t={}){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic.emit(e,null,JSON.stringify(t))}}class ie extends E{constructor(){super(...arguments);l(this,"$analytic",window.fbq);l(this,"errorMessage","Facebook Pixel is not initialized")}initAnalytics(){if(!this.$analytic){console.error(this.errorMessage);return}this.router.afterEach((e,t)=>{this.handleRouteChange(e.name,t.name)}),document.addEventListener("click",e=>this.handleClick(e))}enterPage(e){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(g.trackCustom,u.pageEnter,{pageName:e})}leavePage(e){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(g.trackCustom,u.pageLeave,{pageName:e})}onClick(e,t){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(g.trackCustom,e,t)}loginSuccess(e,t={}){if(!this.$analytic){console.error(this.errorMessage);return}const{main_user:n,email:r}=e,i={memberId:n,email:r||B,customFields:JSON.stringify(t)};this.$analytic(g.trackCustom,u.login,i)}logoutSuccess(){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(g.trackCustom,u.logout,{})}emitEvent(e,t={}){if(!this.$analytic){console.error(this.errorMessage);return}this.$analytic(g.trackCustom,e,JSON.stringify(t))}}const he=()=>{var _,C;const o=N(),a=Y(),{getAnalyticsEvents:e,isSolitics:t,getSoliticCrmBranch:n,getSoliticCrmToken:r}=x(o),i=y((_=e.value)==null?void 0:_.google_analytics_id),m=y((C=e.value)==null?void 0:C.facebook_pixel_id),p=G({popupToken:n.value,brand:n.value,branch:r.value}),f=y(),s=y(),v=y();return T(()=>{f.value=i.value?new se(a):void 0,s.value=m.value?new ie(a):void 0,v.value=t.value?new ne(a,p):void 0}),{googleAnalytic:f,facebookAnalytic:s,soliticAnalytic:v}};export{de as _,he as u};
