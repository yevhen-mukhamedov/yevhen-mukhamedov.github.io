import{_ as ke}from"./BKAhWZth.js";import{V as oe,_ as ae,f as c,u as g,x as p,T as ve,o as r,K as ge,t as u,X as o,a as s,W as be,$ as we,a0 as Ve,a1 as Ce,a2 as Se,i as S,j as v,c as x,b as m,a3 as $e,Z as qe,a4 as Ue,a5 as Me,a6 as xe}from"./JoFQSik9.js";import{u as Pe,_ as Le}from"./DiZsDeCV.js";import{_ as Be}from"./B92FZ1g3.js";import{_ as Ie}from"./C87lQMtF.js";import{c as te,_ as Te}from"./RGGkZJYr.js";import{_ as De}from"./DTX8-FfK.js";import{_ as Fe}from"./1-N0yLDQ.js";import{_ as Oe}from"./sQNTZNBq.js";import{F as Ae}from"./BM2BYuY2.js";import{_ as ze}from"./Bcnv4IFf.js";import{u as je}from"./CXetEtI4.js";import"./D8aEg3BZ.js";import"./56Y_7FHu.js";import"./Cf_ozb67.js";const Ee={class:"tw-flex tw-justify-center tw-items-center tw-p-4"},Ge={class:"tw-text-base"},Re=oe({__name:"AffiliateSuccessModal",props:{title:{},description:{}},emits:["close"],setup(se,{emit:f}){const $=f,{t:q}=ae();return(h,b)=>{const d=ze;return r(),c(ve,{to:"#globalModal"},[g(d,{"modal-max-width":"384px","modal-width":"100%",onClose:b[0]||(b[0]=U=>$("close"))},{title:p(()=>[ge(u(o(q)(h.title)),1)]),content:p(()=>[s("div",Ee,[s("p",Ge,u(h.description),1)])]),_:1})])}}}),Ke={class:"affiliate"},We={class:"affiliate-wrapper"},Xe={class:"affiliate-title"},Ze={class:"affiliate-form"},He={key:0},Je={class:"selected-option"},Qe={class:"simple-option"},Ye={class:"simple-option-value"},et={class:"simple-option-label"},tt={class:"simple-option-name"},ot={class:"simple-option"},at={class:"simple-option-value"},st={class:"selected-option"},it={class:"simple-option"},lt={class:"simple-option-value"},nt={class:"simple-option-label"},rt={class:"simple-option-name"},dt={class:"simple-option"},mt={class:"simple-option-value"},ct={class:"selected-option"},ut={class:"simple-option"},pt={class:"simple-option-value"},_t={class:"simple-option-label"},ft={class:"simple-option-name"},ht={class:"simple-option"},yt={class:"simple-option-value"},Nt={key:0},kt=oe({__name:"affiliate-network",setup(se){var B,I,T,D,F;const{t:f}=ae(),$=be(),q=we(),h=new Map(te.map(t=>[t.iso2,t])),b=Ve(),{globalData:d,getCountryCode:U}=Ce(b),ie=Se(),{sendAffiliate:le}=ie,w=S(!1),y=S({title:"Success",description:""}),ne=v(()=>{var i;const t=((i=U.value)==null?void 0:i.toLowerCase())??"",n=h.get(t)??null;return n?n==null?void 0:n.phone_code:""}),re=v(()=>{var i;const t=((i=U.value)==null?void 0:i.toLowerCase())??"";return h.get(t)??null??null}),l=S({want_join_membership:!1,bank_account_number:"",agreement:!0,account_holder_name:"",bank_name:"",name:"",phone_code:ne.value,surname:"",email:"",birthday:"",telegram:"",country_code:((B=re.value)==null?void 0:B.iso2.toLowerCase())??"",city:"",currency:"",address:"",zip_code:"",player_code:"",phone:"",ref_code:"",affiliate_system_code:"",affiliate_system_token:"",affiliate_BO_Link:((T=(I=d.value.affiliate_form_settings)==null?void 0:I.affiliate_BO_Link)==null?void 0:T.default)??"link",affiliate_bo_link:((F=(D=d.value.affiliate_form_settings)==null?void 0:D.affiliate_BO_Link)==null?void 0:F.default)??"link",password:""}),P=S({}),V=v({get:()=>{var t,n,i;return h.get(((i=(n=(t=d.value.affiliate_form_settings)==null?void 0:t.country_code)==null?void 0:n.default)==null?void 0:i.toLowerCase())??"")??null},set:t=>{l.value={...l.value,country_code:(t==null?void 0:t.iso2.toUpperCase())??""}}}),de=({phoneCode:t,phone:n})=>{l.value.phone=t+n,l.value.phone_code=t},M=v(()=>Object.entries(P.value).map(([t,n])=>{let i="NgInputText",_=f("error"),C="text";switch(t){case"bank_name":_=f("bank_name_should_be_valid"),i="NgSingleSelector";break;case"commission_plan":i="NGCommissionPlanSelector";break;case"payout_method":i="NGPayoutMethodSelector";break;case"email":_=f("email_should_be_valid"),C="email";break;case"password":i="NgInputPassword";break;case"phone":i="NgPhoneNumber";break;case"password_confirmation":_=f("passwords_should_match"),i="NgInputPassword";break;case"birthday":i="NgDatepicker";break;case"country_code":i="NgCountrySelector";break;case"bank_account_number":i="NgInputNumber";break;case"affiliate_BO_Link":n.required=!1;break}const N=n;return{inputName:t,inputType:C,errorText:_,inputComponent:i,required:N.required,default:N.default,options:N.options}})),L=v(()=>Pe(M.value)),me=async()=>{if(!!await L.value.validate(l.value))try{const n=await le($e(l.value));y.value={title:"Success",description:n.msg},w.value=!0}catch(n){console.log("handlerForm /affiliate-network",n),y.value={title:"Error",description:n.msg},w.value=!0}},ce=t=>{t.includes("https://")?window.open(t,"_blank"):window.open(`https://${t}`,"_blank")},ue=()=>{w.value=!1,y.value.title==="Success"&&q.push($(qe.main_home))};return je(async()=>{var t;(t=d==null?void 0:d.value)!=null&&t.affiliate_form_settings&&(P.value=await{...d.value.affiliate_form_settings,password:{required:!0,default:""},password_confirmation:{required:!0,default:""}})},"$lhar9pKME0"),(t,n)=>{const i=ke,_=Me,C=Le,N=Be,pe=Ie,_e=Te,fe=De,he=Fe,O=Oe,ye=Ae,Ne=Re;return r(),x("div",Ke,[s("div",We,[s("h1",Xe,u(t.$t("sign_up")),1),g(ye,{"validation-schema":o(L),onSubmit:me},{default:p(()=>{var A,z,j,E;return[s("div",Ze,[(A=o(M))!=null&&A.length?(r(),c(he,{key:0,list:o(M),"key-name":"transformed-form-field",container:!1},{item:p(({item:e})=>{var k,G,R,K,W,X,Z,H,J,Q,Y,ee;return[e.inputName!=="affiliate_BO_Link"?(r(),x("div",He,[e.inputComponent==="NgSingleSelector"?(r(),c(i,{key:0,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,"displayed-option":"label","returned-option":"id","additional-label":t.$t("bank_name"),placeholder:t.$t("bank_name"),"is-additional-label":!0,"item-list":e.options,"input-name":e.inputName,"is-validated-separately":!1,"is-required":e.required},null,8,["modelValue","onUpdate:modelValue","additional-label","placeholder","item-list","input-name","is-required"])):m("",!0),e.inputComponent==="NGCommissionPlanSelector"?(r(),c(i,{key:1,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,"default-option":(R=(G=(k=o(d))==null?void 0:k.affiliate_form_settings)==null?void 0:G.commission_plan)==null?void 0:R.values[0],"class-list":"country-selector","item-list":(X=(W=(K=o(d))==null?void 0:K.affiliate_form_settings)==null?void 0:W.commission_plan)==null?void 0:X.values},{"selected-option":p(({props:a})=>[s("div",Je,[s("div",Qe,[s("div",Ye,[s("span",et,u(t.$t(e.inputName)),1),s("span",tt,u(a),1)])])])]),option:p(({props:a})=>[s("div",ot,[s("span",at,u(a),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","default-option","item-list"])):m("",!0),e.inputComponent==="NGPayoutMethodSelector"?(r(),c(i,{key:2,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,"default-option":(J=(H=(Z=o(d))==null?void 0:Z.affiliate_form_settings)==null?void 0:H.payout_method)==null?void 0:J.values[0],"class-list":"country-selector","item-list":(ee=(Y=(Q=o(d))==null?void 0:Q.affiliate_form_settings)==null?void 0:Y.payout_method)==null?void 0:ee.values},{"selected-option":p(({props:a})=>[s("div",st,[s("div",it,[s("div",lt,[s("span",nt,u(t.$t(e.inputName)),1),s("span",rt,u(a),1)])])])]),option:p(({props:a})=>[s("div",dt,[s("span",mt,u(a),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","default-option","item-list"])):m("",!0),e.inputComponent==="NgCountrySelector"?(r(),c(i,{key:3,modelValue:o(V),"onUpdate:modelValue":n[0]||(n[0]=a=>Ue(V)?V.value=a:null),"default-option":o(V),"class-list":"country-selector","item-list":o(te)},{"selected-option":p(({props:a})=>[s("div",ct,[s("div",ut,[a.iso2?(r(),c(_,{key:0,"is-init-color":!0,name:a.iso2,size:24,folder:"flags",class:"tw-rounded-full tw-overflow-hidden"},null,8,["name"])):m("",!0),s("div",pt,[s("span",_t,u(t.$t("country")),1),s("span",ft,u(a.name),1)])])])]),option:p(({props:a})=>[s("div",ht,[a.iso2?(r(),c(_,{key:0,"is-init-color":!0,name:a.iso2,size:24,folder:"flags",class:"tw-rounded-full tw-overflow-hidden"},null,8,["name"])):m("",!0),s("span",yt,u(a.name),1)])]),_:1},8,["modelValue","default-option","item-list"])):m("",!0),e.inputComponent==="NgInputPassword"?(r(),c(C,{key:4,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,classes:"ng-auth-input","placeholder-key":e.inputName,"input-name":e.inputName,"is-validated-separately":!1,"is-required":e.required},null,8,["modelValue","onUpdate:modelValue","placeholder-key","input-name","is-required"])):m("",!0),e.inputComponent==="NgInputText"?(r(),c(N,{key:5,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,type:e.inputType,"placeholder-text":t.$t(e.inputName),"input-name":e.inputName,"is-validated-separately":!1,"is-required":e.required},null,8,["modelValue","onUpdate:modelValue","type","placeholder-text","input-name","is-required"])):m("",!0),e.inputComponent==="NgInputNumber"?(r(),c(pe,{key:6,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,"placeholder-key":e.inputName,"input-name":e.inputName,"is-required":e.required,"is-validated-separately":!0,min:8,max:14},null,8,["modelValue","onUpdate:modelValue","placeholder-key","input-name","is-required"])):m("",!0),e.inputComponent==="NgPhoneNumber"?(r(),c(_e,{key:7,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,type:e.inputType,"placeholder-key":e.inputName,"input-name":e.inputName,"is-validated-separately":!1,"default-code":o(l).phone_code,"is-required":e.required,onChange:de},null,8,["modelValue","onUpdate:modelValue","type","placeholder-key","input-name","default-code","is-required"])):m("",!0),e.inputComponent==="NgDatepicker"?(r(),c(fe,{key:8,modelValue:o(l)[e.inputName],"onUpdate:modelValue":a=>o(l)[e.inputName]=a,type:e.inputType,"label-text":t.$t(e.inputName),"input-name":e.inputName,"is-validated-separately":!1,"is-required":e.required,"input-type":"text","model-type":"yyyy-MM-dd",format:"yyyy-MM-dd"},null,8,["modelValue","onUpdate:modelValue","type","label-text","input-name","is-required"])):m("",!0)])):m("",!0)]}),_:1},8,["list"])):m("",!0)]),(E=(j=(z=o(d))==null?void 0:z.affiliate_form_settings)==null?void 0:j.affiliate_BO_Link)!=null&&E.default?(r(),x("div",Nt,[g(O,{class:"link-bo","color-type":"link","label-key":"affiliate_bo","is-with-icon":"","icon-position":"right",onClick:n[1]||(n[1]=e=>{var k;return ce((k=o(d))==null?void 0:k.affiliate_form_settings.affiliate_BO_Link.default)})},{default:p(()=>[g(_,{name:"redirect",size:24})]),_:1})])):m("",!0),s("div",null,[g(O,{classes:"tw-w-full tw-mt-4 tw-flex-shrink-0","color-type":"primary",type:"submit","label-key":o(f)("registration_zimpler_tab")},null,8,["label-key"])])]}),_:1},8,["validation-schema"])]),o(w)?(r(),c(Ne,{key:0,title:o(y).title,description:o(y).description,onClose:ue},null,8,["title","description"])):m("",!0)])}}}),It=xe(kt,[["__scopeId","data-v-cb0e6326"]]);export{It as default};
