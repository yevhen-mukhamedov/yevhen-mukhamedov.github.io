import{_ as B}from"./DbDzaoeP.js";import{_ as C}from"./DqC-nx6a.js";import{_ as U}from"./r5J4__cq.js";import{d as D,j as T,ah as q,s as F,a0 as r,H as I,k as L,l as M,o as u,B as j,C as g,g as t,c as k,b as p,e as a,t as o,ag as E,f as H,a4 as O,_ as R}from"./7PQ9d4dP.js";import{P as z}from"./BjfPoI8C.js";import"./CXUEa_s4.js";import"./BQWyzQZp.js";import"./D0WEjs_T.js";import"./Dty3woGA.js";import"./CML6iTNl.js";import"./JGQl4adw.js";import"./DD170oM2.js";import"./RQfXHScZ.js";const G={key:0},J={class:"tw-flex tw-flex-col tw-gap-4"},K={class:"dl-item"},Q={class:"dl-item"},X={class:"dl-item"},Y={class:"dl-item"},Z={class:"tw-font-bold"},ee={key:1},te=["href"],ae=D({__name:"WithdrawalSolanaPhantom",props:{provider:{}},setup(y){const $=y,S=T(),V=q(),{getWeb3AuthProviders:W}=F(S),c=r(!0),s=r({amount:0}),_=r(0),l=r("SOL"),f=r("");let n={},v={};const i=I(()=>h(Number(_.value||0)*Number(s.value.amount||0))),h=e=>e.toFixed(5);return L(async()=>{v=W.value.phantom||null,n=new z;try{const{data:e}=await V.fetchWithdrawalData({id:$.provider.id});s.value.fee=e.fee,l.value=e.main_currency,f.value=e.network,_.value=e.possible_rate,s.value.address=await(n==null?void 0:n.connect())}catch(e){console.error("get withdrawal data in WithdrawalSolana",e)}c.value=!1}),M(()=>{n!=null&&n.hasUserApp()&&n.disconnect()}),(e,d)=>{const P=B,x=C,N=U,A=O;return u(),j(A,{loading:t(c)},{default:g(()=>{var w,b;return[(w=t(n))!=null&&w.hasUserApp()?(u(),k("div",G,[p(N,{"filed-values":t(s),provider:e.provider,"is-form-valid":!0},{default:g(()=>[a("dl",J,[a("div",K,[a("dt",null,o(e.$t("network"))+":",1),a("dd",null,o(t(f)),1)]),a("div",Q,[a("dt",null,o(e.$t("fee"))+":",1),a("dd",null,o(t(s).fee)+" ("+o(t(l))+")",1)]),a("div",X,[a("dt",null,o(e.$t("possible_amount"))+":",1),a("dd",null,o(t(i)||"-")+" ("+o(t(l))+")",1)]),a("div",Y,[a("dt",Z,o(e.$t("you_will_get_possible_amount"))+": ",1),a("dd",null,o(t(i)?h(t(i)-t(s).fee):"-")+" ("+o(t(l))+")",1)])]),p(P,{amount:t(s).amount,"onUpdate:amount":d[0]||(d[0]=m=>t(s).amount=m),provider:e.provider},null,8,["amount","provider"]),p(x,{modelValue:t(s).address,"onUpdate:modelValue":d[1]||(d[1]=m=>t(s).address=m),"input-name":"address","placeholder-text":e.$t("address"),"is-required":"","is-validated-separately":"","validation-rules":E().required().trim()},null,8,["modelValue","placeholder-text","validation-rules"])]),_:1},8,["filed-values","provider"])])):(u(),k("div",ee,[H(o(e.$t("you_have_to_install"))+" ",1),a("a",{target:"_blank",href:(b=t(v))==null?void 0:b.url,class:"tw-text-text-brand"},"Phantom",8,te)]))]}),_:1},8,["loading"])}}}),ve=R(ae,[["__scopeId","data-v-24f19b2d"]]);export{ve as default};
