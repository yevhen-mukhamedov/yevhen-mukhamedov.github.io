import{d as mt,a as ft,L as wt,j as vt,s as P,m as yt,I as bt,ah as ht,a0 as u,H as F,aJ as St,o as c,B as w,b as o,C as n,e as a,g as t,t as l,i as $,c as v,a1 as O,aE as kt,f as B,n as Ct,O as Tt,aW as xt,T as Nt,M as Pt,ak as $t,h as Bt,aL as It,A as Mt,p as Ut,a4 as Vt,_ as Lt}from"./7PQ9d4dP.js";import{_ as Wt}from"./D8jXsFdl.js";import{_ as Dt}from"./BjUcVok3.js";import{_ as Ft,a as Ot}from"./CXUEa_s4.js";import{_ as Rt}from"./UCCBr-NG.js";import"./BQWyzQZp.js";import"./D0WEjs_T.js";const zt={class:"tw-flex tw-items-center"},At={class:"tw-p-4"},Et={class:"tw-text-center tw-mt-4 tw-mb-8"},jt={class:"user-name"},Gt={class:"user-date"},Ht={class:"tw-grid tw-grid-cols-3 tw-gap-2"},Jt={key:0,class:"tw-my-2 tw-w-full"},qt={class:"tw-flex tw-items-center tw-justify-end"},Kt={key:1,class:"not-found"},Qt={class:"fg-text-14-thin tw-mt-4"},Xt={class:"user-statistic-footer"},Yt={class:"selected-optios"},Zt={class:"label"},te={class:"value"},ee={class:"caret"},ae=mt({__name:"UserStatistic",setup(se){var L;const{t:p}=ft(),{platformCommasFormat:y}=wt(),b=["695ca6bf-b1d6-43ea-a528-14880fc8b71c","fb08eca9-30ec-4ff2-88a1-6e8ba3a06df9"],I={label:"Global",key:0},{PROFILE_STATISTIC:R}=Pt,z=[{key:"total_wins",title:p("total_wins")},{key:"total_bets",title:p("total_bets")},{key:"total_wagered",title:p("total_wagered"),align:"right"}],A=["total_wins","total_bets","total_wagered"],E=vt(),{getLogo:j}=P(E),G=yt(),{getNickname:H,getUserData:h,getPaymentP2P:J}=P(G),M=bt(),{getTotals:U,getAnotherUser:g}=P(M),{openModal:q,closeModal:V,fetchCategoriesStat:K,fetchCategoriesTotals:Q}=M,X=ht(),{setWalletModal:Y,setWalletModalTab:Z}=X,r=u({page:1,per_page:8,category_id:0,user_id:((L=g.value)==null?void 0:L.user_id)||h.value.user_id}),S=u({total_wins:0,total_bets:0,total_deposits:0,total_wagered:0,currency:""}),k=u(!1),C=u([]),_=u(null),m=u({label:p("Global"),key:0}),tt=F(()=>{var e,i;return(i=(e=U.value)==null?void 0:e.categories)!=null&&i.length?[I,...U.value.categories]:[I]}),et=F(()=>{var e;return((e=J.value)==null?void 0:e.enabled)&&g.value&&g.value.user_id!==h.value.user_id}),at=()=>{V(),Y(),Z($t.p2p)},st=async()=>{try{const{data:e}=await Q(r.value);S.value={...S.value,...e}}catch(e){console.error("UserStatistic.vue -> getCategoriesStat:",e)}},ot=async()=>{try{const e=await K(r.value);C.value=e.items,_.value=e.pagination}catch(e){console.error("UserStatistic.vue -> getCategoriesStat:",e)}},T=async()=>{k.value=!0,await ot(),await st(),k.value=!1},nt=e=>{r.value={...r.value,page:e.page,per_page:e.perPage},T()},lt=async()=>{r.value={...r.value,page:1,category_id:m.value.key},await T()};return St(()=>{T()}),(e,i)=>{const x=Bt,ct=It,rt=Mt,it=Wt,W=Ut,_t=Dt,dt=Ft,ut=Ot,pt=Vt,gt=Rt;return c(),w(Nt,{to:"#globalModal"},[o(gt,{"is-footer":!1,class:"user-statistic","modal-max-width":"448px","modal-width":"100%",onClose:t(V)},{title:n(()=>[a("div",zt,[o(ct,{class:"back-button",onClick:i[0]||(i[0]=N=>t(q)(t(R)))},{default:n(()=>[o(x,{size:16,name:"left"})]),_:1}),a("h2",null,l(e.$t("user_statistics")),1)])]),content:n(()=>{var N,D;return[a("div",At,[a("div",Et,[a("p",jt,l(((N=t(g))==null?void 0:N.nickname)||t(H)),1),a("p",Gt,l(e.$t("member_since"))+" "+l(((D=t(g))==null?void 0:D.since_date)||t(h).member_since),1),t(et)?(c(),w(rt,{key:0,"label-key":e.$t("leave_tip"),class:"tip-button","color-type":"secondary","icon-position":"left","is-with-icon":"",onClick:at},{default:n(()=>[o(x,{size:20,name:"tip"})]),_:1},8,["label-key"])):$("",!0)]),a("div",Ht,[(c(!0),v(O,null,kt(t(S),(f,d)=>(c(),v(O,{key:`${f}-${d}`},[A.includes(d)?(c(),w(it,{key:0,name:d,value:f},null,8,["name","value"])):$("",!0)],64))),128))]),o(pt,{loading:t(k),class:"user-preloader"},{default:n(()=>{var f,d;return[(f=t(C))!=null&&f.length?(c(),v("div",Jt,[o(_t,{header:z,list:t(C)},{total_wins:n(({item:s})=>[B(l(t(y)(b,s.total_wins)),1)]),total_bets:n(({item:s})=>[B(l(t(y)(b,s.total_bets)),1)]),total_wagered:n(({item:s})=>[a("div",qt,[B(l(t(y)(b,s.total_wagered))+" ",1),o(W,{src:t(Ct)(s.currency),alt:"currency icon",class:"tw-ms-1 tw-max-w-5"},null,8,["src"])])]),_:1},8,["list"])])):(c(),v("div",Kt,[o(W,{src:t(j),class:"tw-max-h-11 tw-min-w-10"},null,8,["src"]),a("p",Qt,l(t(p)("empty_list")),1)])),a("div",Xt,[o(dt,{modelValue:t(m),"onUpdate:modelValue":[i[1]||(i[1]=s=>Tt(m)?m.value=s:null),lt],"default-option":t(m),"item-list":t(tt),"modal-overflow":!0,class:"user-statistic-filter","displayed-option":"label","is-full-option":"","returned-option":"key"},{"selected-option":n(({props:{label:s}})=>[a("div",Yt,[a("span",Zt,l(e.$t("sort_by"))+":",1),a("span",te,l(s),1)])]),caret:n(()=>[a("div",ee,[o(x,{color:t(xt)["fg-tertiary"],size:12,name:"toggle"},null,8,["color"])])]),_:1},8,["modelValue","default-option","item-list"]),t(_)&&((d=t(_))==null?void 0:d.total_pages)>1?(c(),w(ut,{key:0,"current-page":t(_).page,"default-per-page":t(r).per_page,pages:t(_).total_pages,"per-page":t(_).per_page,"with-per-page":!1,onChange:nt},null,8,["current-page","default-per-page","pages","per-page"])):$("",!0)])]}),_:1},8,["loading"])])]}),_:1},8,["onClose"])])}}}),de=Lt(ae,[["__scopeId","data-v-d8eebeed"]]);export{de as default};
