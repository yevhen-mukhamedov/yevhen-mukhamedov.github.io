import{_ as Z}from"./Bxl7epld.js";import{_ as ee}from"./DzA2N62b.js";import{_ as te}from"./K-WBeQ-v.js";import{_ as F}from"./LijCuOwn.js";import{_ as oe}from"./ElL4sWVy.js";import{V as M,ak as U,_ as D,o as s,c as h,a as v,u as f,X as e,ao as se,f as y,x as w,K as m,t as r,b as p,a5 as ne,a6 as R,a2 as ae,a1 as V,ab as ie,j as A,i as $,p as I,a4 as re,F as le,r as ce}from"./JoFQSik9.js";import{_ as ue}from"./sQNTZNBq.js";import{_ as me}from"./ChQlXKMR.js";import{_ as _e}from"./BQxgWOyN.js";import{u as de}from"./R1J_LkVd.js";import{g as pe}from"./BZw8aVXh.js";import"./D0zd4JXZ.js";import"./R92wxnHx.js";import"./Bcnv4IFf.js";import"./Cf_ozb67.js";import"./D8aEg3BZ.js";import"./1-N0yLDQ.js";import"./56Y_7FHu.js";const ve={class:"bonus-item-header"},fe={class:"bonus-item-body"},be={class:"bonus-item-title fg-title-20-fat"},ge=M({__name:"BonusItem",props:{bonus:{},isExpired:{type:Boolean}},setup(L){const C=L,l=U(),x=()=>{l.setCurrentBonusId(C.bonus.id),l.setVisibleBonusModal(!0)},{t:c}=D();return(n,P)=>{var k,b;const S=F,_=oe,B=ne;return s(),h("div",{class:"bonus-item",onClick:x},[v("div",ve,[f(S,{src:n.bonus.banner,class:"bonus-item-image"},null,8,["src"]),!("isExpired"in n?n.isExpired:e(se))&&((k=n.bonus.extra)!=null&&k.expiration_after)?(s(),y(_,{key:0,id:`bonus-countdown-${n.bonus.id}`,class:"bonus-item-countdown","is-bonus":"","end-date":(b=n.bonus.extra)==null?void 0:b.expiration_after},{days:w(()=>[m(r(e(c)("days")),1)]),hours:w(()=>[m(r(e(c)("hours")),1)]),minutes:w(()=>[m(r(e(c)("min")),1)]),seconds:w(()=>[m(r(e(c)("sec")),1)]),_:1},8,["id","end-date"])):p("",!0)]),v("div",fe,[v("div",be,r(n.bonus.name),1),v("div",{class:"tw-mt-2 fg-main-12-regular tw-text-text-brand tw-cursor-pointer",onClick:x},[m(r(e(c)("bonus_info"))+" ",1),f(B,{class:"tw-ms-1",width:6,height:10,name:"slider-arrow-next"})])])])}}}),he=R(ge,[["__scopeId","data-v-e278d4c7"]]),ye={class:"promotions"},we={class:"promotions-info"},xe={key:0,class:"promotions-total"},Be={class:"tw-text-text-brand tw-flex tw-gap-1 tw-ms-4"},ke={key:1,class:"promotions-list"},u=6,Ne=M({__name:"promotions",setup(L){const C=ae(),{isLoggedIn:l}=V(C),x=ie(),{t:c}=D(),{platformCommasFormat:n}=de(),P=["6ed534e6-fe06-428f-b15f-e769cbbfe1c4","45cab422-ae18-45d9-acde-e0ddead0091a"],S=U(),{getBonuses:_,getActiveBonus:B}=V(S),{getBonusBalance:k,getCurrency:b}=V(x),O=A(()=>B.value&&l.value),g=$("available"),j=[{key:"available",label:"available",icon:"available_bonus"},{key:"history",label:"history",icon:"history_bonus"}],E=o=>{var i;return((i=o.extra)==null?void 0:i.expiration_after)&&new Date(o.extra.expiration_after)<new Date},T=A(()=>_.value.filter(o=>!o.activated&&!E(o))),G=A(()=>_.value.filter(o=>!o.activated&&E(o))),t=$([]),N=$(1);I(g,o=>{N.value=1,o==="available"?t.value=T.value:o==="history"&&(t.value=G.value)});const a=$([]);I(t,()=>{t.value.length<=u?a.value=t.value:a.value=t.value.slice(0,u)});const H=()=>{const i=a.value.length+u;a.value=t.value.slice(0,i),N.value++};return I([l,_],()=>{_.value.length&&(t.value=T.value,t.value.length<=u?a.value=t.value:a.value=t.value.slice(0,u))},{immediate:!0}),I(l,()=>{g.value="available"}),(o,i)=>{const K=Z,X=ee,q=te,z=F,J=he,Q=ue,W=me,Y=_e;return s(),h("div",ye,[f(K,{class:"tw-mb-4","title-key":"bonuses","icon-name":"bonuses"}),e(O)?(s(),y(X,{key:0,bonus:e(B)},null,8,["bonus"])):p("",!0),v("div",we,[f(q,{modelValue:e(g),"onUpdate:modelValue":i[0]||(i[0]=d=>re(g)?g.value=d:null),tabs:j,type:"secondary"},null,8,["modelValue"]),e(l)?(s(),h("div",xe,[m(r(e(c)("total_bonus_amount"))+": ",1),v("span",Be,[m(r(e(n)(P,e(k)))+" ",1),f(z,{src:e(pe)(e(b)),alt:e(b)},null,8,["src","alt"])])])):p("",!0)]),e(a).length?(s(),h("div",ke,[(s(!0),h(le,null,ce(e(a),d=>(s(),y(J,{key:d.id,"is-expired":!!E(d),bonus:d},null,8,["is-expired","bonus"]))),128))])):p("",!0),e(N)*u<e(t).length?(s(),y(W,{key:2,"class-list":"tw-my-8","item-count":e(a).length,item:{total:e(t).length,total_pages:e(t).length/u,page:e(N)}},{action:w(()=>[f(Q,{"label-key":"show_more","color-type":"outline",class:"content-btn",onClick:i[1]||(i[1]=d=>H())})]),_:1},8,["item-count","item"])):p("",!0),e(t).length<1?(s(),y(Y,{key:3,class:"tw-w-full tw-my-4"})):p("",!0)])}}}),He=R(Ne,[["__scopeId","data-v-583005c4"]]);export{He as default};
