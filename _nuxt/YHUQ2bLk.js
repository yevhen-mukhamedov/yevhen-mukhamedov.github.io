import{_ as U,a as B}from"./D9BGLcdv.js";import{_ as C}from"./B92FZ1g3.js";import{_ as D}from"./Cf_ozb67.js";import{V as T,a0 as q,bc as F,a1 as I,i as n,j as L,k as M,l as j,o as u,f as E,x as g,X as e,c as k,u as p,a as o,t as a,ae as K,K as O,a6 as R}from"./JoFQSik9.js";import{P as X}from"./D9zo_Myw.js";import"./BdUp3nNt.js";import"./sQNTZNBq.js";import"./BKAhWZth.js";import"./BM2BYuY2.js";import"./D8aEg3BZ.js";import"./BZw8aVXh.js";import"./LijCuOwn.js";import"./BK14r1T1.js";import"./RGGkZJYr.js";import"./C87lQMtF.js";import"./D-sCvmnZ.js";import"./R1J_LkVd.js";import"./56Y_7FHu.js";import"./Brrl0AXM.js";import"./Cel6GgYv.js";import"./1-N0yLDQ.js";const z={key:0},G={class:"tw-flex tw-flex-col tw-gap-4"},H={class:"dl-item"},J={class:"dl-item"},Q={class:"dl-item"},Y={class:"dl-item"},Z={class:"tw-font-bold"},tt={key:1},et=["href"],ot=T({__name:"WithdrawalSolanaPhantom",props:{provider:{}},setup(y){const $=y,S=q(),V=F(),{getWeb3AuthProviders:W}=I(S),c=n(!0),s=n({}),_=n(0),l=n("SOL"),f=n("");let r={},v={};const d=L(()=>h(Number(_.value||0)*Number(s.value.amount||0))),h=t=>t.toFixed(5);return M(async()=>{v=W.value.phantom||null,r=new X;try{const{data:t}=await V.fetchWithdrawalData({id:$.provider.id});s.value.fee=t.fee,l.value=t.main_currency,f.value=t.network,_.value=t.possible_rate,s.value.address=await(r==null?void 0:r.connect())}catch(t){console.error("get withdrawal data in WithdrawalSolana",t)}c.value=!1}),j(()=>{r!=null&&r.hasUserApp()&&r.disconnect()}),(t,i)=>{const x=U,P=C,N=B,A=D;return u(),E(A,{loading:e(c)},{default:g(()=>{var w,b;return[(w=e(r))!=null&&w.hasUserApp()?(u(),k("div",z,[p(N,{"filed-values":e(s),provider:t.provider,"is-form-valid":!0},{default:g(()=>[o("dl",G,[o("div",H,[o("dt",null,a(t.$t("network"))+":",1),o("dd",null,a(e(f)),1)]),o("div",J,[o("dt",null,a(t.$t("fee"))+":",1),o("dd",null,a(e(s).fee)+" ("+a(e(l))+")",1)]),o("div",Q,[o("dt",null,a(t.$t("possible_amount"))+":",1),o("dd",null,a(e(d)||"-")+" ("+a(e(l))+")",1)]),o("div",Y,[o("dt",Z,a(t.$t("you_will_get_possible_amount"))+": ",1),o("dd",null,a(e(d)?h(e(d)-e(s).fee):"-")+" ("+a(e(l))+")",1)])]),p(x,{amount:e(s).amount,"onUpdate:amount":i[0]||(i[0]=m=>e(s).amount=m),provider:t.provider},null,8,["amount","provider"]),p(P,{modelValue:e(s).address,"onUpdate:modelValue":i[1]||(i[1]=m=>e(s).address=m),"input-name":"address","placeholder-text":t.$t("address"),"is-required":"","is-validated-separately":"","validation-rules":K().required().trim()},null,8,["modelValue","placeholder-text","validation-rules"])]),_:1},8,["filed-values","provider"])])):(u(),k("div",tt,[O(a(t.$t("you_have_to_install"))+" ",1),o("a",{target:"_blank",href:(b=e(v))==null?void 0:b.url,class:"tw-text-text-brand"},"Phantom",8,et)]))]}),_:1},8,["loading"])}}}),St=R(ot,[["__scopeId","data-v-c7d70555"]]);export{St as default};
