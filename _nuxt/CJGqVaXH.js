var wt=Object.defineProperty;var yt=(t,e,n)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ae=(t,e,n)=>yt(t,typeof e!="symbol"?e+"":e,n);import{w as vt,H as Ct,n as ke,u as It,i as ze,b as Te,e as _e,t as Pt,a as St,o as xt,s as Ot,r as jt,c as Et,d as Mt,f as $t,E as At}from"./CHcNArxE.js";import{W as Rt,P as kt}from"./BjfPoI8C.js";const zt="2.18.0",Oe=t=>t,Tt=()=>`viem@${zt}`;let E=class Ie extends Error{constructor(e,n={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Tt()});const r=n.cause instanceof Ie?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,o=n.cause instanceof Ie&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${n.docsBaseUrl??"https://viem.sh"}${o}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return Ve(this,e)}};function Ve(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t?Ve(t.cause,e):e?null:t}class _t extends E{constructor({max:e,min:n,signed:r,size:o,value:s}){super(`Number "${s}" is not in safe ${o?`${o*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class qt extends E{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class Ze extends E{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function B(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ut(t,{dir:e,size:n}):Lt(t,{dir:e,size:n})}function Ut(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Ze({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Lt(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Ze({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let o=0;o<n;o++){const s=e==="right";r[s?o:n-o-1]=t[s?o:t.length-o-1]}return r}function je(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function qe(t){return je(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Bt=new TextEncoder;function Nt(t,e={}){return typeof t=="number"||typeof t=="bigint"?Dt(t,e):typeof t=="boolean"?Ht(t,e):je(t)?Qe(t,e):Ye(t,e)}function Ht(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(ce(n,{size:e.size}),B(n,{size:e.size})):n}const A={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ue(t){if(t>=A.zero&&t<=A.nine)return t-A.zero;if(t>=A.A&&t<=A.F)return t-(A.A-10);if(t>=A.a&&t<=A.f)return t-(A.a-10)}function Qe(t,e={}){let n=t;e.size&&(ce(n,{size:e.size}),n=B(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,s=new Uint8Array(o);for(let i=0,u=0;i<o;i++){const l=Ue(r.charCodeAt(u++)),c=Ue(r.charCodeAt(u++));if(l===void 0||c===void 0)throw new E(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);s[i]=l*16+c}return s}function Dt(t,e){const n=ge(t,e);return Qe(n)}function Ye(t,e={}){const n=Bt.encode(t);return typeof e.size=="number"?(ce(n,{size:e.size}),B(n,{dir:"right",size:e.size})):n}function ce(t,{size:e}){if(qe(t)>e)throw new qt({givenSize:qe(t),maxSize:e})}const Ft=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function et(t,e={}){return typeof t=="number"||typeof t=="bigint"?ge(t,e):typeof t=="string"?Ee(t,e):typeof t=="boolean"?Wt(t,e):tt(t,e)}function Wt(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ce(n,{size:e.size}),B(n,{size:e.size})):n}function tt(t,e={}){let n="";for(let o=0;o<t.length;o++)n+=Ft[t[o]];const r=`0x${n}`;return typeof e.size=="number"?(ce(r,{size:e.size}),B(r,{dir:"right",size:e.size})):r}function ge(t,e={}){const{signed:n,size:r}=e,o=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof s=="bigint"&&n?-s-1n:0;if(s&&o>s||o<i){const l=typeof t=="bigint"?"n":"";throw new _t({max:s?`${s}${l}`:void 0,min:`${i}${l}`,signed:n,size:r,value:`${t}${l}`})}const u=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?B(u,{size:r}):u}const Jt=new TextEncoder;function Ee(t,e={}){const n=Jt.encode(t);return tt(n,e)}class Kt extends E{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Me extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,n){return super.set(e,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const nt=[],rt=[],ot=[],Xt=BigInt(0),H=BigInt(1),Gt=BigInt(2),Vt=BigInt(7),Zt=BigInt(256),Qt=BigInt(113);for(let t=0,e=H,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],nt.push(2*(5*r+n)),rt.push((t+1)*(t+2)/2%64);let o=Xt;for(let s=0;s<7;s++)e=(e<<H^(e>>Vt)*Qt)%Zt,e&Gt&&(o^=H<<(H<<BigInt(s))-H);ot.push(o)}const[Yt,en]=Ot(ot,!0),Le=(t,e,n)=>n>32?jt(t,e,n):Et(t,e,n),Be=(t,e,n)=>n>32?Mt(t,e,n):$t(t,e,n);function tn(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const u=(i+8)%10,l=(i+2)%10,c=n[l],a=n[l+1],g=Le(c,a,1)^n[u],f=Be(c,a,1)^n[u+1];for(let y=0;y<50;y+=10)t[i+y]^=g,t[i+y+1]^=f}let o=t[2],s=t[3];for(let i=0;i<24;i++){const u=rt[i],l=Le(o,s,u),c=Be(o,s,u),a=nt[i];o=t[a],s=t[a+1],t[a]=l,t[a+1]=c}for(let i=0;i<50;i+=10){for(let u=0;u<10;u++)n[u]=t[i+u];for(let u=0;u<10;u++)t[i+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=Yt[r],t[1]^=en[r]}n.fill(0)}class $e extends Ct{constructor(e,n,r,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ke(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=It(this.state)}keccak(){ze||Te(this.state32),tn(this.state32,this.rounds),ze||Te(this.state32),this.posOut=0,this.pos=0}update(e){_e(this);const{blockLen:n,state:r}=this;e=Pt(e);const o=e.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let u=0;u<i;u++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,n&128&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){_e(this,!1),St(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=e.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);e.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ke(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xt(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return e||(e=new $e(n,r,o,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=o,e.enableXOF=i,e.destroyed=this.destroyed,e}}const nn=(t,e,n)=>vt(()=>new $e(e,t,n)),rn=nn(1,136,256/8);function st(t,e){const n=e||"hex",r=rn(je(t,{strict:!1})?Nt(t):t);return n==="bytes"?r:et(r)}const we=new Me(8192);function it(t,e){if(we.has(`${t}.${e}`))return we.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=st(Ye(n),"bytes"),o=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&o[i]&&(o[i]=o[i].toUpperCase()),(r[i>>1]&15)>=8&&o[i+1]&&(o[i+1]=o[i+1].toUpperCase());const s=`0x${o.join("")}`;return we.set(`${t}.${e}`,s),s}function D(t,e){if(!sn(t,{strict:!1}))throw new Kt({address:t});return it(t,e)}const on=/^0x[a-fA-F0-9]{40}$/,ye=new Me(8192);function sn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(ye.has(r))return ye.get(r);const o=on.test(t)?t.toLowerCase()===t?!0:n?it(t)===t:!0:!1;return ye.set(r,o),o}function Ae(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class cn extends E{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}const z=(t,e,n)=>JSON.stringify(t,(r,o)=>typeof o=="bigint"?o.toString():o,n);class F extends E{constructor({body:e,cause:n,details:r,headers:o,status:s,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${Oe(i)}`,e&&`Request body: ${z(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=o,this.status=s,this.url=i}}class ct extends E{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Oe(r)}`,`Request body: ${z(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Ne extends E{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Oe(n)}`,`Request body: ${z(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const an=-1;class j extends E{constructor(e,{code:n,docsPath:r,metaMessages:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:o||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof ct?e.code:n??an}}class N extends j{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class W extends j{constructor(e){super(e,{code:W.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(W,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class J extends j{constructor(e){super(e,{code:J.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(J,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class K extends j{constructor(e,{method:n}={}){super(e,{code:K.code,shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(K,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class X extends j{constructor(e){super(e,{code:X.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class U extends j{constructor(e){super(e,{code:U.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(U,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class G extends j{constructor(e){super(e,{code:G.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(G,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class V extends j{constructor(e){super(e,{code:V.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(V,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class k extends j{constructor(e){super(e,{code:k.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Z extends j{constructor(e){super(e,{code:Z.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Q extends j{constructor(e,{method:n}={}){super(e,{code:Q.code,shortMessage:`Method${n?` "${n}"`:""} is not implemented.`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class L extends j{constructor(e){super(e,{code:L.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(L,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Y extends j{constructor(e){super(e,{code:Y.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class x extends N{constructor(e){super(e,{code:x.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ee extends N{constructor(e){super(e,{code:ee.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class te extends N{constructor(e,{method:n}={}){super(e,{code:te.code,shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(te,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ne extends N{constructor(e){super(e,{code:ne.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class re extends N{constructor(e){super(e,{code:re.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(re,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class T extends N{constructor(e){super(e,{code:T.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class un extends j{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const ve=new Map;function ln({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:o}){const s=async()=>{const a=l();i();const g=a.map(({args:f})=>f);g.length!==0&&t(g).then(f=>{var y;o&&Array.isArray(f)&&f.sort(o);for(let v=0;v<a.length;v++){const{pendingPromise:w}=a[v];(y=w.resolve)==null||y.call(w,[f[v],f])}}).catch(f=>{var y;for(let v=0;v<a.length;v++){const{pendingPromise:w}=a[v];(y=w.reject)==null||y.call(w,f)}})},i=()=>ve.delete(e),u=()=>l().map(({args:a})=>a),l=()=>ve.get(e)||[],c=a=>ve.set(e,[...l(),a]);return{flush:i,async schedule(a){const g={},f=new Promise((w,h)=>{g.resolve=w,g.reject=h});return(n==null?void 0:n([...u(),a]))&&s(),l().length>0?(c({args:a,pendingPromise:g}),f):(c({args:a,pendingPromise:g}),setTimeout(s,r),f)}}}async function dn(t){return new Promise(e=>setTimeout(e,t))}const ue=new Me(8192);function fn(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ue.get(n))return ue.get(n);const r=t().finally(()=>ue.delete(n));return ue.set(n,r),r}function at(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((o,s)=>{const i=async({count:u=0}={})=>{const l=async({error:c})=>{const a=typeof e=="function"?e({count:u,error:c}):e;a&&await dn(a),i({count:u+1})};try{const c=await t();o(c)}catch(c){if(u<n&&await r({count:u,error:c}))return l({error:c});s(c)}};i()})}function hn(t,e={}){return async(n,r={})=>{const{dedupe:o=!1,retryDelay:s=150,retryCount:i=3,uid:u}={...e,...r},l=o?st(Ee(`${u}.${z(n)}`)):void 0;return fn(()=>at(async()=>{try{return await t(n)}catch(c){const a=c;switch(a.code){case W.code:throw new W(a);case J.code:throw new J(a);case K.code:throw new K(a,{method:n.method});case X.code:throw new X(a);case U.code:throw new U(a);case G.code:throw new G(a);case V.code:throw new V(a);case k.code:throw new k(a);case Z.code:throw new Z(a);case Q.code:throw new Q(a,{method:n.method});case L.code:throw new L(a);case Y.code:throw new Y(a);case x.code:throw new x(a);case ee.code:throw new ee(a);case te.code:throw new te(a);case ne.code:throw new ne(a);case re.code:throw new re(a);case T.code:throw new T(a);case 5e3:throw new x(a);default:throw c instanceof E?c:new un(a)}}},{delay:({count:c,error:a})=>{var g;if(a&&a instanceof F){const f=(g=a==null?void 0:a.headers)==null?void 0:g.get("Retry-After");if(f!=null&&f.match(/\d/))return Number.parseInt(f)*1e3}return~~(1<<c)*s},retryCount:i,shouldRetry:({error:c})=>bn(c)}),{enabled:o,id:l})}}function bn(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===L.code||t.code===U.code:t instanceof F&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function ut(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function lt(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((o,s)=>{(async()=>{let i;try{const u=new AbortController;n>0&&(i=setTimeout(()=>{r?u.abort():s(e)},n)),o(await t({signal:(u==null?void 0:u.signal)||null}))}catch(u){(u==null?void 0:u.name)==="AbortError"&&s(e),s(u)}finally{clearTimeout(i)}})()})}function pn(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const He=pn();function gn(t,e={}){return{async request(n){var g;const{body:r,onRequest:o=e.onRequest,onResponse:s=e.onResponse,timeout:i=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:a}=u;try{const f=await lt(async({signal:v})=>{const w={...u,body:Array.isArray(r)?z(r.map(m=>({jsonrpc:"2.0",id:m.id??He.take(),...m}))):z({jsonrpc:"2.0",id:r.id??He.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:a||(i>0?v:null)},h=new Request(t,w);return o&&await o(h),await fetch(t,w)},{errorInstance:new Ne({body:r,url:t}),timeout:i,signal:!0});s&&await s(f);let y;if((g=f.headers.get("Content-Type"))!=null&&g.startsWith("application/json")?y=await f.json():(y=await f.text(),y=JSON.parse(y||"{}")),!f.ok)throw new F({body:r,details:z(y.error)||f.statusText,headers:f.headers,status:f.status,url:t});return y}catch(f){throw f instanceof F||f instanceof Ne?f:new F({body:r,cause:f,url:t})}}}}async function mn(t,{account:e=t.account,message:n}){if(!e)throw new cn({docsPath:"/docs/actions/wallet/signMessage"});const r=Ae(e);if(r.signMessage)return r.signMessage({message:n});const o=typeof n=="string"?Ee(n):n.raw instanceof Uint8Array?et(n.raw):n.raw;return t.request({method:"personal_sign",params:[o,r.address]},{retryCount:0})}function wn(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const o=t[n];return typeof o=="function"?o:s=>e(t,s)}const be="2.13.0",yn=()=>`@wagmi/core@${be}`;var dt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},me,ft;class R extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return yn()}constructor(e,n={}){var s;super(),me.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof R?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,o=n.cause instanceof R&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${this.docsBaseUrl}${o}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return dt(this,me,"m",ft).call(this,this,e)}}me=new WeakSet,ft=function t(e,n){return n!=null&&n(e)?e:e.cause?dt(this,me,"m",t).call(this,e.cause,n):e};class Pe extends R{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class vn extends R{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Cn extends R{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class In extends R{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Pn extends R{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}async function Sn(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new vn;try{t.setState(i=>({...i,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const o=await n.connect({chainId:e.chainId}),s=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(i=>({...i,connections:new Map(i.connections).set(n.uid,{accounts:s,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:o.chainId}}catch(o){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),o}}const Se=256;let le=Se,de;function ht(t=11){if(!de||le+t>Se*2){de="",le=0;for(let e=0;e<Se;e++)de+=(256+Math.random()*256|0).toString(16).substring(1)}return de.substring(le,le+++t)}function bt(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:o="base",name:s="Base Client",pollingInterval:i=4e3,type:u="base"}=t,l=t.chain,c=t.account?Ae(t.account):void 0,{config:a,request:g,value:f}=t.transport({chain:l,pollingInterval:i}),y={...a,...f},v={account:c,batch:e,cacheTime:n,ccipRead:r,chain:l,key:o,name:s,pollingInterval:i,request:g,transport:y,type:u,uid:ht()};function w(h){return C=>{const m=C(h);for(const d in v)delete m[d];const I={...h,...m};return Object.assign(I,{extend:w(I)})}}return Object.assign(v,{extend:w(v)})}function pt({key:t,name:e,request:n,retryCount:r=3,retryDelay:o=150,timeout:s,type:i},u){const l=ht();return{config:{key:t,name:e,request:n,retryCount:r,retryDelay:o,timeout:s,type:i},request:hn(n,{retryCount:r,retryDelay:o,uid:l}),value:u}}function xn(t,e={}){const{key:n="custom",name:r="Custom Provider",retryDelay:o}=e;return({retryCount:s})=>pt({key:n,name:r,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:o,type:"custom"})}class On extends E{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function De(t,e={}){const{batch:n,fetchOptions:r,key:o="http",name:s="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:u,retryDelay:l}=e;return({chain:c,retryCount:a,timeout:g})=>{const{batchSize:f=1e3,wait:y=0}=typeof n=="object"?n:{},v=e.retryCount??a,w=g??e.timeout??1e4,h=c==null?void 0:c.rpcUrls.default.http[0];if(!h)throw new On;const C=gn(h,{fetchOptions:r,onRequest:i,onResponse:u,timeout:w});return pt({key:o,name:s,async request({method:m,params:I}){const d={method:m,params:I},{schedule:b}=ln({id:h,wait:y,shouldSplitBatch(O){return O.length>f},fn:O=>C.request({body:O}),sort:(O,$)=>O.id-$.id}),p=async O=>n?b(O):[await C.request({body:O})],[{error:P,result:S}]=await p(d);if(P)throw new ct({body:d,error:P,url:h});return S},retryCount:v,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:h})}}async function jn(t,e={}){let n;if(e.connector){const{connector:c}=e,[a,g]=await Promise.all([c.getAccounts(),c.getChainId()]);n={accounts:a,chainId:g,connector:c}}else n=t.state.connections.get(t.state.current);if(!n)throw new Cn;const r=e.chainId??n.chainId,o=await n.connector.getChainId();if(o!==n.chainId)throw new Pn({connectionChainId:n.chainId,connectorChainId:o});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const i=Ae(e.account??n.accounts[0]);i.address=D(i.address);const u=t.chains.find(c=>c.id===r),l=await n.connector.getProvider({chainId:r});if(e.account&&!n.accounts.some(c=>c.toLowerCase()===i.address.toLowerCase()))throw new In({address:i.address,connector:s});return bt({account:i,chain:u,name:"Connector Client",transport:c=>xn(l)({...c,retryCount:0})})}async function En(t,e={}){var o,s;let n;if(e.connector)n=e.connector;else{const{connections:i,current:u}=t.state,l=i.get(u);n=l==null?void 0:l.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const u=r.values().next().value;return{...i,connections:new Map(r),current:u.connector.uid}});{const i=t.state.current;if(!i)return;const u=(o=t.state.connections.get(i))==null?void 0:o.connector;if(!u)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",u.id))}}async function Mn(t,e){const{account:n,connector:r,...o}=e;let s;return typeof n=="object"&&n.type==="local"?s=t.getClient():s=await jn(t,{account:n,connector:r}),wn(s,mn,"signMessage")({...o,...n?{account:n}:{}})}class q extends R{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}const $n=/(rabby|trustwallet)/,An={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:pe(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return pe(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:pe(t,"isPhantom")}}};oe.type="injected";function oe(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...An[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c==null?void 0:c.ethereum}}}let o,s,i,u;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return $n.test(this.id.toLowerCase())},type:oe.type,async setup(){const c=await this.getProvider();c&&t.target&&(i||(i=this.onConnect.bind(this),c.on("connect",i)),o||(o=this.onAccountsChanged.bind(this),c.on("accountsChanged",o)))},async connect({chainId:c,isReconnecting:a}={}){var y,v,w,h,C,m;const g=await this.getProvider();if(!g)throw new q;let f=[];if(a)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(h=(w=(v=(y=(await g.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:y.caveats)==null?void 0:v[0])==null?void 0:w.value)==null?void 0:h.map(d=>D(d)),f.length>0&&(f=await this.getAccounts())}catch(I){const d=I;if(d.code===x.code)throw new x(d);if(d.code===k.code)throw d}try{!(f!=null&&f.length)&&!a&&(f=(await g.request({method:"eth_requestAccounts"})).map(b=>D(b))),i&&(g.removeListener("connect",i),i=void 0),o||(o=this.onAccountsChanged.bind(this),g.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),g.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),g.on("disconnect",u));let I=await this.getChainId();if(c&&I!==c){const d=await this.switchChain({chainId:c}).catch(b=>{if(b.code===x.code)throw b;return{id:I}});I=(d==null?void 0:d.id)??I}return e&&await((C=l.storage)==null?void 0:C.removeItem(`${this.id}.disconnected`)),t.target||await((m=l.storage)==null?void 0:m.setItem("injected.connected",!0)),{accounts:f,chainId:I}}catch(I){const d=I;throw d.code===x.code?new x(d):d.code===k.code?new k(d):d}},async disconnect(){var a,g;const c=await this.getProvider();if(!c)throw new q;s&&(c.removeListener("chainChanged",s),s=void 0),u&&(c.removeListener("disconnect",u),u=void 0),i||(i=this.onConnect.bind(this),c.on("connect",i));try{await lt(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((a=l.storage)==null?void 0:a.setItem(`${this.id}.disconnected`,!0)),t.target||await((g=l.storage)==null?void 0:g.removeItem("injected.connected"))},async getAccounts(){const c=await this.getProvider();if(!c)throw new q;return(await c.request({method:"eth_accounts"})).map(g=>D(g))},async getChainId(){const c=await this.getProvider();if(!c)throw new q;const a=await c.request({method:"eth_chainId"});return Number(a)},async getProvider(){if(typeof window>"u")return;let c;const a=r();return typeof a.provider=="function"?c=a.provider(window):typeof a.provider=="string"?c=pe(window,a.provider):c=a.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){var c,a;try{if(e&&await((c=l.storage)==null?void 0:c.getItem(`${this.id}.disconnected`))||!t.target&&!await((a=l.storage)==null?void 0:a.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const v=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",v),!!await this.getProvider()),w=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(C=>window.addEventListener("ethereum#initialized",()=>C(v()),{once:!0}))]:[],new Promise(C=>setTimeout(()=>C(v()),w))]))return!0}throw new q}return!!(await at(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:a}){var y,v,w,h;const g=await this.getProvider();if(!g)throw new q;const f=l.chains.find(C=>C.id===a);if(!f)throw new T(new Pe);try{return await Promise.all([g.request({method:"wallet_switchEthereumChain",params:[{chainId:ge(a)}]}).then(async()=>{await this.getChainId()===a&&l.emitter.emit("change",{chainId:a})}),new Promise(C=>l.emitter.once("change",({chainId:m})=>{m===a&&C()}))]),f}catch(C){const m=C;if(m.code===4902||((v=(y=m==null?void 0:m.data)==null?void 0:y.originalError)==null?void 0:v.code)===4902)try{const{default:I,...d}=f.blockExplorers??{};let b;c!=null&&c.blockExplorerUrls?b=c.blockExplorerUrls:I&&(b=[I.url,...Object.values(d).map(O=>O.url)]);let p;(w=c==null?void 0:c.rpcUrls)!=null&&w.length?p=c.rpcUrls:p=[((h=f.rpcUrls.default)==null?void 0:h.http[0])??""];const P={blockExplorerUrls:b,chainId:ge(a),chainName:(c==null?void 0:c.chainName)??f.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??f.nativeCurrency,rpcUrls:p};if(await g.request({method:"wallet_addEthereumChain",params:[P]}),await this.getChainId()!==a)throw new x(new Error("User rejected switch after adding network."));return f}catch(I){throw new x(I)}throw m.code===x.code?new x(m):new T(m)}},async onAccountsChanged(c){var a;if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const g=(await this.getChainId()).toString();this.onConnect({chainId:g}),e&&await((a=l.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:c.map(g=>D(g))})},onChainChanged(c){const a=Number(c);l.emitter.emit("change",{chainId:a})},async onConnect(c){const a=await this.getAccounts();if(a.length===0)return;const g=Number(c.chainId);l.emitter.emit("connect",{accounts:a,chainId:g});const f=await this.getProvider();f&&(i&&(f.removeListener("connect",i),i=void 0),o||(o=this.onAccountsChanged.bind(this),f.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),f.on("disconnect",u)))},async onDisconnect(c){const a=await this.getProvider();c&&c.code===1013&&a&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),a&&(s&&(a.removeListener("chainChanged",s),s=void 0),u&&(a.removeListener("disconnect",u),u=void 0),i||(i=this.onConnect.bind(this),a.on("connect",i))))}})}function pe(t,e){function n(o){return typeof e=="function"?e(o):typeof e=="string"?o[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(o=>n(o));if(r&&n(r))return r}function Rn(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function kn(){const t=new Set;let e=[];const n=()=>Rn(o=>{e.some(({info:s})=>s.uuid===o.info.uuid)||(e=[...e,o],t.forEach(s=>s(e,{added:[o]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(o=>o([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:o}){return e.find(s=>s.info.rdns===o)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(o,{emitImmediately:s}={}){return t.add(o),s&&o(e,{added:e}),()=>t.delete(o)}}}var zn={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const Tn=t=>(e,n,r)=>{const o=r.subscribe;return r.subscribe=(i,u,l)=>{let c=i;if(u){const a=(l==null?void 0:l.equalityFn)||Object.is;let g=i(r.getState());c=f=>{const y=i(f);if(!a(g,y)){const v=g;u(g=y,v)}},l!=null&&l.fireImmediately&&u(g,g)}return o(c)},t(e,n,r)},_n=Tn;function qn(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),u=(s=n.getItem(o))!=null?s:null;return u instanceof Promise?u.then(i):i(u)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const se=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return se(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return se(r)(n)}}}},Un=(t,e)=>(n,r,o)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,C)=>({...C,...h}),...e},i=!1;const u=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...h)},r,o);const a=se(s.serialize),g=()=>{const h=s.partialize({...r()});let C;const m=a({state:h,version:s.version}).then(I=>c.setItem(s.name,I)).catch(I=>{C=I});if(C)throw C;return m},f=o.setState;o.setState=(h,C)=>{f(h,C),g()};const y=t((...h)=>{n(...h),g()},r,o);let v;const w=()=>{var h;if(!c)return;i=!1,u.forEach(m=>m(r()));const C=((h=s.onRehydrateStorage)==null?void 0:h.call(s,r()))||void 0;return se(c.getItem.bind(c))(s.name).then(m=>{if(m)return s.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate)return s.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var I;return v=s.merge(m,(I=r())!=null?I:y),n(v,!0),g()}).then(()=>{C==null||C(v,void 0),i=!0,l.forEach(m=>m(v))}).catch(m=>{C==null||C(void 0,m)})};return o.persist={setOptions:h=>{s={...s,...h},h.getStorage&&(c=h.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>i,onHydrate:h=>(u.add(h),()=>{u.delete(h)}),onFinishHydration:h=>(l.add(h),()=>{l.delete(h)})},w(),v||y},Ln=(t,e)=>(n,r,o)=>{let s={storage:qn(()=>localStorage),partialize:w=>w,version:0,merge:(w,h)=>({...h,...w}),...e},i=!1;const u=new Set,l=new Set;let c=s.storage;if(!c)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,o);const a=()=>{const w=s.partialize({...r()});return c.setItem(s.name,{state:w,version:s.version})},g=o.setState;o.setState=(w,h)=>{g(w,h),a()};const f=t((...w)=>{n(...w),a()},r,o);let y;const v=()=>{var w,h;if(!c)return;i=!1,u.forEach(m=>{var I;return m((I=r())!=null?I:f)});const C=((h=s.onRehydrateStorage)==null?void 0:h.call(s,(w=r())!=null?w:f))||void 0;return se(c.getItem.bind(c))(s.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate)return s.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var I;return y=s.merge(m,(I=r())!=null?I:f),n(y,!0),a()}).then(()=>{C==null||C(y,void 0),y=r(),i=!0,l.forEach(m=>m(y))}).catch(m=>{C==null||C(void 0,m)})};return o.persist={setOptions:w=>{s={...s,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:w=>(u.add(w),()=>{u.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},s.skipHydration||v(),y||f},Bn=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((zn?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Un(t,e)):Ln(t,e),Nn=Bn;var Hn={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const Fe=t=>{let e;const n=new Set,r=(l,c)=>{const a=typeof l=="function"?l(e):l;if(!Object.is(a,e)){const g=e;e=c??typeof a!="object"?a:Object.assign({},e,a),n.forEach(f=>f(e,g))}},o=()=>e,u={setState:r,getState:o,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(Hn?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,o,u),u},Ce=t=>t?Fe(t):Fe;class Dn{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new At})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Fn(t){return new Dn(t)}function Wn(t,e){return JSON.parse(t,(n,r)=>{let o=r;return(o==null?void 0:o.__type)==="bigint"&&(o=BigInt(o.value)),(o==null?void 0:o.__type)==="Map"&&(o=new Map(o.value)),(e==null?void 0:e(n,o))??o})}function We(t,e){return t.slice(0,e).join(".")||"."}function Je(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Jn(t,e){const n=typeof t=="function",r=typeof e=="function",o=[],s=[];return function(u,l){if(typeof l=="object")if(o.length){const c=Je(o,this);c===0?o[o.length]=this:(o.splice(c),s.splice(c)),s[s.length]=u;const a=Je(o,l);if(a!==0)return r?e.call(this,u,l,We(s,a)):`[ref=${We(s,a)}]`}else o[0]=l,s[0]=u;return n?t.call(this,u,l):l}}function Kn(t,e,n,r){return JSON.stringify(t,Jn((o,s)=>{let i=s;return typeof i=="bigint"&&(i={__type:"bigint",value:s.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(o,i))??i},r),n??void 0)}function Xn(t){const{deserialize:e=Wn,key:n="wagmi",serialize:r=Kn,storage:o=gt}=t;function s(i){return i instanceof Promise?i.then(u=>u).catch(()=>null):i}return{...o,key:n,async getItem(i,u){const l=o.getItem(`${n}.${i}`),c=await s(l);return c?e(c)??null:u??null},async setItem(i,u){const l=`${n}.${i}`;u===null?await s(o.removeItem(l)):await s(o.setItem(l,r(u)))},async removeItem(i){await s(o.removeItem(`${n}.${i}`))}}}const gt={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},xe=256;let fe=xe,he;function Gn(t=11){if(!he||fe+t>xe*2){he="",fe=0;for(let e=0;e<xe;e++)he+=(256+Math.random()*256|0).toString(16).substring(1)}return he.substring(fe,fe+++t)}function Vn(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Xn({storage:typeof window<"u"&&window.localStorage?window.localStorage:gt}),syncConnectedChain:r=!0,ssr:o=!1,...s}=t,i=typeof window<"u"&&e?kn():void 0,u=Ce(()=>s.chains),l=Ce(()=>[...s.connectors??[],...o?[]:(i==null?void 0:i.getProviders().map(a))??[]].map(c));function c(d){var P;const b=Fn(Gn()),p={...d({emitter:b,chains:u.getState(),storage:n,transports:s.transports}),emitter:b,uid:b.uid};return b.on("connect",m),(P=p.setup)==null||P.call(p),p}function a(d){const{info:b}=d,p=d.provider;return oe({target:{...b,id:b.rdns,provider:p}})}const g=new Map;function f(d={}){const b=d.chainId??h.getState().chainId,p=u.getState().find(S=>S.id===b);if(d.chainId&&!p)throw new Pe;{const S=g.get(h.getState().chainId);if(S&&!p)return S;if(!p)throw new Pe}{const S=g.get(b);if(S)return S}let P;if(s.client)P=s.client({chain:p});else{const S=p.id,O=u.getState().map(M=>M.id),$={},Re=Object.entries(s);for(const[M,_]of Re)if(!(M==="chains"||M==="client"||M==="connectors"||M==="transports"))if(typeof _=="object")if(S in _)$[M]=_[S];else{if(O.some(mt=>mt in _))continue;$[M]=_}else $[M]=_;P=bt({...$,chain:p,batch:$.batch??{multicall:!0},transport:M=>s.transports[S]({...M,connectors:l})})}return g.set(b,P),P}function y(){return{chainId:u.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let v;const w="0.0.0-canary-";be.startsWith(w)?v=Number.parseInt(be.replace(w,"")):v=Number.parseInt(be.split(".")[0]??"0");const h=Ce(_n(n?Nn(y,{migrate(d,b){if(b===v)return d;const p=y(),P=d&&typeof d=="object"&&"chainId"in d&&typeof d.chainId=="number"&&u.getState().some(S=>S.id===d.chainId)?d.chainId:p.chainId;return{...p,chainId:P}},name:"store",partialize(d){return{connections:{__type:"Map",value:Array.from(d.connections.entries()).map(([b,p])=>{const{id:P,name:S,type:O,uid:$}=p.connector;return[b,{...p,connector:{id:P,name:S,type:O,uid:$}}]})},chainId:d.chainId,current:d.current}},merge(d,b){return typeof d=="object"&&d&&"status"in d&&delete d.status,{...b,...d}},skipHydration:o,storage:n,version:v}):y));r&&h.subscribe(({connections:d,current:b})=>{var p;return b?(p=d.get(b))==null?void 0:p.chainId:void 0},d=>{if(u.getState().some(p=>p.id===d))return h.setState(p=>({...p,chainId:d??p.chainId}))}),i==null||i.subscribe(d=>{const b=new Map;for(const P of l.getState())b.set(P.id,!0);const p=[];for(const P of d){const S=c(a(P));b.has(S.id)||p.push(S)}n&&!h.persist.hasHydrated()||l.setState(P=>[...P,...p],!0)});function C(d){h.setState(b=>{const p=b.connections.get(d.uid);return p?{...b,connections:new Map(b.connections).set(d.uid,{accounts:d.accounts??p.accounts,chainId:d.chainId??p.chainId,connector:p.connector})}:b})}function m(d){h.getState().status==="connecting"||h.getState().status==="reconnecting"||h.setState(b=>{const p=l.getState().find(P=>P.uid===d.uid);return p?(p.emitter.listenerCount("connect")&&p.emitter.off("connect",C),p.emitter.listenerCount("change")||p.emitter.on("change",C),p.emitter.listenerCount("disconnect")||p.emitter.on("disconnect",I),{...b,connections:new Map(b.connections).set(d.uid,{accounts:d.accounts,chainId:d.chainId,connector:p}),current:d.uid,status:"connected"}):b})}function I(d){h.setState(b=>{const p=b.connections.get(d.uid);if(p){const S=p.connector;S.emitter.listenerCount("change")&&p.connector.emitter.off("change",C),S.emitter.listenerCount("disconnect")&&p.connector.emitter.off("disconnect",I),S.emitter.listenerCount("connect")||p.connector.emitter.on("connect",m)}if(b.connections.delete(d.uid),b.connections.size===0)return{...b,connections:new Map,current:null,status:"disconnected"};const P=b.connections.values().next().value;return{...b,connections:new Map(b.connections),current:P.connector.uid}})}return{get chains(){return u.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return h.getState()},setState(d){let b;typeof d=="function"?b=d(h.getState()):b=d;const p=y();typeof b!="object"&&(b=p),Object.keys(p).some(S=>!(S in b))&&(b=p),h.setState(b,!0)},subscribe(d,b,p){return h.subscribe(d,b,p?{...p,fireImmediately:p.emitImmediately}:void 0)},_internal:{mipd:i,store:h,ssr:!!o,syncConnectedChain:r,transports:s.transports,chains:{setState(d){const b=typeof d=="function"?d(u.getState()):d;if(b.length!==0)return u.setState(b,!0)},subscribe(d){return u.subscribe(d)}},connectors:{providerDetailToConnector:a,setup:c,setState(d){return l.setState(typeof d=="function"?d(l.getState()):d,!0)},subscribe(d){return l.subscribe(d)}},events:{change:C,connect:m,disconnect:I}}}}const Ke=ut({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Xe=ut({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});var ie=(t=>(t.MetaMask="metaMask",t.CoinbaseWallet="coinbaseWallet",t))(ie||{});class Ge{constructor(e){ae(this,"connector",oe({target:"metaMask"}));ae(this,"type");ae(this,"config",Vn({chains:[Ke,Xe],connectors:[this.connector],transports:{[Ke.id]:De(),[Xe.id]:De()}}));if(e!=="metaMask"&&e!=="coinbaseWallet")throw new Error("Invalid web3 client type");this.connector=oe({target:e}),this.type=e}async connect(){const e=await Sn(this.config,{connector:this.connector});if(e.accounts.length>0)return e.accounts[0];throw new Error("No accounts found")}async disconnect(){await En(this.config)}hasUserApp(){try{switch(this.type){case ie.MetaMask:return window.ethereum!=="undefined"&&window.ethereum.isMetaMask;case ie.CoinbaseWallet:return window.coinbaseWalletExtension!=="undefined";default:return!1}}catch{return!1}}async signMessage(e){return await Mn(this.config,{message:e})}}class Zn extends Rt{disconnect(){this.getBrowserProvider()&&this.getBrowserProvider().disconnect()}async connect(){const e=await this.getBrowserProvider().connect();return this.partOfPublicKey=e.publicKey.slice(2,66),this.accountData=e,e.address}hasUserApp(){return!!window.aptos}send(e){return this.getBrowserProvider().signAndSubmitTransaction(e)}async signMessage(e){const n=await this.getBrowserProvider().signMessage({message:"",nonce:e});return this.fullMessage=n.fullMessage,this.authSign=n.signature,n.fullMessage}getDataForAuth(){return{sign:this.authSign,nonce:this.fullMessage,address:this.partOfPublicKey}}getBrowserProvider(){return window.aptos}}class nr{constructor(e){switch(e){case"phantom":return new kt;case"petra":return new Zn;case"metamask":return new Ge(ie.MetaMask);case"coinbase":return new Ge(ie.CoinbaseWallet);default:throw new Error("Invalid web3 client type")}}}export{nr as W};
