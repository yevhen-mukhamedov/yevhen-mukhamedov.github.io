import{_ as oe}from"./DqC-nx6a.js";import{b as ae}from"./BQWyzQZp.js";import{_ as ne}from"./D4aeT6U_.js";import{_ as Y}from"./CXUEa_s4.js";import{_ as se}from"./CA0-zLQj.js";import{d as Z,j as re,ah as ie,m as le,s as Q,J as de,a0 as g,H as x,k as ee,g as e,o as s,c as k,t as _,i as d,e as n,B as y,C as V,O as W,U as te,b as A,f as G,K as ue,h as ce,a4 as me,bj as pe,a1 as _e,aE as ve,a2 as ye,bk as fe,b6 as ge,ag as he,bl as X}from"./7PQ9d4dP.js";import{_ as we}from"./JGQl4adw.js";import{_ as be}from"./Qqx45fX5.js";import{_ as xe}from"./CML6iTNl.js";import{_ as Ce}from"./B_KxkNXN.js";import{_ as ke}from"./BVmvo0aN.js";import"./DD170oM2.js";import"./D0WEjs_T.js";import"./Dty3woGA.js";import"./UCCBr-NG.js";const Ve={key:0},$e={key:0,class:"tw-mb-4"},Fe={class:"tw-flex tw-items-center tw-gap-1"},Ne={class:"tw-flex tw-flex-col"},Ue={class:"fg-main-12-regular tw-text-text-tertiary"},Se={class:"tw-flex tw-flex-col"},qe={class:"fg-main-12-regular tw-text-text-tertiary"},Te={class:"read-only tw-mt-4 tw-w-full"},De={class:"read-only-content"},Be={class:"tw-text-text-tertiary fg-main-12-regular tw-mt-[6px]"},Le={class:"fg-main-14-regular tw-break-all"},Me={class:"read-only-icon"},Pe={key:1,class:"read-only tw-mt-4 tw-w-full"},je={class:"read-only-content"},Ee={class:"tw-text-text-tertiary fg-main-12-regular tw-mt-[6px]"},Ie={class:"fg-main-14-regular tw-break-all"},Oe={class:"read-only-icon"},ze=Z({__name:"DepositCryptoBlock",props:{provider:{type:Object,default:()=>{}}},setup(m){const u=m,l=re(),O=ie(),L=le(),{isMultiBalance:N}=Q(l),{getCurrency:z}=Q(L),{show:H}=de(),w=g(""),h=g(""),$=g(u.provider.extra.address),U=g(""),o=g([]),p=g(!1),C=g(null),i=x(()=>{var r;return!((r=u.provider)!=null&&r.only)}),S=x(()=>!N.value||i.value),b=x(()=>N.value?F.value.length:o.value.length),R=x(()=>N.value?i.value?w.value:h.value?h.value:z.value:w.value),F=x(()=>{var c,D;return(D=(c=u.provider)==null?void 0:c.extra)!=null&&D.standards?Object.keys(u.provider.extra.standards).map(q=>{var B,P,j,E,I,f,J,K;return{label:(P=(B=u.provider)==null?void 0:B.extra)==null?void 0:P.standards[q].tokenStandard,code:((E=(j=u.provider)==null?void 0:j.extra)==null?void 0:E.standards[q].token)+"."+((f=(I=u.provider)==null?void 0:I.extra)==null?void 0:f.standards[q].tokenStandard),value:(K=(J=u.provider)==null?void 0:J.extra)==null?void 0:K.standards[q].identifier}}):o.value}),M=x(()=>F.value.length?F.value:o.value),t=x(()=>{var r;return(r=u.provider.settings)==null?void 0:r.is_deposit_note}),a=r=>{ue(r),H({message:"copied",position:"bottom-right",type:"error"})},T=async()=>{p.value=!0;try{const r={id:u.provider.id,currency:R.value},{data:c}=await O.fetchDepositCryptoData(r);$.value=c.address,U.value=c.tag?c.tag:""}catch(r){console.log("fetch crypto data",r),C.value=r.msg}finally{p.value=!1}},v=()=>{h.value="",o.value=[],T()};return ee(async()=>{F.value.length&&(h.value=F.value[0].code),[w.value]=u.provider.extra.currency_list,await T()}),(r,c)=>{const D=Y,q=se,B=ce,P=me,j=we,E=be,I=xe;return e(C)?(s(),y(I,{key:1},{default:V(()=>[G(_(e(C)),1)]),_:1})):(s(),k("div",Ve,[e(b)||!e(N)?(s(),k("p",$e,_(r.$t("choose_currency_and_standard")),1)):d("",!0),n("div",{class:te(["tw-grid tw-gap-4 tw-justify-center",[e(b)&&e(S)?"tw-grid-cols-2":"tw-grid-cols-1"]])},[e(S)?(s(),y(D,{key:0,modelValue:e(w),"onUpdate:modelValue":c[0]||(c[0]=f=>W(w)?w.value=f:null),"item-list":m.provider.extra.currency_list,"default-option":m.provider.extra.currency_list[0],"modal-overflow":!0,onChange:v},{"selected-option":V(({props:f})=>[n("div",Fe,[n("div",Ne,[n("span",Ue,_(r.$t("currency")),1),n("span",null,_(f),1)])])]),_:1},8,["modelValue","item-list","default-option"])):d("",!0),e(b)?(s(),y(D,{key:1,modelValue:e(h),"onUpdate:modelValue":c[1]||(c[1]=f=>W(h)?h.value=f:null),"item-list":e(M),"returned-option":"code","displayed-option":"code","default-option":e(M)[0],"modal-overflow":!0,onChange:T},{"selected-option":V(({props:f})=>[n("div",Se,[n("span",qe,_(r.$t("network")),1),n("span",null,_(f.label),1)])]),_:1},8,["modelValue","item-list","default-option"])):d("",!0)],2),A(P,{class:"payment-qr-wrapper",loading:e(p)},{default:V(()=>[e($)?(s(),y(q,{key:0,value:e($),size:145,level:"H",class:"qr-code"},null,8,["value"])):d("",!0),n("div",Te,[n("div",De,[n("span",Be,_(r.$t("crypto_address")),1),n("span",Le,_(e($)),1)]),n("div",Me,[A(B,{size:24,name:"copy",class:"tw-cursor-pointer",onClick:c[2]||(c[2]=f=>a(e($)))})])]),e(U)?(s(),k("div",Pe,[n("div",je,[n("span",Ee,_(r.$t("tag")),1),n("span",Ie,_(e(U)),1)]),n("div",Oe,[A(B,{size:24,name:"copy",class:"tw-cursor-pointer",onClick:c[3]||(c[3]=f=>a(e(U)))})])])):d("",!0)]),_:1},8,["loading"]),m.provider.min_limit?(s(),y(j,{key:1,"min-amount":m.provider.min_limit},null,8,["min-amount"])):d("",!0),e(t)?(s(),y(E,{key:2,"title-key":"deposit_noteTitle",class:"tw-mt-4"},{text:V(()=>[G(_(r.$t("minimum_amount_warning")),1)]),_:1})):d("",!0)]))}}}),He=["innerHTML"],Re={key:0},Ae={class:"deposit-common-option ng-input-text active selected"},Je={class:"input-placeholder multi-selector-counted-label"},Ke={class:"tw-pt-4"},Qe=["onUpdate:modelValue","name"],ut=Z({__name:"DepositCommon",props:{provider:{type:Object,default:()=>{}}},setup(m){const u=g({}),l=g({}),O=g([]),L=g([]),N=g({}),{provider:z}=m,H=x(()=>!0),w=x(()=>!L.value.includes("crypto")),h=o=>["amount"].includes(o),$=o=>{l.value.phone=o.phone,l.value.phone_code=o.phoneCode},U=o=>{const p=o.name.toLowerCase();let i=p==="phone"||String(p).includes("mobile")?ge().typeError("field should be a number"):he();return o.length&&!o.validate&&(i=i.max(o.length)),p==="email"&&(i=i.email("invalid email address")),p===X.CPF&&(i=i.checkCPF()),p===X.CUIT_CUIL&&(i=i.checkCUIT_CUIL()),o.required&&(i=i.required("field is required")),i};return ee(()=>{const{allFields:o,requiredFields:p,fieldFormat:C,fieldVariables:i,hiddenFields:S}=pe(z);u.value=C,Object.keys(i).forEach(b=>{b==="amount"?l.value[b]=0:l.value[b]=i[b]}),O.value=p,L.value=o,N.value=S}),(o,p)=>{const C=oe,i=ae,S=ne,b=Y,R=ze,F=Ce,M=ke;return s(),y(M,{"filed-values":e(l),provider:m.provider,"is-form-valid":e(H),"is-submitted":e(w)},{default:V(()=>[m.provider.extra&&m.provider.extra.text?(s(),k("div",{key:0,innerHTML:m.provider.extra.text},null,8,He)):d("",!0),(s(!0),k(_e,null,ve(e(u),(t,a,T)=>(s(),k("div",{key:`${T}${a}`,class:te({"tw-hidden":t.type==="hidden"||a==="amount"})},[e(w)?(s(),k("div",Re,[t.type==="string"&&!h(t.name)?(s(),y(C,{key:0,modelValue:e(l)[a],"onUpdate:modelValue":v=>e(l)[a]=v,"label-key":a,"placeholder-text":o.$t(a),"input-name":a,"is-required":t.required,"is-validated-separately":"","validation-rules":U(t),mask:t.mask||"",regex:t.regex||""},null,8,["modelValue","onUpdate:modelValue","label-key","placeholder-text","input-name","is-required","validation-rules","mask","regex"])):d("",!0),t.type==="numeric"&&!h(t.name)?(s(),y(i,{key:1,modelValue:e(l)[a],"onUpdate:modelValue":v=>e(l)[a]=v,"label-key":a,"placeholder-key":a,"input-name":a,"is-required":t.required},null,8,["modelValue","onUpdate:modelValue","label-key","placeholder-key","input-name","is-required"])):d("",!0),t.type==="phone"?(s(),y(S,{key:2,"input-name":a,onChange:$},null,8,["input-name"])):d("",!0),t.type==="array"?(s(),y(b,{key:3,modelValue:e(l)[a],"onUpdate:modelValue":v=>e(l)[a]=v,"item-list":t.list,"returned-option":"code","displayed-option":"code","default-option":t.list[0],"label-key":t.name,"is-disabled":t.disabled,"modal-overflow":!0},{"selected-option":V(({props:{label:v}})=>[n("div",Ae,[n("span",Je,_(o.$t(t.name))+":",1),n("span",Ke,_(o.$t(v.toLowerCase().replace(".","_"))),1)])]),option:V(({props:{label:v}})=>[n("div",null,_(o.$t(v.toLowerCase().replace(".","_"))),1)]),_:2},1032,["modelValue","onUpdate:modelValue","item-list","default-option","label-key","is-disabled"])):d("",!0)])):d("",!0),a==="crypto"&&t.type==="component"?(s(),y(R,{key:1,provider:m.provider},null,8,["provider"])):d("",!0),t.type==="hidden"&&!h(t.name)?ye((s(),k("input",{key:2,"onUpdate:modelValue":v=>e(l)[a]=v,name:a,type:"hidden"},null,8,Qe)),[[fe,e(l)[a]]]):d("",!0)],2))),128)),e(w)&&e(u).amount?(s(),y(F,{key:1,amount:e(l).amount,"onUpdate:amount":p[0]||(p[0]=t=>e(l).amount=t),"is-required":"","min-limit":m.provider.min_limit,"max-limit":m.provider.max_limit},null,8,["amount","min-limit","max-limit"])):d("",!0)]),_:1},8,["filed-values","provider","is-form-valid","is-submitted"])}}});export{ut as default};
