import{d as C,aC as I,a0 as k,o as n,c,g as o,a1 as E,b as h,e as p,U as F,t as y,i as w,h as $,A as O,_ as D,j as U,I as T,s as M,aq as A,aD as R,aE as L,H as j,B as V,C as x,M as q}from"./7PQ9d4dP.js";import{_ as z}from"./UCCBr-NG.js";import"./D0WEjs_T.js";const d={INFO:"info",SUCCESS:"success",ERROR:"error"},H={class:"ng-info-modal-content"},J={class:"ng-info-modal-message"},G={key:1},K={class:"tw-flex tw-gap-4 tw-w-full"},W=["innerHTML"],P=C({__name:"VerificationJumio",emits:["close","openIframe"],setup(N,{emit:g}){const l=g,S=I();let a=d.SUCCESS;const i=k(null),_=k(!0),r=k(null);let m=!1;const s=()=>{l("close")},u=async()=>{try{const t={...m&&{is_continue:!0}},e=await S.getVerification(t);if(a=d.SUCCESS,i.value=null,m=!!(e!=null&&e.is_continue),e.status===d.ERROR){a=d.ERROR,i.value=e.msg;return}if(e.status===d.INFO){a=d.INFO,i.value=e.msg;return}e.is_verified?s():e&&e.verification_path&&(_.value=!1,r.value=e.verification_path,l("openIframe",!0))}catch(t){console.log("getVerification",t)}};return(t,e)=>{const v=$,f=O;return n(),c("div",H,[o(_)?(n(),c(E,{key:0},[h(v,{name:"shield",size:70,class:"tw-text-text-brand"}),p("div",J,[o(i)?(n(),c("div",{key:0,class:F({error_msg:o(a)==o(d).ERROR})},[p("p",null,y(t.$t(`${o(i)}`)),1)],2)):(n(),c("div",G,[p("p",null,y(t.$t("verification_text")),1)]))]),p("div",K,[h(f,{class:"ng-info-modal-action","label-key":"cancel","color-type":"secondary",onClick:s}),h(f,{class:"ng-info-modal-action","label-key":o(m)?"continue_verification":"start_now",onClick:u},null,8,["label-key"])])],64)):o(r)?(n(),c("div",{key:1,class:"iframe",innerHTML:o(r)},null,8,W)):w("",!0)])}}}),X=D(P,[["__scopeId","data-v-1e352d38"]]),Q={class:"ng-info-modal-content"},Y={class:"ng-info-modal-message"},Z={key:0,class:"ng-info-modal-list"},ee=C({__name:"VerificationDefault",emits:["openSettings"],setup(N,{emit:g}){const l=U(),S=T(),{setVerificationList:a}=l,{checkIsVerificationNeeded:i}=S,{getVerificationList:_}=M(l),r=g,m=()=>{r("openSettings")};return A(async()=>{try{const s=await i(),u=Object.keys(R).filter(t=>s[t]).map(t=>R[t]);a(u)}catch(s){console.error(s)}},"$wGK0X3pDS6"),(s,u)=>{var v;const t=$,e=O;return n(),c("div",Q,[h(t,{name:"shield",size:70,class:"tw-text-text-brand"}),p("div",Y,y(s.$t("verification_required_info")),1),((v=o(_))==null?void 0:v.length)>0?(n(),c("ul",Z,[(n(!0),c(E,null,L(o(_),f=>(n(),c("li",{key:f,class:"ng-info-modal-list-item"},y(s.$t(f)),1))),128))])):w("",!0),h(e,{class:"ng-info-modal-action","label-key":"open_settings",onClick:m})])}}}),te={class:"tw-font-bold"},ie=C({__name:"NgVerificationModal",setup(N){const g=T(),l=I(),{openModal:S}=g,{closeVerificationModal:a}=I(),i=k("384px"),_=()=>{S(q.USER_SETTINGS),a()},r=()=>{a()},{typeVerification:m,providerVerification:s}=M(l),u=j(()=>m.value==="kyc"&&s.value==="jumio"),t=e=>{i.value=e?"512px":"384px"};return(e,v)=>{const f=X,b=ee,B=z;return n(),V(B,{class:"ng-info-modal","modal-max-width":o(i),onClose:r},{title:x(()=>[p("span",te,y(e.$t("verification_required")),1)]),content:x(()=>[o(u)?(n(),V(f,{key:0,onClose:r,onOpenIframe:t})):(n(),V(b,{key:1,onOpenSettings:_}))]),_:1},8,["modal-max-width"])}}});export{ie as default};
