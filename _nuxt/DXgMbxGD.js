import{_ as Ma}from"./B_KxkNXN.js";import{_ as Da}from"./BVmvo0aN.js";import{aB as Fa,d as qa,ah as ja,j as Ga,s as Ka,a0 as $e,k as Wa,l as Va,g as Ne,o as tn,B as Er,C as On,b as Ya,b2 as Ja,e as Ht,t as ot,c as js,i as Br,f as Ir,A as Xa,a5 as Qa,aY as Za}from"./7PQ9d4dP.js";import{W as ec}from"./CJGqVaXH.js";import{r as tc,_ as nc}from"./CML6iTNl.js";import"./CHcNArxE.js";import"./DqC-nx6a.js";import"./BQWyzQZp.js";import"./DD170oM2.js";import"./JGQl4adw.js";import"./Qqx45fX5.js";import"./Dty3woGA.js";import"./CXUEa_s4.js";import"./D0WEjs_T.js";import"./UCCBr-NG.js";import"./BjfPoI8C.js";function rc(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pi={exports:{}};(function(t){(function(e){var n=function(a){var l,f=new Float64Array(16);if(a)for(l=0;l<a.length;l++)f[l]=a[l];return f},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var c=n(),d=n([1]),p=n([56129,1]),_=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),x=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),E=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),L=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function k(a,l,f,s){a[l]=f>>24&255,a[l+1]=f>>16&255,a[l+2]=f>>8&255,a[l+3]=f&255,a[l+4]=s>>24&255,a[l+5]=s>>16&255,a[l+6]=s>>8&255,a[l+7]=s&255}function C(a,l,f,s,u){var y,b=0;for(y=0;y<u;y++)b|=a[l+y]^f[s+y];return(1&b-1>>>8)-1}function j(a,l,f,s){return C(a,l,f,s,16)}function Q(a,l,f,s){return C(a,l,f,s,32)}function be(a,l,f,s){for(var u=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,y=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,b=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,A=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,I=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,D=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,N=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,ue=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,$=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,K=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,W=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Z=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,X=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,V=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,J=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,Y=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,R=u,q=y,H=b,P=A,M=I,O=D,g=N,w=ue,S=$,T=K,U=W,B=Z,G=X,ee=V,ne=J,te=Y,h,oe=0;oe<20;oe+=2)h=R+G|0,M^=h<<7|h>>>25,h=M+R|0,S^=h<<9|h>>>23,h=S+M|0,G^=h<<13|h>>>19,h=G+S|0,R^=h<<18|h>>>14,h=O+q|0,T^=h<<7|h>>>25,h=T+O|0,ee^=h<<9|h>>>23,h=ee+T|0,q^=h<<13|h>>>19,h=q+ee|0,O^=h<<18|h>>>14,h=U+g|0,ne^=h<<7|h>>>25,h=ne+U|0,H^=h<<9|h>>>23,h=H+ne|0,g^=h<<13|h>>>19,h=g+H|0,U^=h<<18|h>>>14,h=te+B|0,P^=h<<7|h>>>25,h=P+te|0,w^=h<<9|h>>>23,h=w+P|0,B^=h<<13|h>>>19,h=B+w|0,te^=h<<18|h>>>14,h=R+P|0,q^=h<<7|h>>>25,h=q+R|0,H^=h<<9|h>>>23,h=H+q|0,P^=h<<13|h>>>19,h=P+H|0,R^=h<<18|h>>>14,h=O+M|0,g^=h<<7|h>>>25,h=g+O|0,w^=h<<9|h>>>23,h=w+g|0,M^=h<<13|h>>>19,h=M+w|0,O^=h<<18|h>>>14,h=U+T|0,B^=h<<7|h>>>25,h=B+U|0,S^=h<<9|h>>>23,h=S+B|0,T^=h<<13|h>>>19,h=T+S|0,U^=h<<18|h>>>14,h=te+ne|0,G^=h<<7|h>>>25,h=G+te|0,ee^=h<<9|h>>>23,h=ee+G|0,ne^=h<<13|h>>>19,h=ne+ee|0,te^=h<<18|h>>>14;R=R+u|0,q=q+y|0,H=H+b|0,P=P+A|0,M=M+I|0,O=O+D|0,g=g+N|0,w=w+ue|0,S=S+$|0,T=T+K|0,U=U+W|0,B=B+Z|0,G=G+X|0,ee=ee+V|0,ne=ne+J|0,te=te+Y|0,a[0]=R>>>0&255,a[1]=R>>>8&255,a[2]=R>>>16&255,a[3]=R>>>24&255,a[4]=q>>>0&255,a[5]=q>>>8&255,a[6]=q>>>16&255,a[7]=q>>>24&255,a[8]=H>>>0&255,a[9]=H>>>8&255,a[10]=H>>>16&255,a[11]=H>>>24&255,a[12]=P>>>0&255,a[13]=P>>>8&255,a[14]=P>>>16&255,a[15]=P>>>24&255,a[16]=M>>>0&255,a[17]=M>>>8&255,a[18]=M>>>16&255,a[19]=M>>>24&255,a[20]=O>>>0&255,a[21]=O>>>8&255,a[22]=O>>>16&255,a[23]=O>>>24&255,a[24]=g>>>0&255,a[25]=g>>>8&255,a[26]=g>>>16&255,a[27]=g>>>24&255,a[28]=w>>>0&255,a[29]=w>>>8&255,a[30]=w>>>16&255,a[31]=w>>>24&255,a[32]=S>>>0&255,a[33]=S>>>8&255,a[34]=S>>>16&255,a[35]=S>>>24&255,a[36]=T>>>0&255,a[37]=T>>>8&255,a[38]=T>>>16&255,a[39]=T>>>24&255,a[40]=U>>>0&255,a[41]=U>>>8&255,a[42]=U>>>16&255,a[43]=U>>>24&255,a[44]=B>>>0&255,a[45]=B>>>8&255,a[46]=B>>>16&255,a[47]=B>>>24&255,a[48]=G>>>0&255,a[49]=G>>>8&255,a[50]=G>>>16&255,a[51]=G>>>24&255,a[52]=ee>>>0&255,a[53]=ee>>>8&255,a[54]=ee>>>16&255,a[55]=ee>>>24&255,a[56]=ne>>>0&255,a[57]=ne>>>8&255,a[58]=ne>>>16&255,a[59]=ne>>>24&255,a[60]=te>>>0&255,a[61]=te>>>8&255,a[62]=te>>>16&255,a[63]=te>>>24&255}function z(a,l,f,s){for(var u=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,y=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,b=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,A=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,I=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,D=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,N=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,ue=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,$=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,K=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,W=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Z=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,X=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,V=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,J=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,Y=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,R=u,q=y,H=b,P=A,M=I,O=D,g=N,w=ue,S=$,T=K,U=W,B=Z,G=X,ee=V,ne=J,te=Y,h,oe=0;oe<20;oe+=2)h=R+G|0,M^=h<<7|h>>>25,h=M+R|0,S^=h<<9|h>>>23,h=S+M|0,G^=h<<13|h>>>19,h=G+S|0,R^=h<<18|h>>>14,h=O+q|0,T^=h<<7|h>>>25,h=T+O|0,ee^=h<<9|h>>>23,h=ee+T|0,q^=h<<13|h>>>19,h=q+ee|0,O^=h<<18|h>>>14,h=U+g|0,ne^=h<<7|h>>>25,h=ne+U|0,H^=h<<9|h>>>23,h=H+ne|0,g^=h<<13|h>>>19,h=g+H|0,U^=h<<18|h>>>14,h=te+B|0,P^=h<<7|h>>>25,h=P+te|0,w^=h<<9|h>>>23,h=w+P|0,B^=h<<13|h>>>19,h=B+w|0,te^=h<<18|h>>>14,h=R+P|0,q^=h<<7|h>>>25,h=q+R|0,H^=h<<9|h>>>23,h=H+q|0,P^=h<<13|h>>>19,h=P+H|0,R^=h<<18|h>>>14,h=O+M|0,g^=h<<7|h>>>25,h=g+O|0,w^=h<<9|h>>>23,h=w+g|0,M^=h<<13|h>>>19,h=M+w|0,O^=h<<18|h>>>14,h=U+T|0,B^=h<<7|h>>>25,h=B+U|0,S^=h<<9|h>>>23,h=S+B|0,T^=h<<13|h>>>19,h=T+S|0,U^=h<<18|h>>>14,h=te+ne|0,G^=h<<7|h>>>25,h=G+te|0,ee^=h<<9|h>>>23,h=ee+G|0,ne^=h<<13|h>>>19,h=ne+ee|0,te^=h<<18|h>>>14;a[0]=R>>>0&255,a[1]=R>>>8&255,a[2]=R>>>16&255,a[3]=R>>>24&255,a[4]=O>>>0&255,a[5]=O>>>8&255,a[6]=O>>>16&255,a[7]=O>>>24&255,a[8]=U>>>0&255,a[9]=U>>>8&255,a[10]=U>>>16&255,a[11]=U>>>24&255,a[12]=te>>>0&255,a[13]=te>>>8&255,a[14]=te>>>16&255,a[15]=te>>>24&255,a[16]=g>>>0&255,a[17]=g>>>8&255,a[18]=g>>>16&255,a[19]=g>>>24&255,a[20]=w>>>0&255,a[21]=w>>>8&255,a[22]=w>>>16&255,a[23]=w>>>24&255,a[24]=S>>>0&255,a[25]=S>>>8&255,a[26]=S>>>16&255,a[27]=S>>>24&255,a[28]=T>>>0&255,a[29]=T>>>8&255,a[30]=T>>>16&255,a[31]=T>>>24&255}function pe(a,l,f,s){be(a,l,f,s)}function we(a,l,f,s){z(a,l,f,s)}var He=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ve(a,l,f,s,u,y,b){var A=new Uint8Array(16),I=new Uint8Array(64),D,N;for(N=0;N<16;N++)A[N]=0;for(N=0;N<8;N++)A[N]=y[N];for(;u>=64;){for(pe(I,A,b,He),N=0;N<64;N++)a[l+N]=f[s+N]^I[N];for(D=1,N=8;N<16;N++)D=D+(A[N]&255)|0,A[N]=D&255,D>>>=8;u-=64,l+=64,s+=64}if(u>0)for(pe(I,A,b,He),N=0;N<u;N++)a[l+N]=f[s+N]^I[N];return 0}function ve(a,l,f,s,u){var y=new Uint8Array(16),b=new Uint8Array(64),A,I;for(I=0;I<16;I++)y[I]=0;for(I=0;I<8;I++)y[I]=s[I];for(;f>=64;){for(pe(b,y,u,He),I=0;I<64;I++)a[l+I]=b[I];for(A=1,I=8;I<16;I++)A=A+(y[I]&255)|0,y[I]=A&255,A>>>=8;f-=64,l+=64}if(f>0)for(pe(b,y,u,He),I=0;I<f;I++)a[l+I]=b[I];return 0}function Te(a,l,f,s,u){var y=new Uint8Array(32);we(y,s,u,He);for(var b=new Uint8Array(8),A=0;A<8;A++)b[A]=s[A+16];return ve(a,l,f,b,y)}function je(a,l,f,s,u,y,b){var A=new Uint8Array(32);we(A,y,b,He);for(var I=new Uint8Array(8),D=0;D<8;D++)I[D]=y[D+16];return Ve(a,l,f,s,u,I,A)}var ge=function(a){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var l,f,s,u,y,b,A,I;l=a[0]&255|(a[1]&255)<<8,this.r[0]=l&8191,f=a[2]&255|(a[3]&255)<<8,this.r[1]=(l>>>13|f<<3)&8191,s=a[4]&255|(a[5]&255)<<8,this.r[2]=(f>>>10|s<<6)&7939,u=a[6]&255|(a[7]&255)<<8,this.r[3]=(s>>>7|u<<9)&8191,y=a[8]&255|(a[9]&255)<<8,this.r[4]=(u>>>4|y<<12)&255,this.r[5]=y>>>1&8190,b=a[10]&255|(a[11]&255)<<8,this.r[6]=(y>>>14|b<<2)&8191,A=a[12]&255|(a[13]&255)<<8,this.r[7]=(b>>>11|A<<5)&8065,I=a[14]&255|(a[15]&255)<<8,this.r[8]=(A>>>8|I<<8)&8191,this.r[9]=I>>>5&127,this.pad[0]=a[16]&255|(a[17]&255)<<8,this.pad[1]=a[18]&255|(a[19]&255)<<8,this.pad[2]=a[20]&255|(a[21]&255)<<8,this.pad[3]=a[22]&255|(a[23]&255)<<8,this.pad[4]=a[24]&255|(a[25]&255)<<8,this.pad[5]=a[26]&255|(a[27]&255)<<8,this.pad[6]=a[28]&255|(a[29]&255)<<8,this.pad[7]=a[30]&255|(a[31]&255)<<8};ge.prototype.blocks=function(a,l,f){for(var s=this.fin?0:2048,u,y,b,A,I,D,N,ue,$,K,W,Z,X,V,J,Y,R,q,H,P=this.h[0],M=this.h[1],O=this.h[2],g=this.h[3],w=this.h[4],S=this.h[5],T=this.h[6],U=this.h[7],B=this.h[8],G=this.h[9],ee=this.r[0],ne=this.r[1],te=this.r[2],h=this.r[3],oe=this.r[4],de=this.r[5],he=this.r[6],re=this.r[7],ce=this.r[8],fe=this.r[9];f>=16;)u=a[l+0]&255|(a[l+1]&255)<<8,P+=u&8191,y=a[l+2]&255|(a[l+3]&255)<<8,M+=(u>>>13|y<<3)&8191,b=a[l+4]&255|(a[l+5]&255)<<8,O+=(y>>>10|b<<6)&8191,A=a[l+6]&255|(a[l+7]&255)<<8,g+=(b>>>7|A<<9)&8191,I=a[l+8]&255|(a[l+9]&255)<<8,w+=(A>>>4|I<<12)&8191,S+=I>>>1&8191,D=a[l+10]&255|(a[l+11]&255)<<8,T+=(I>>>14|D<<2)&8191,N=a[l+12]&255|(a[l+13]&255)<<8,U+=(D>>>11|N<<5)&8191,ue=a[l+14]&255|(a[l+15]&255)<<8,B+=(N>>>8|ue<<8)&8191,G+=ue>>>5|s,$=0,K=$,K+=P*ee,K+=M*(5*fe),K+=O*(5*ce),K+=g*(5*re),K+=w*(5*he),$=K>>>13,K&=8191,K+=S*(5*de),K+=T*(5*oe),K+=U*(5*h),K+=B*(5*te),K+=G*(5*ne),$+=K>>>13,K&=8191,W=$,W+=P*ne,W+=M*ee,W+=O*(5*fe),W+=g*(5*ce),W+=w*(5*re),$=W>>>13,W&=8191,W+=S*(5*he),W+=T*(5*de),W+=U*(5*oe),W+=B*(5*h),W+=G*(5*te),$+=W>>>13,W&=8191,Z=$,Z+=P*te,Z+=M*ne,Z+=O*ee,Z+=g*(5*fe),Z+=w*(5*ce),$=Z>>>13,Z&=8191,Z+=S*(5*re),Z+=T*(5*he),Z+=U*(5*de),Z+=B*(5*oe),Z+=G*(5*h),$+=Z>>>13,Z&=8191,X=$,X+=P*h,X+=M*te,X+=O*ne,X+=g*ee,X+=w*(5*fe),$=X>>>13,X&=8191,X+=S*(5*ce),X+=T*(5*re),X+=U*(5*he),X+=B*(5*de),X+=G*(5*oe),$+=X>>>13,X&=8191,V=$,V+=P*oe,V+=M*h,V+=O*te,V+=g*ne,V+=w*ee,$=V>>>13,V&=8191,V+=S*(5*fe),V+=T*(5*ce),V+=U*(5*re),V+=B*(5*he),V+=G*(5*de),$+=V>>>13,V&=8191,J=$,J+=P*de,J+=M*oe,J+=O*h,J+=g*te,J+=w*ne,$=J>>>13,J&=8191,J+=S*ee,J+=T*(5*fe),J+=U*(5*ce),J+=B*(5*re),J+=G*(5*he),$+=J>>>13,J&=8191,Y=$,Y+=P*he,Y+=M*de,Y+=O*oe,Y+=g*h,Y+=w*te,$=Y>>>13,Y&=8191,Y+=S*ne,Y+=T*ee,Y+=U*(5*fe),Y+=B*(5*ce),Y+=G*(5*re),$+=Y>>>13,Y&=8191,R=$,R+=P*re,R+=M*he,R+=O*de,R+=g*oe,R+=w*h,$=R>>>13,R&=8191,R+=S*te,R+=T*ne,R+=U*ee,R+=B*(5*fe),R+=G*(5*ce),$+=R>>>13,R&=8191,q=$,q+=P*ce,q+=M*re,q+=O*he,q+=g*de,q+=w*oe,$=q>>>13,q&=8191,q+=S*h,q+=T*te,q+=U*ne,q+=B*ee,q+=G*(5*fe),$+=q>>>13,q&=8191,H=$,H+=P*fe,H+=M*ce,H+=O*re,H+=g*he,H+=w*de,$=H>>>13,H&=8191,H+=S*oe,H+=T*h,H+=U*te,H+=B*ne,H+=G*ee,$+=H>>>13,H&=8191,$=($<<2)+$|0,$=$+K|0,K=$&8191,$=$>>>13,W+=$,P=K,M=W,O=Z,g=X,w=V,S=J,T=Y,U=R,B=q,G=H,l+=16,f-=16;this.h[0]=P,this.h[1]=M,this.h[2]=O,this.h[3]=g,this.h[4]=w,this.h[5]=S,this.h[6]=T,this.h[7]=U,this.h[8]=B,this.h[9]=G},ge.prototype.finish=function(a,l){var f=new Uint16Array(10),s,u,y,b;if(this.leftover){for(b=this.leftover,this.buffer[b++]=1;b<16;b++)this.buffer[b]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(s=this.h[1]>>>13,this.h[1]&=8191,b=2;b<10;b++)this.h[b]+=s,s=this.h[b]>>>13,this.h[b]&=8191;for(this.h[0]+=s*5,s=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=s,s=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=s,f[0]=this.h[0]+5,s=f[0]>>>13,f[0]&=8191,b=1;b<10;b++)f[b]=this.h[b]+s,s=f[b]>>>13,f[b]&=8191;for(f[9]-=8192,u=(s^1)-1,b=0;b<10;b++)f[b]&=u;for(u=~u,b=0;b<10;b++)this.h[b]=this.h[b]&u|f[b];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,y=this.h[0]+this.pad[0],this.h[0]=y&65535,b=1;b<8;b++)y=(this.h[b]+this.pad[b]|0)+(y>>>16)|0,this.h[b]=y&65535;a[l+0]=this.h[0]>>>0&255,a[l+1]=this.h[0]>>>8&255,a[l+2]=this.h[1]>>>0&255,a[l+3]=this.h[1]>>>8&255,a[l+4]=this.h[2]>>>0&255,a[l+5]=this.h[2]>>>8&255,a[l+6]=this.h[3]>>>0&255,a[l+7]=this.h[3]>>>8&255,a[l+8]=this.h[4]>>>0&255,a[l+9]=this.h[4]>>>8&255,a[l+10]=this.h[5]>>>0&255,a[l+11]=this.h[5]>>>8&255,a[l+12]=this.h[6]>>>0&255,a[l+13]=this.h[6]>>>8&255,a[l+14]=this.h[7]>>>0&255,a[l+15]=this.h[7]>>>8&255},ge.prototype.update=function(a,l,f){var s,u;if(this.leftover){for(u=16-this.leftover,u>f&&(u=f),s=0;s<u;s++)this.buffer[this.leftover+s]=a[l+s];if(f-=u,l+=u,this.leftover+=u,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(f>=16&&(u=f-f%16,this.blocks(a,l,u),l+=u,f-=u),f){for(s=0;s<f;s++)this.buffer[this.leftover+s]=a[l+s];this.leftover+=f}};function ke(a,l,f,s,u,y){var b=new ge(y);return b.update(f,s,u),b.finish(a,l),0}function Ye(a,l,f,s,u,y){var b=new Uint8Array(16);return ke(b,0,f,s,u,y),j(a,l,b,0)}function lt(a,l,f,s,u){var y;if(f<32)return-1;for(je(a,0,l,0,f,s,u),ke(a,16,a,32,f-32,a),y=0;y<16;y++)a[y]=0;return 0}function Je(a,l,f,s,u){var y,b=new Uint8Array(32);if(f<32||(Te(b,0,32,s,u),Ye(l,16,l,32,f-32,b)!==0))return-1;for(je(a,0,l,0,f,s,u),y=0;y<32;y++)a[y]=0;return 0}function et(a,l){var f;for(f=0;f<16;f++)a[f]=l[f]|0}function xr(a){var l,f,s=1;for(l=0;l<16;l++)f=a[l]+s+65535,s=Math.floor(f/65536),a[l]=f-s*65536;a[0]+=s-1+37*(s-1)}function zt(a,l,f){for(var s,u=~(f-1),y=0;y<16;y++)s=u&(a[y]^l[y]),a[y]^=s,l[y]^=s}function Ot(a,l){var f,s,u,y=n(),b=n();for(f=0;f<16;f++)b[f]=l[f];for(xr(b),xr(b),xr(b),s=0;s<2;s++){for(y[0]=b[0]-65517,f=1;f<15;f++)y[f]=b[f]-65535-(y[f-1]>>16&1),y[f-1]&=65535;y[15]=b[15]-32767-(y[14]>>16&1),u=y[15]>>16&1,y[14]&=65535,zt(b,y,1-u)}for(f=0;f<16;f++)a[2*f]=b[f]&255,a[2*f+1]=b[f]>>8}function ks(a,l){var f=new Uint8Array(32),s=new Uint8Array(32);return Ot(f,a),Ot(s,l),Q(f,0,s,0)}function zs(a){var l=new Uint8Array(32);return Ot(l,a),l[0]&1}function yr(a,l){var f;for(f=0;f<16;f++)a[f]=l[2*f]+(l[2*f+1]<<8);a[15]&=32767}function tt(a,l,f){for(var s=0;s<16;s++)a[s]=l[s]+f[s]}function nt(a,l,f){for(var s=0;s<16;s++)a[s]=l[s]-f[s]}function ae(a,l,f){var s,u,y=0,b=0,A=0,I=0,D=0,N=0,ue=0,$=0,K=0,W=0,Z=0,X=0,V=0,J=0,Y=0,R=0,q=0,H=0,P=0,M=0,O=0,g=0,w=0,S=0,T=0,U=0,B=0,G=0,ee=0,ne=0,te=0,h=f[0],oe=f[1],de=f[2],he=f[3],re=f[4],ce=f[5],fe=f[6],Ie=f[7],_e=f[8],Ue=f[9],Se=f[10],Ee=f[11],Le=f[12],Me=f[13],De=f[14],Fe=f[15];s=l[0],y+=s*h,b+=s*oe,A+=s*de,I+=s*he,D+=s*re,N+=s*ce,ue+=s*fe,$+=s*Ie,K+=s*_e,W+=s*Ue,Z+=s*Se,X+=s*Ee,V+=s*Le,J+=s*Me,Y+=s*De,R+=s*Fe,s=l[1],b+=s*h,A+=s*oe,I+=s*de,D+=s*he,N+=s*re,ue+=s*ce,$+=s*fe,K+=s*Ie,W+=s*_e,Z+=s*Ue,X+=s*Se,V+=s*Ee,J+=s*Le,Y+=s*Me,R+=s*De,q+=s*Fe,s=l[2],A+=s*h,I+=s*oe,D+=s*de,N+=s*he,ue+=s*re,$+=s*ce,K+=s*fe,W+=s*Ie,Z+=s*_e,X+=s*Ue,V+=s*Se,J+=s*Ee,Y+=s*Le,R+=s*Me,q+=s*De,H+=s*Fe,s=l[3],I+=s*h,D+=s*oe,N+=s*de,ue+=s*he,$+=s*re,K+=s*ce,W+=s*fe,Z+=s*Ie,X+=s*_e,V+=s*Ue,J+=s*Se,Y+=s*Ee,R+=s*Le,q+=s*Me,H+=s*De,P+=s*Fe,s=l[4],D+=s*h,N+=s*oe,ue+=s*de,$+=s*he,K+=s*re,W+=s*ce,Z+=s*fe,X+=s*Ie,V+=s*_e,J+=s*Ue,Y+=s*Se,R+=s*Ee,q+=s*Le,H+=s*Me,P+=s*De,M+=s*Fe,s=l[5],N+=s*h,ue+=s*oe,$+=s*de,K+=s*he,W+=s*re,Z+=s*ce,X+=s*fe,V+=s*Ie,J+=s*_e,Y+=s*Ue,R+=s*Se,q+=s*Ee,H+=s*Le,P+=s*Me,M+=s*De,O+=s*Fe,s=l[6],ue+=s*h,$+=s*oe,K+=s*de,W+=s*he,Z+=s*re,X+=s*ce,V+=s*fe,J+=s*Ie,Y+=s*_e,R+=s*Ue,q+=s*Se,H+=s*Ee,P+=s*Le,M+=s*Me,O+=s*De,g+=s*Fe,s=l[7],$+=s*h,K+=s*oe,W+=s*de,Z+=s*he,X+=s*re,V+=s*ce,J+=s*fe,Y+=s*Ie,R+=s*_e,q+=s*Ue,H+=s*Se,P+=s*Ee,M+=s*Le,O+=s*Me,g+=s*De,w+=s*Fe,s=l[8],K+=s*h,W+=s*oe,Z+=s*de,X+=s*he,V+=s*re,J+=s*ce,Y+=s*fe,R+=s*Ie,q+=s*_e,H+=s*Ue,P+=s*Se,M+=s*Ee,O+=s*Le,g+=s*Me,w+=s*De,S+=s*Fe,s=l[9],W+=s*h,Z+=s*oe,X+=s*de,V+=s*he,J+=s*re,Y+=s*ce,R+=s*fe,q+=s*Ie,H+=s*_e,P+=s*Ue,M+=s*Se,O+=s*Ee,g+=s*Le,w+=s*Me,S+=s*De,T+=s*Fe,s=l[10],Z+=s*h,X+=s*oe,V+=s*de,J+=s*he,Y+=s*re,R+=s*ce,q+=s*fe,H+=s*Ie,P+=s*_e,M+=s*Ue,O+=s*Se,g+=s*Ee,w+=s*Le,S+=s*Me,T+=s*De,U+=s*Fe,s=l[11],X+=s*h,V+=s*oe,J+=s*de,Y+=s*he,R+=s*re,q+=s*ce,H+=s*fe,P+=s*Ie,M+=s*_e,O+=s*Ue,g+=s*Se,w+=s*Ee,S+=s*Le,T+=s*Me,U+=s*De,B+=s*Fe,s=l[12],V+=s*h,J+=s*oe,Y+=s*de,R+=s*he,q+=s*re,H+=s*ce,P+=s*fe,M+=s*Ie,O+=s*_e,g+=s*Ue,w+=s*Se,S+=s*Ee,T+=s*Le,U+=s*Me,B+=s*De,G+=s*Fe,s=l[13],J+=s*h,Y+=s*oe,R+=s*de,q+=s*he,H+=s*re,P+=s*ce,M+=s*fe,O+=s*Ie,g+=s*_e,w+=s*Ue,S+=s*Se,T+=s*Ee,U+=s*Le,B+=s*Me,G+=s*De,ee+=s*Fe,s=l[14],Y+=s*h,R+=s*oe,q+=s*de,H+=s*he,P+=s*re,M+=s*ce,O+=s*fe,g+=s*Ie,w+=s*_e,S+=s*Ue,T+=s*Se,U+=s*Ee,B+=s*Le,G+=s*Me,ee+=s*De,ne+=s*Fe,s=l[15],R+=s*h,q+=s*oe,H+=s*de,P+=s*he,M+=s*re,O+=s*ce,g+=s*fe,w+=s*Ie,S+=s*_e,T+=s*Ue,U+=s*Se,B+=s*Ee,G+=s*Le,ee+=s*Me,ne+=s*De,te+=s*Fe,y+=38*q,b+=38*H,A+=38*P,I+=38*M,D+=38*O,N+=38*g,ue+=38*w,$+=38*S,K+=38*T,W+=38*U,Z+=38*B,X+=38*G,V+=38*ee,J+=38*ne,Y+=38*te,u=1,s=y+u+65535,u=Math.floor(s/65536),y=s-u*65536,s=b+u+65535,u=Math.floor(s/65536),b=s-u*65536,s=A+u+65535,u=Math.floor(s/65536),A=s-u*65536,s=I+u+65535,u=Math.floor(s/65536),I=s-u*65536,s=D+u+65535,u=Math.floor(s/65536),D=s-u*65536,s=N+u+65535,u=Math.floor(s/65536),N=s-u*65536,s=ue+u+65535,u=Math.floor(s/65536),ue=s-u*65536,s=$+u+65535,u=Math.floor(s/65536),$=s-u*65536,s=K+u+65535,u=Math.floor(s/65536),K=s-u*65536,s=W+u+65535,u=Math.floor(s/65536),W=s-u*65536,s=Z+u+65535,u=Math.floor(s/65536),Z=s-u*65536,s=X+u+65535,u=Math.floor(s/65536),X=s-u*65536,s=V+u+65535,u=Math.floor(s/65536),V=s-u*65536,s=J+u+65535,u=Math.floor(s/65536),J=s-u*65536,s=Y+u+65535,u=Math.floor(s/65536),Y=s-u*65536,s=R+u+65535,u=Math.floor(s/65536),R=s-u*65536,y+=u-1+37*(u-1),u=1,s=y+u+65535,u=Math.floor(s/65536),y=s-u*65536,s=b+u+65535,u=Math.floor(s/65536),b=s-u*65536,s=A+u+65535,u=Math.floor(s/65536),A=s-u*65536,s=I+u+65535,u=Math.floor(s/65536),I=s-u*65536,s=D+u+65535,u=Math.floor(s/65536),D=s-u*65536,s=N+u+65535,u=Math.floor(s/65536),N=s-u*65536,s=ue+u+65535,u=Math.floor(s/65536),ue=s-u*65536,s=$+u+65535,u=Math.floor(s/65536),$=s-u*65536,s=K+u+65535,u=Math.floor(s/65536),K=s-u*65536,s=W+u+65535,u=Math.floor(s/65536),W=s-u*65536,s=Z+u+65535,u=Math.floor(s/65536),Z=s-u*65536,s=X+u+65535,u=Math.floor(s/65536),X=s-u*65536,s=V+u+65535,u=Math.floor(s/65536),V=s-u*65536,s=J+u+65535,u=Math.floor(s/65536),J=s-u*65536,s=Y+u+65535,u=Math.floor(s/65536),Y=s-u*65536,s=R+u+65535,u=Math.floor(s/65536),R=s-u*65536,y+=u-1+37*(u-1),a[0]=y,a[1]=b,a[2]=A,a[3]=I,a[4]=D,a[5]=N,a[6]=ue,a[7]=$,a[8]=K,a[9]=W,a[10]=Z,a[11]=X,a[12]=V,a[13]=J,a[14]=Y,a[15]=R}function Xe(a,l){ae(a,l,l)}function Os(a,l){var f=n(),s;for(s=0;s<16;s++)f[s]=l[s];for(s=253;s>=0;s--)Xe(f,f),s!==2&&s!==4&&ae(f,f,l);for(s=0;s<16;s++)a[s]=f[s]}function Ls(a,l){var f=n(),s;for(s=0;s<16;s++)f[s]=l[s];for(s=250;s>=0;s--)Xe(f,f),s!==1&&ae(f,f,l);for(s=0;s<16;s++)a[s]=f[s]}function Un(a,l,f){var s=new Uint8Array(32),u=new Float64Array(80),y,b,A=n(),I=n(),D=n(),N=n(),ue=n(),$=n();for(b=0;b<31;b++)s[b]=l[b];for(s[31]=l[31]&127|64,s[0]&=248,yr(u,f),b=0;b<16;b++)I[b]=u[b],N[b]=A[b]=D[b]=0;for(A[0]=N[0]=1,b=254;b>=0;--b)y=s[b>>>3]>>>(b&7)&1,zt(A,I,y),zt(D,N,y),tt(ue,A,D),nt(A,A,D),tt(D,I,N),nt(I,I,N),Xe(N,ue),Xe($,A),ae(A,D,A),ae(D,I,ue),tt(ue,A,D),nt(A,A,D),Xe(I,A),nt(D,N,$),ae(A,D,p),tt(A,A,N),ae(D,D,A),ae(A,N,$),ae(N,I,u),Xe(I,ue),zt(A,I,y),zt(D,N,y);for(b=0;b<16;b++)u[b+16]=A[b],u[b+32]=D[b],u[b+48]=I[b],u[b+64]=N[b];var K=u.subarray(32),W=u.subarray(16);return Os(K,K),ae(W,W,K),Ot(a,W),0}function Sn(a,l){return Un(a,l,o)}function Ns(a,l){return r(l,32),Sn(a,l)}function En(a,l,f){var s=new Uint8Array(32);return Un(s,f,l),we(a,i,s,He)}var Hs=lt,Oa=Je;function La(a,l,f,s,u,y){var b=new Uint8Array(32);return En(b,u,y),Hs(a,l,f,s,b)}function Na(a,l,f,s,u,y){var b=new Uint8Array(32);return En(b,u,y),Oa(a,l,f,s,b)}var $s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Rs(a,l,f,s){for(var u=new Int32Array(16),y=new Int32Array(16),b,A,I,D,N,ue,$,K,W,Z,X,V,J,Y,R,q,H,P,M,O,g,w,S,T,U,B,G=a[0],ee=a[1],ne=a[2],te=a[3],h=a[4],oe=a[5],de=a[6],he=a[7],re=l[0],ce=l[1],fe=l[2],Ie=l[3],_e=l[4],Ue=l[5],Se=l[6],Ee=l[7],Le=0;s>=128;){for(M=0;M<16;M++)O=8*M+Le,u[M]=f[O+0]<<24|f[O+1]<<16|f[O+2]<<8|f[O+3],y[M]=f[O+4]<<24|f[O+5]<<16|f[O+6]<<8|f[O+7];for(M=0;M<80;M++)if(b=G,A=ee,I=ne,D=te,N=h,ue=oe,$=de,K=he,W=re,Z=ce,X=fe,V=Ie,J=_e,Y=Ue,R=Se,q=Ee,g=he,w=Ee,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=(h>>>14|_e<<18)^(h>>>18|_e<<14)^(_e>>>9|h<<23),w=(_e>>>14|h<<18)^(_e>>>18|h<<14)^(h>>>9|_e<<23),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=h&oe^~h&de,w=_e&Ue^~_e&Se,S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=$s[M*2],w=$s[M*2+1],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=u[M%16],w=y[M%16],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,H=U&65535|B<<16,P=S&65535|T<<16,g=H,w=P,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=(G>>>28|re<<4)^(re>>>2|G<<30)^(re>>>7|G<<25),w=(re>>>28|G<<4)^(G>>>2|re<<30)^(G>>>7|re<<25),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,g=G&ee^G&ne^ee&ne,w=re&ce^re&fe^ce&fe,S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,K=U&65535|B<<16,q=S&65535|T<<16,g=D,w=V,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=H,w=P,S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,D=U&65535|B<<16,V=S&65535|T<<16,ee=b,ne=A,te=I,h=D,oe=N,de=ue,he=$,G=K,ce=W,fe=Z,Ie=X,_e=V,Ue=J,Se=Y,Ee=R,re=q,M%16===15)for(O=0;O<16;O++)g=u[O],w=y[O],S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=u[(O+9)%16],w=y[(O+9)%16],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,H=u[(O+1)%16],P=y[(O+1)%16],g=(H>>>1|P<<31)^(H>>>8|P<<24)^H>>>7,w=(P>>>1|H<<31)^(P>>>8|H<<24)^(P>>>7|H<<25),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,H=u[(O+14)%16],P=y[(O+14)%16],g=(H>>>19|P<<13)^(P>>>29|H<<3)^H>>>6,w=(P>>>19|H<<13)^(H>>>29|P<<3)^(P>>>6|H<<26),S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,u[O]=U&65535|B<<16,y[O]=S&65535|T<<16;g=G,w=re,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[0],w=l[0],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[0]=G=U&65535|B<<16,l[0]=re=S&65535|T<<16,g=ee,w=ce,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[1],w=l[1],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[1]=ee=U&65535|B<<16,l[1]=ce=S&65535|T<<16,g=ne,w=fe,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[2],w=l[2],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[2]=ne=U&65535|B<<16,l[2]=fe=S&65535|T<<16,g=te,w=Ie,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[3],w=l[3],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[3]=te=U&65535|B<<16,l[3]=Ie=S&65535|T<<16,g=h,w=_e,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[4],w=l[4],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[4]=h=U&65535|B<<16,l[4]=_e=S&65535|T<<16,g=oe,w=Ue,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[5],w=l[5],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[5]=oe=U&65535|B<<16,l[5]=Ue=S&65535|T<<16,g=de,w=Se,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[6],w=l[6],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[6]=de=U&65535|B<<16,l[6]=Se=S&65535|T<<16,g=he,w=Ee,S=w&65535,T=w>>>16,U=g&65535,B=g>>>16,g=a[7],w=l[7],S+=w&65535,T+=w>>>16,U+=g&65535,B+=g>>>16,T+=S>>>16,U+=T>>>16,B+=U>>>16,a[7]=he=U&65535|B<<16,l[7]=Ee=S&65535|T<<16,Le+=128,s-=128}return s}function St(a,l,f){var s=new Int32Array(8),u=new Int32Array(8),y=new Uint8Array(256),b,A=f;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,u[0]=4089235720,u[1]=2227873595,u[2]=4271175723,u[3]=1595750129,u[4]=2917565137,u[5]=725511199,u[6]=4215389547,u[7]=327033209,Rs(s,u,l,f),f%=128,b=0;b<f;b++)y[b]=l[A-f+b];for(y[f]=128,f=256-128*(f<112?1:0),y[f-9]=0,k(y,f-8,A/536870912|0,A<<3),Rs(s,u,y,f),b=0;b<8;b++)k(a,8*b,s[b],u[b]);return 0}function Bn(a,l){var f=n(),s=n(),u=n(),y=n(),b=n(),A=n(),I=n(),D=n(),N=n();nt(f,a[1],a[0]),nt(N,l[1],l[0]),ae(f,f,N),tt(s,a[0],a[1]),tt(N,l[0],l[1]),ae(s,s,N),ae(u,a[3],l[3]),ae(u,u,m),ae(y,a[2],l[2]),tt(y,y,y),nt(b,s,f),nt(A,y,u),tt(I,y,u),tt(D,s,f),ae(a[0],b,A),ae(a[1],D,I),ae(a[2],I,A),ae(a[3],b,D)}function Ps(a,l,f){var s;for(s=0;s<4;s++)zt(a[s],l[s],f)}function _r(a,l){var f=n(),s=n(),u=n();Os(u,l[2]),ae(f,l[0],u),ae(s,l[1],u),Ot(a,s),a[31]^=zs(f)<<7}function br(a,l,f){var s,u;for(et(a[0],c),et(a[1],d),et(a[2],d),et(a[3],c),u=255;u>=0;--u)s=f[u/8|0]>>(u&7)&1,Ps(a,l,s),Bn(l,a),Bn(a,a),Ps(a,l,s)}function In(a,l){var f=[n(),n(),n(),n()];et(f[0],x),et(f[1],E),et(f[2],d),ae(f[3],x,E),br(a,f,l)}function gr(a,l,f){var s=new Uint8Array(64),u=[n(),n(),n(),n()],y;for(f||r(l,32),St(s,l,32),s[0]&=248,s[31]&=127,s[31]|=64,In(u,s),_r(a,u),y=0;y<32;y++)l[y+32]=a[y];return 0}var Cn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function wr(a,l){var f,s,u,y;for(s=63;s>=32;--s){for(f=0,u=s-32,y=s-12;u<y;++u)l[u]+=f-16*l[s]*Cn[u-(s-32)],f=Math.floor((l[u]+128)/256),l[u]-=f*256;l[u]+=f,l[s]=0}for(f=0,u=0;u<32;u++)l[u]+=f-(l[31]>>4)*Cn[u],f=l[u]>>8,l[u]&=255;for(u=0;u<32;u++)l[u]-=f*Cn[u];for(s=0;s<32;s++)l[s+1]+=l[s]>>8,a[s]=l[s]&255}function mr(a){var l=new Float64Array(64),f;for(f=0;f<64;f++)l[f]=a[f];for(f=0;f<64;f++)a[f]=0;wr(a,l)}function Ms(a,l,f,s){var u=new Uint8Array(64),y=new Uint8Array(64),b=new Uint8Array(64),A,I,D=new Float64Array(64),N=[n(),n(),n(),n()];St(u,s,32),u[0]&=248,u[31]&=127,u[31]|=64;var ue=f+64;for(A=0;A<f;A++)a[64+A]=l[A];for(A=0;A<32;A++)a[32+A]=u[32+A];for(St(b,a.subarray(32),f+32),mr(b),In(N,b),_r(a,N),A=32;A<64;A++)a[A]=s[A];for(St(y,a,f+64),mr(y),A=0;A<64;A++)D[A]=0;for(A=0;A<32;A++)D[A]=b[A];for(A=0;A<32;A++)for(I=0;I<32;I++)D[A+I]+=y[A]*u[I];return wr(a.subarray(32),D),ue}function Ha(a,l){var f=n(),s=n(),u=n(),y=n(),b=n(),A=n(),I=n();return et(a[2],d),yr(a[1],l),Xe(u,a[1]),ae(y,u,_),nt(u,u,a[2]),tt(y,a[2],y),Xe(b,y),Xe(A,b),ae(I,A,b),ae(f,I,u),ae(f,f,y),Ls(f,f),ae(f,f,u),ae(f,f,y),ae(f,f,y),ae(a[0],f,y),Xe(s,a[0]),ae(s,s,y),ks(s,u)&&ae(a[0],a[0],L),Xe(s,a[0]),ae(s,s,y),ks(s,u)?-1:(zs(a[0])===l[31]>>7&&nt(a[0],c,a[0]),ae(a[3],a[0],a[1]),0)}function vr(a,l,f,s){var u,y=new Uint8Array(32),b=new Uint8Array(64),A=[n(),n(),n(),n()],I=[n(),n(),n(),n()];if(f<64||Ha(I,s))return-1;for(u=0;u<f;u++)a[u]=l[u];for(u=0;u<32;u++)a[u+32]=s[u];if(St(b,a,f),mr(b),br(A,I,b),In(I,l.subarray(32)),Bn(A,I),_r(y,A),f-=64,Q(l,0,y,0)){for(u=0;u<f;u++)a[u]=0;return-1}for(u=0;u<f;u++)a[u]=l[u+64];return f}var Tr=32,kn=24,Xt=32,Lt=16,Qt=32,zn=32,Zt=32,en=32,Ar=32,Ds=kn,$a=Xt,Ra=Lt,ut=64,Et=32,Nt=64,Ur=32,Sr=64;e.lowlevel={crypto_core_hsalsa20:we,crypto_stream_xor:je,crypto_stream:Te,crypto_stream_salsa20_xor:Ve,crypto_stream_salsa20:ve,crypto_onetimeauth:ke,crypto_onetimeauth_verify:Ye,crypto_verify_16:j,crypto_verify_32:Q,crypto_secretbox:lt,crypto_secretbox_open:Je,crypto_scalarmult:Un,crypto_scalarmult_base:Sn,crypto_box_beforenm:En,crypto_box_afternm:Hs,crypto_box:La,crypto_box_open:Na,crypto_box_keypair:Ns,crypto_hash:St,crypto_sign:Ms,crypto_sign_keypair:gr,crypto_sign_open:vr,crypto_secretbox_KEYBYTES:Tr,crypto_secretbox_NONCEBYTES:kn,crypto_secretbox_ZEROBYTES:Xt,crypto_secretbox_BOXZEROBYTES:Lt,crypto_scalarmult_BYTES:Qt,crypto_scalarmult_SCALARBYTES:zn,crypto_box_PUBLICKEYBYTES:Zt,crypto_box_SECRETKEYBYTES:en,crypto_box_BEFORENMBYTES:Ar,crypto_box_NONCEBYTES:Ds,crypto_box_ZEROBYTES:$a,crypto_box_BOXZEROBYTES:Ra,crypto_sign_BYTES:ut,crypto_sign_PUBLICKEYBYTES:Et,crypto_sign_SECRETKEYBYTES:Nt,crypto_sign_SEEDBYTES:Ur,crypto_hash_BYTES:Sr,gf:n,D:_,L:Cn,pack25519:Ot,unpack25519:yr,M:ae,A:tt,S:Xe,Z:nt,pow2523:Ls,add:Bn,set25519:et,modL:wr,scalarmult:br,scalarbase:In};function Fs(a,l){if(a.length!==Tr)throw new Error("bad key size");if(l.length!==kn)throw new Error("bad nonce size")}function Pa(a,l){if(a.length!==Zt)throw new Error("bad public key size");if(l.length!==en)throw new Error("bad secret key size")}function We(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function qs(a){for(var l=0;l<a.length;l++)a[l]=0}e.randomBytes=function(a){var l=new Uint8Array(a);return r(l,a),l},e.secretbox=function(a,l,f){We(a,l,f),Fs(f,l);for(var s=new Uint8Array(Xt+a.length),u=new Uint8Array(s.length),y=0;y<a.length;y++)s[y+Xt]=a[y];return lt(u,s,s.length,l,f),u.subarray(Lt)},e.secretbox.open=function(a,l,f){We(a,l,f),Fs(f,l);for(var s=new Uint8Array(Lt+a.length),u=new Uint8Array(s.length),y=0;y<a.length;y++)s[y+Lt]=a[y];return s.length<32||Je(u,s,s.length,l,f)!==0?null:u.subarray(Xt)},e.secretbox.keyLength=Tr,e.secretbox.nonceLength=kn,e.secretbox.overheadLength=Lt,e.scalarMult=function(a,l){if(We(a,l),a.length!==zn)throw new Error("bad n size");if(l.length!==Qt)throw new Error("bad p size");var f=new Uint8Array(Qt);return Un(f,a,l),f},e.scalarMult.base=function(a){if(We(a),a.length!==zn)throw new Error("bad n size");var l=new Uint8Array(Qt);return Sn(l,a),l},e.scalarMult.scalarLength=zn,e.scalarMult.groupElementLength=Qt,e.box=function(a,l,f,s){var u=e.box.before(f,s);return e.secretbox(a,l,u)},e.box.before=function(a,l){We(a,l),Pa(a,l);var f=new Uint8Array(Ar);return En(f,a,l),f},e.box.after=e.secretbox,e.box.open=function(a,l,f,s){var u=e.box.before(f,s);return e.secretbox.open(a,l,u)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var a=new Uint8Array(Zt),l=new Uint8Array(en);return Ns(a,l),{publicKey:a,secretKey:l}},e.box.keyPair.fromSecretKey=function(a){if(We(a),a.length!==en)throw new Error("bad secret key size");var l=new Uint8Array(Zt);return Sn(l,a),{publicKey:l,secretKey:new Uint8Array(a)}},e.box.publicKeyLength=Zt,e.box.secretKeyLength=en,e.box.sharedKeyLength=Ar,e.box.nonceLength=Ds,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(a,l){if(We(a,l),l.length!==Nt)throw new Error("bad secret key size");var f=new Uint8Array(ut+a.length);return Ms(f,a,a.length,l),f},e.sign.open=function(a,l){if(We(a,l),l.length!==Et)throw new Error("bad public key size");var f=new Uint8Array(a.length),s=vr(f,a,a.length,l);if(s<0)return null;for(var u=new Uint8Array(s),y=0;y<u.length;y++)u[y]=f[y];return u},e.sign.detached=function(a,l){for(var f=e.sign(a,l),s=new Uint8Array(ut),u=0;u<s.length;u++)s[u]=f[u];return s},e.sign.detached.verify=function(a,l,f){if(We(a,l,f),l.length!==ut)throw new Error("bad signature size");if(f.length!==Et)throw new Error("bad public key size");var s=new Uint8Array(ut+a.length),u=new Uint8Array(ut+a.length),y;for(y=0;y<ut;y++)s[y]=l[y];for(y=0;y<a.length;y++)s[y+ut]=a[y];return vr(u,s,s.length,f)>=0},e.sign.keyPair=function(){var a=new Uint8Array(Et),l=new Uint8Array(Nt);return gr(a,l),{publicKey:a,secretKey:l}},e.sign.keyPair.fromSecretKey=function(a){if(We(a),a.length!==Nt)throw new Error("bad secret key size");for(var l=new Uint8Array(Et),f=0;f<l.length;f++)l[f]=a[32+f];return{publicKey:l,secretKey:new Uint8Array(a)}},e.sign.keyPair.fromSeed=function(a){if(We(a),a.length!==Ur)throw new Error("bad seed size");for(var l=new Uint8Array(Et),f=new Uint8Array(Nt),s=0;s<32;s++)f[s]=a[s];return gr(l,f,!0),{publicKey:l,secretKey:f}},e.sign.publicKeyLength=Et,e.sign.secretKeyLength=Nt,e.sign.seedLength=Ur,e.sign.signatureLength=ut,e.hash=function(a){We(a);var l=new Uint8Array(Sr);return St(l,a,a.length),l},e.hash.hashLength=Sr,e.verify=function(a,l){return We(a,l),a.length===0||l.length===0||a.length!==l.length?!1:C(a,0,l,0,a.length)===0},e.setPRNG=function(a){r=a},function(){var a=typeof self<"u"?self.crypto||self.msCrypto:null;if(a&&a.getRandomValues){var l=65536;e.setPRNG(function(f,s){var u,y=new Uint8Array(s);for(u=0;u<s;u+=l)a.getRandomValues(y.subarray(u,u+Math.min(s-u,l)));for(u=0;u<s;u++)f[u]=y[u];qs(y)})}else typeof rc<"u"&&(a=tc,a&&a.randomBytes&&e.setPRNG(function(f,s){var u,y=a.randomBytes(s);for(u=0;u<s;u++)f[u]=y[u];qs(y)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(pi);var sc=pi.exports;const Ln=Fa(sc);function an(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ic(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function xi(t,...e){if(!ic(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function yi(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");an(t.outputLen),an(t.blockLen)}function Vn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function oc(t,e){xi(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ac(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const Pn=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),cc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cc)throw new Error("Non little-endian hardware is not supported");function fc(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function cn(t){if(typeof t=="string"&&(t=fc(t)),!ac(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}let _i=class{clone(){return this._cloneInto()}};const lc={}.toString;function uc(t,e){if(e!==void 0&&lc.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function dc(t){const e=r=>t().update(cn(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}let bi=class extends _i{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,yi(e);const r=cn(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(e){return Vn(this),this.iHash.update(e),this}digestInto(e){Vn(this),xi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:c,outputLen:d}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=c,e.outputLen=d,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const gi=(t,e,n)=>new bi(t,e).update(n).digest();gi.create=(t,e)=>new bi(t,e);function hc(t,e,n,r){yi(t);const i=uc({dkLen:32,asyncTick:10},r),{c:o,dkLen:c,asyncTick:d}=i;if(an(o),an(c),an(d),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const p=cn(e),_=cn(n),m=new Uint8Array(c),x=gi.create(t,p),E=x._cloneInto().update(_);return{c:o,dkLen:c,asyncTick:d,DK:m,PRF:x,PRFSalt:E}}function pc(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function xc(t,e,n,r){const{c:i,dkLen:o,DK:c,PRF:d,PRFSalt:p}=hc(t,e,n,r);let _;const m=new Uint8Array(4),x=Pn(m),E=new Uint8Array(d.outputLen);for(let L=1,k=0;k<o;L++,k+=d.outputLen){const C=c.subarray(k,k+d.outputLen);x.setInt32(0,L,!1),(_=p._cloneInto(_)).update(m).digestInto(E),C.set(E.subarray(0,C.length));for(let j=1;j<i;j++){d._cloneInto(_).update(E).digestInto(E);for(let Q=0;Q<C.length;Q++)C[Q]^=E[Q]}}return pc(d,p,c,_,E)}function yc(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),c=Number(n>>i&o),d=Number(n&o),p=r?4:0,_=r?0:4;t.setUint32(e+p,c,r),t.setUint32(e+_,d,r)}let _c=class extends _i{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Pn(this.buffer)}update(e){Vn(this);const{view:n,buffer:r,blockLen:i}=this;e=cn(e);const o=e.length;for(let c=0;c<o;){const d=Math.min(i-this.pos,o-c);if(d===i){const p=Pn(e);for(;i<=o-c;c+=i)this.process(p,c);continue}r.set(e.subarray(c,c+d),this.pos),this.pos+=d,c+=d,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vn(this),oc(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let x=c;x<i;x++)n[x]=0;yc(r,i-8,BigInt(this.length*8),o),this.process(r,0);const d=Pn(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=p/4,m=this.get();if(_>m.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<_;x++)d.setUint32(4*x,m[x],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:c,pos:d}=this;return e.length=i,e.pos=d,e.finished=o,e.destroyed=c,i%n&&e.buffer.set(r),e}};const Nn=BigInt(2**32-1),$r=BigInt(32);function wi(t,e=!1){return e?{h:Number(t&Nn),l:Number(t>>$r&Nn)}:{h:Number(t>>$r&Nn)|0,l:Number(t&Nn)|0}}function bc(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:c}=wi(t[i],e);[n[i],r[i]]=[o,c]}return[n,r]}const gc=(t,e)=>BigInt(t>>>0)<<$r|BigInt(e>>>0),wc=(t,e,n)=>t>>>n,mc=(t,e,n)=>t<<32-n|e>>>n,vc=(t,e,n)=>t>>>n|e<<32-n,Tc=(t,e,n)=>t<<32-n|e>>>n,Ac=(t,e,n)=>t<<64-n|e>>>n-32,Uc=(t,e,n)=>t>>>n-32|e<<64-n,Sc=(t,e)=>e,Ec=(t,e)=>t,Bc=(t,e,n)=>t<<n|e>>>32-n,Ic=(t,e,n)=>e<<n|t>>>32-n,Cc=(t,e,n)=>e<<n-32|t>>>64-n,kc=(t,e,n)=>t<<n-32|e>>>64-n;function zc(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Oc=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Lc=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Nc=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Hc=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,$c=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Rc=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,se={fromBig:wi,split:bc,toBig:gc,shrSH:wc,shrSL:mc,rotrSH:vc,rotrSL:Tc,rotrBH:Ac,rotrBL:Uc,rotr32H:Sc,rotr32L:Ec,rotlSH:Bc,rotlSL:Ic,rotlBH:Cc,rotlBL:kc,add:zc,add3L:Oc,add3H:Lc,add4L:Nc,add4H:Hc,add5H:Rc,add5L:$c},[Pc,Mc]=se.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),xt=new Uint32Array(80),yt=new Uint32Array(80);let Dc=class extends _c{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:c,Dh:d,Dl:p,Eh:_,El:m,Fh:x,Fl:E,Gh:L,Gl:k,Hh:C,Hl:j}=this;return[e,n,r,i,o,c,d,p,_,m,x,E,L,k,C,j]}set(e,n,r,i,o,c,d,p,_,m,x,E,L,k,C,j){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=c|0,this.Dh=d|0,this.Dl=p|0,this.Eh=_|0,this.El=m|0,this.Fh=x|0,this.Fl=E|0,this.Gh=L|0,this.Gl=k|0,this.Hh=C|0,this.Hl=j|0}process(e,n){for(let z=0;z<16;z++,n+=4)xt[z]=e.getUint32(n),yt[z]=e.getUint32(n+=4);for(let z=16;z<80;z++){const pe=xt[z-15]|0,we=yt[z-15]|0,He=se.rotrSH(pe,we,1)^se.rotrSH(pe,we,8)^se.shrSH(pe,we,7),Ve=se.rotrSL(pe,we,1)^se.rotrSL(pe,we,8)^se.shrSL(pe,we,7),ve=xt[z-2]|0,Te=yt[z-2]|0,je=se.rotrSH(ve,Te,19)^se.rotrBH(ve,Te,61)^se.shrSH(ve,Te,6),ge=se.rotrSL(ve,Te,19)^se.rotrBL(ve,Te,61)^se.shrSL(ve,Te,6),ke=se.add4L(Ve,ge,yt[z-7],yt[z-16]),Ye=se.add4H(ke,He,je,xt[z-7],xt[z-16]);xt[z]=Ye|0,yt[z]=ke|0}let{Ah:r,Al:i,Bh:o,Bl:c,Ch:d,Cl:p,Dh:_,Dl:m,Eh:x,El:E,Fh:L,Fl:k,Gh:C,Gl:j,Hh:Q,Hl:be}=this;for(let z=0;z<80;z++){const pe=se.rotrSH(x,E,14)^se.rotrSH(x,E,18)^se.rotrBH(x,E,41),we=se.rotrSL(x,E,14)^se.rotrSL(x,E,18)^se.rotrBL(x,E,41),He=x&L^~x&C,Ve=E&k^~E&j,ve=se.add5L(be,we,Ve,Mc[z],yt[z]),Te=se.add5H(ve,Q,pe,He,Pc[z],xt[z]),je=ve|0,ge=se.rotrSH(r,i,28)^se.rotrBH(r,i,34)^se.rotrBH(r,i,39),ke=se.rotrSL(r,i,28)^se.rotrBL(r,i,34)^se.rotrBL(r,i,39),Ye=r&o^r&d^o&d,lt=i&c^i&p^c&p;Q=C|0,be=j|0,C=L|0,j=k|0,L=x|0,k=E|0,{h:x,l:E}=se.add(_|0,m|0,Te|0,je|0),_=d|0,m=p|0,d=o|0,p=c|0,o=r|0,c=i|0;const Je=se.add3L(je,ke,lt);r=se.add3H(Je,Te,ge,Ye),i=Je|0}({h:r,l:i}=se.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:c}=se.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:d,l:p}=se.add(this.Ch|0,this.Cl|0,d|0,p|0),{h:_,l:m}=se.add(this.Dh|0,this.Dl|0,_|0,m|0),{h:x,l:E}=se.add(this.Eh|0,this.El|0,x|0,E|0),{h:L,l:k}=se.add(this.Fh|0,this.Fl|0,L|0,k|0),{h:C,l:j}=se.add(this.Gh|0,this.Gl|0,C|0,j|0),{h:Q,l:be}=se.add(this.Hh|0,this.Hl|0,Q|0,be|0),this.set(r,i,o,c,d,p,_,m,x,E,L,k,C,j,Q,be)}roundClean(){xt.fill(0),yt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Fc=dc(()=>new Dc);function mi(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function qc(t){const e=mi(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}const jc=t=>mi(`mnemonic${t}`);function Gc(t,e=""){return xc(Fc,qc(t).nfkd,jc(e),{c:2048,dkLen:64})}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function vi(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const Cr=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),at=(t,e)=>t<<32-e|t>>>e,Wc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Wc)throw new Error("Non little-endian hardware is not supported");const Vc=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ti(t){if(!vi(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Vc[t[n]];return e}const dt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Gs(t){if(t>=dt._0&&t<=dt._9)return t-dt._0;if(t>=dt._A&&t<=dt._F)return t-(dt._A-10);if(t>=dt._a&&t<=dt._f)return t-(dt._a-10)}function Ai(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const c=Gs(t.charCodeAt(o)),d=Gs(t.charCodeAt(o+1));if(c===void 0||d===void 0){const p=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+o)}r[i]=c*16+d}return r}function Yc(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Zn(t){if(typeof t=="string"&&(t=Yc(t)),!vi(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}class Qr{clone(){return this._cloneInto()}}function Zr(t){const e=r=>t().update(Zn(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Yn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Jc(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function es(t,...e){if(!Jc(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Xc(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yn(t.outputLen),Yn(t.blockLen)}function Dt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ui(t,e){es(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}function Qc(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),c=Number(n>>i&o),d=Number(n&o),p=r?4:0,_=r?0:4;t.setUint32(e+p,c,r),t.setUint32(e+_,d,r)}class Si extends Qr{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Cr(this.buffer)}update(e){Dt(this);const{view:n,buffer:r,blockLen:i}=this;e=Zn(e);const o=e.length;for(let c=0;c<o;){const d=Math.min(i-this.pos,o-c);if(d===i){const p=Cr(e);for(;i<=o-c;c+=i)this.process(p,c);continue}r.set(e.subarray(c,c+d),this.pos),this.pos+=d,c+=d,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Dt(this),Ui(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let x=c;x<i;x++)n[x]=0;Qc(r,i-8,BigInt(this.length*8),o),this.process(r,0);const d=Cr(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=p/4,m=this.get();if(_>m.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<_;x++)d.setUint32(4*x,m[x],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:c,pos:d}=this;return e.length=i,e.pos=d,e.finished=o,e.destroyed=c,i%n&&e.buffer.set(r),e}}const Zc=(t,e,n)=>t&e^~t&n,ef=(t,e,n)=>t&e^t&n^e&n,tf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_t=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt=new Uint32Array(64);class nf extends Si{constructor(){super(64,32,8,!1),this.A=_t[0]|0,this.B=_t[1]|0,this.C=_t[2]|0,this.D=_t[3]|0,this.E=_t[4]|0,this.F=_t[5]|0,this.G=_t[6]|0,this.H=_t[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:c,G:d,H:p}=this;return[e,n,r,i,o,c,d,p]}set(e,n,r,i,o,c,d,p){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=c|0,this.G=d|0,this.H=p|0}process(e,n){for(let x=0;x<16;x++,n+=4)bt[x]=e.getUint32(n,!1);for(let x=16;x<64;x++){const E=bt[x-15],L=bt[x-2],k=at(E,7)^at(E,18)^E>>>3,C=at(L,17)^at(L,19)^L>>>10;bt[x]=C+bt[x-7]+k+bt[x-16]|0}let{A:r,B:i,C:o,D:c,E:d,F:p,G:_,H:m}=this;for(let x=0;x<64;x++){const E=at(d,6)^at(d,11)^at(d,25),L=m+E+Zc(d,p,_)+tf[x]+bt[x]|0,C=(at(r,2)^at(r,13)^at(r,22))+ef(r,i,o)|0;m=_,_=p,p=d,d=c+L|0,c=o,o=i,i=r,r=L+C|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,c=c+this.D|0,d=d+this.E|0,p=p+this.F|0,_=_+this.G|0,m=m+this.H|0,this.set(r,i,o,c,d,p,_,m)}roundClean(){bt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const rf=Zr(()=>new nf),Hn=BigInt(2**32-1),Rr=BigInt(32);function Ei(t,e=!1){return e?{h:Number(t&Hn),l:Number(t>>Rr&Hn)}:{h:Number(t>>Rr&Hn)|0,l:Number(t&Hn)|0}}function Bi(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:c}=Ei(t[i],e);[n[i],r[i]]=[o,c]}return[n,r]}const sf=(t,e)=>BigInt(t>>>0)<<Rr|BigInt(e>>>0),of=(t,e,n)=>t>>>n,af=(t,e,n)=>t<<32-n|e>>>n,cf=(t,e,n)=>t>>>n|e<<32-n,ff=(t,e,n)=>t<<32-n|e>>>n,lf=(t,e,n)=>t<<64-n|e>>>n-32,uf=(t,e,n)=>t>>>n-32|e<<64-n,df=(t,e)=>e,hf=(t,e)=>t,Ii=(t,e,n)=>t<<n|e>>>32-n,Ci=(t,e,n)=>e<<n|t>>>32-n,ki=(t,e,n)=>e<<n-32|t>>>64-n,zi=(t,e,n)=>t<<n-32|e>>>64-n;function pf(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const xf=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),yf=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,_f=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),bf=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,gf=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),wf=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,ie={fromBig:Ei,split:Bi,toBig:sf,shrSH:of,shrSL:af,rotrSH:cf,rotrSL:ff,rotrBH:lf,rotrBL:uf,rotr32H:df,rotr32L:hf,rotlSH:Ii,rotlSL:Ci,rotlBH:ki,rotlBL:zi,add:pf,add3L:xf,add3H:yf,add4L:_f,add4H:bf,add5H:wf,add5L:gf},[Oi,Li,Ni]=[[],[],[]],mf=BigInt(0),nn=BigInt(1),vf=BigInt(2),Tf=BigInt(7),Af=BigInt(256),Uf=BigInt(113);for(let t=0,e=nn,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Oi.push(2*(5*r+n)),Li.push((t+1)*(t+2)/2%64);let i=mf;for(let o=0;o<7;o++)e=(e<<nn^(e>>Tf)*Uf)%Af,e&vf&&(i^=nn<<(nn<<BigInt(o))-nn);Ni.push(i)}const[Sf,Ef]=Bi(Ni,!0),Ks=(t,e,n)=>n>32?ki(t,e,n):Ii(t,e,n),Ws=(t,e,n)=>n>32?zi(t,e,n):Ci(t,e,n);function Bf(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const d=(c+8)%10,p=(c+2)%10,_=n[p],m=n[p+1],x=Ks(_,m,1)^n[d],E=Ws(_,m,1)^n[d+1];for(let L=0;L<50;L+=10)t[c+L]^=x,t[c+L+1]^=E}let i=t[2],o=t[3];for(let c=0;c<24;c++){const d=Li[c],p=Ks(i,o,d),_=Ws(i,o,d),m=Oi[c];i=t[m],o=t[m+1],t[m]=p,t[m+1]=_}for(let c=0;c<50;c+=10){for(let d=0;d<10;d++)n[d]=t[c+d];for(let d=0;d<10;d++)t[c+d]^=~n[(d+2)%10]&n[(d+4)%10]}t[0]^=Sf[r],t[1]^=Ef[r]}n.fill(0)}class ts extends Qr{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Yn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Kc(this.state)}keccak(){Bf(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Dt(this);const{blockLen:n,state:r}=this;e=Zn(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(n-this.pos,i-o);for(let d=0;d<c;d++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Dt(this,!1),es(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Yn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ui(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:c}=this;return e||(e=new ts(n,r,i,c,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}}const If=(t,e,n)=>Zr(()=>new ts(e,t,n)),Ft=If(6,136,256/8);class Hi extends Qr{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Xc(e);const r=Zn(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(e){return Dt(this),this.iHash.update(e),this}digestInto(e){Dt(this),es(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:c,outputLen:d}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=c,e.outputLen=d,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ns=(t,e,n)=>new Hi(t,e).update(n).digest();ns.create=(t,e)=>new Hi(t,e);const[Cf,kf]=ie.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),gt=new Uint32Array(80),wt=new Uint32Array(80);class zf extends Si{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:c,Dh:d,Dl:p,Eh:_,El:m,Fh:x,Fl:E,Gh:L,Gl:k,Hh:C,Hl:j}=this;return[e,n,r,i,o,c,d,p,_,m,x,E,L,k,C,j]}set(e,n,r,i,o,c,d,p,_,m,x,E,L,k,C,j){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=c|0,this.Dh=d|0,this.Dl=p|0,this.Eh=_|0,this.El=m|0,this.Fh=x|0,this.Fl=E|0,this.Gh=L|0,this.Gl=k|0,this.Hh=C|0,this.Hl=j|0}process(e,n){for(let z=0;z<16;z++,n+=4)gt[z]=e.getUint32(n),wt[z]=e.getUint32(n+=4);for(let z=16;z<80;z++){const pe=gt[z-15]|0,we=wt[z-15]|0,He=ie.rotrSH(pe,we,1)^ie.rotrSH(pe,we,8)^ie.shrSH(pe,we,7),Ve=ie.rotrSL(pe,we,1)^ie.rotrSL(pe,we,8)^ie.shrSL(pe,we,7),ve=gt[z-2]|0,Te=wt[z-2]|0,je=ie.rotrSH(ve,Te,19)^ie.rotrBH(ve,Te,61)^ie.shrSH(ve,Te,6),ge=ie.rotrSL(ve,Te,19)^ie.rotrBL(ve,Te,61)^ie.shrSL(ve,Te,6),ke=ie.add4L(Ve,ge,wt[z-7],wt[z-16]),Ye=ie.add4H(ke,He,je,gt[z-7],gt[z-16]);gt[z]=Ye|0,wt[z]=ke|0}let{Ah:r,Al:i,Bh:o,Bl:c,Ch:d,Cl:p,Dh:_,Dl:m,Eh:x,El:E,Fh:L,Fl:k,Gh:C,Gl:j,Hh:Q,Hl:be}=this;for(let z=0;z<80;z++){const pe=ie.rotrSH(x,E,14)^ie.rotrSH(x,E,18)^ie.rotrBH(x,E,41),we=ie.rotrSL(x,E,14)^ie.rotrSL(x,E,18)^ie.rotrBL(x,E,41),He=x&L^~x&C,Ve=E&k^~E&j,ve=ie.add5L(be,we,Ve,kf[z],wt[z]),Te=ie.add5H(ve,Q,pe,He,Cf[z],gt[z]),je=ve|0,ge=ie.rotrSH(r,i,28)^ie.rotrBH(r,i,34)^ie.rotrBH(r,i,39),ke=ie.rotrSL(r,i,28)^ie.rotrBL(r,i,34)^ie.rotrBL(r,i,39),Ye=r&o^r&d^o&d,lt=i&c^i&p^c&p;Q=C|0,be=j|0,C=L|0,j=k|0,L=x|0,k=E|0,{h:x,l:E}=ie.add(_|0,m|0,Te|0,je|0),_=d|0,m=p|0,d=o|0,p=c|0,o=r|0,c=i|0;const Je=ie.add3L(je,ke,lt);r=ie.add3H(Je,Te,ge,Ye),i=Je|0}({h:r,l:i}=ie.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:c}=ie.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:d,l:p}=ie.add(this.Ch|0,this.Cl|0,d|0,p|0),{h:_,l:m}=ie.add(this.Dh|0,this.Dl|0,_|0,m|0),{h:x,l:E}=ie.add(this.Eh|0,this.El|0,x|0,E|0),{h:L,l:k}=ie.add(this.Fh|0,this.Fl|0,L|0,k|0),{h:C,l:j}=ie.add(this.Gh|0,this.Gl|0,C|0,j|0),{h:Q,l:be}=ie.add(this.Hh|0,this.Hl|0,Q|0,be|0),this.set(r,i,o,c,d,p,_,m,x,E,L,k,C,j,Q,be)}roundClean(){gt.fill(0),wt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $i=Zr(()=>new zf);function Ri(t,e){return function(){return t.apply(e,arguments)}}const{toString:Of}=Object.prototype,{getPrototypeOf:rs}=Object,er=(t=>e=>{const n=Of.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ft=t=>(t=t.toLowerCase(),e=>er(e)===t),tr=t=>e=>typeof e===t,{isArray:jt}=Array,fn=tr("undefined");function Lf(t){return t!==null&&!fn(t)&&t.constructor!==null&&!fn(t.constructor)&&Qe(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Pi=ft("ArrayBuffer");function Nf(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Pi(t.buffer),e}const Hf=tr("string"),Qe=tr("function"),Mi=tr("number"),nr=t=>t!==null&&typeof t=="object",$f=t=>t===!0||t===!1,Mn=t=>{if(er(t)!=="object")return!1;const e=rs(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rf=ft("Date"),Pf=ft("File"),Mf=ft("Blob"),Df=ft("FileList"),Ff=t=>nr(t)&&Qe(t.pipe),qf=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Qe(t.append)&&((e=er(t))==="formdata"||e==="object"&&Qe(t.toString)&&t.toString()==="[object FormData]"))},jf=ft("URLSearchParams"),Gf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pn(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),jt(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let d;for(r=0;r<c;r++)d=o[r],e.call(null,t[d],d,t)}}function Di(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qi=t=>!fn(t)&&t!==Fi;function Pr(){const{caseless:t}=qi(this)&&this||{},e={},n=(r,i)=>{const o=t&&Di(e,i)||i;Mn(e[o])&&Mn(r)?e[o]=Pr(e[o],r):Mn(r)?e[o]=Pr({},r):jt(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&pn(arguments[r],n);return e}const Kf=(t,e,n,{allOwnKeys:r}={})=>(pn(e,(i,o)=>{n&&Qe(i)?t[o]=Ri(i,n):t[o]=i},{allOwnKeys:r}),t),Wf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Vf=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Yf=(t,e,n,r)=>{let i,o,c;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)c=i[o],(!r||r(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=n!==!1&&rs(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Jf=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Xf=t=>{if(!t)return null;if(jt(t))return t;let e=t.length;if(!Mi(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Qf=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&rs(Uint8Array)),Zf=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},el=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},tl=ft("HTMLFormElement"),nl=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Vs=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rl=ft("RegExp"),ji=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};pn(n,(i,o)=>{let c;(c=e(i,o,t))!==!1&&(r[o]=c||i)}),Object.defineProperties(t,r)},sl=t=>{ji(t,(e,n)=>{if(Qe(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Qe(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},il=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return jt(t)?r(t):r(String(t).split(e)),n},ol=()=>{},al=(t,e)=>(t=+t,Number.isFinite(t)?t:e),kr="abcdefghijklmnopqrstuvwxyz",Ys="0123456789",Gi={DIGIT:Ys,ALPHA:kr,ALPHA_DIGIT:kr+kr.toUpperCase()+Ys},cl=(t=16,e=Gi.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function fl(t){return!!(t&&Qe(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ll=t=>{const e=new Array(10),n=(r,i)=>{if(nr(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=jt(r)?[]:{};return pn(r,(c,d)=>{const p=n(c,i+1);!fn(p)&&(o[d]=p)}),e[i]=void 0,o}}return r};return n(t,0)},ul=ft("AsyncFunction"),dl=t=>t&&(nr(t)||Qe(t))&&Qe(t.then)&&Qe(t.catch),v={isArray:jt,isArrayBuffer:Pi,isBuffer:Lf,isFormData:qf,isArrayBufferView:Nf,isString:Hf,isNumber:Mi,isBoolean:$f,isObject:nr,isPlainObject:Mn,isUndefined:fn,isDate:Rf,isFile:Pf,isBlob:Mf,isRegExp:rl,isFunction:Qe,isStream:Ff,isURLSearchParams:jf,isTypedArray:Qf,isFileList:Df,forEach:pn,merge:Pr,extend:Kf,trim:Gf,stripBOM:Wf,inherits:Vf,toFlatObject:Yf,kindOf:er,kindOfTest:ft,endsWith:Jf,toArray:Xf,forEachEntry:Zf,matchAll:el,isHTMLForm:tl,hasOwnProperty:Vs,hasOwnProp:Vs,reduceDescriptors:ji,freezeMethods:sl,toObjectSet:il,toCamelCase:nl,noop:ol,toFiniteNumber:al,findKey:Di,global:Fi,isContextDefined:qi,ALPHABET:Gi,generateString:cl,isSpecCompliantForm:fl,toJSONObject:ll,isAsyncFn:ul,isThenable:dl};function le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}v.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ki=le.prototype,Wi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Wi[t]={value:t}});Object.defineProperties(le,Wi);Object.defineProperty(Ki,"isAxiosError",{value:!0});le.from=(t,e,n,r,i,o)=>{const c=Object.create(Ki);return v.toFlatObject(t,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),le.call(c,t.message,e,n,r,i),c.cause=t,c.name=t.name,o&&Object.assign(c,o),c};const hl=null;function Mr(t){return v.isPlainObject(t)||v.isArray(t)}function Vi(t){return v.endsWith(t,"[]")?t.slice(0,-2):t}function Js(t,e,n){return t?t.concat(e).map(function(i,o){return i=Vi(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function pl(t){return v.isArray(t)&&!t.some(Mr)}const xl=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function rr(t,e,n){if(!v.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=v.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,j){return!v.isUndefined(j[C])});const r=n.metaTokens,i=n.visitor||m,o=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(e);if(!v.isFunction(i))throw new TypeError("visitor must be a function");function _(k){if(k===null)return"";if(v.isDate(k))return k.toISOString();if(!p&&v.isBlob(k))throw new le("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(k)||v.isTypedArray(k)?p&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function m(k,C,j){let Q=k;if(k&&!j&&typeof k=="object"){if(v.endsWith(C,"{}"))C=r?C:C.slice(0,-2),k=JSON.stringify(k);else if(v.isArray(k)&&pl(k)||(v.isFileList(k)||v.endsWith(C,"[]"))&&(Q=v.toArray(k)))return C=Vi(C),Q.forEach(function(z,pe){!(v.isUndefined(z)||z===null)&&e.append(c===!0?Js([C],pe,o):c===null?C:C+"[]",_(z))}),!1}return Mr(k)?!0:(e.append(Js(j,C,o),_(k)),!1)}const x=[],E=Object.assign(xl,{defaultVisitor:m,convertValue:_,isVisitable:Mr});function L(k,C){if(!v.isUndefined(k)){if(x.indexOf(k)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(k),v.forEach(k,function(Q,be){(!(v.isUndefined(Q)||Q===null)&&i.call(e,Q,v.isString(be)?be.trim():be,C,E))===!0&&L(Q,C?C.concat(be):[be])}),x.pop()}}if(!v.isObject(t))throw new TypeError("data must be an object");return L(t),e}function Xs(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ss(t,e){this._pairs=[],t&&rr(t,this,e)}const Yi=ss.prototype;Yi.append=function(e,n){this._pairs.push([e,n])};Yi.toString=function(e){const n=e?function(r){return e.call(this,r,Xs)}:Xs;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function yl(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ji(t,e,n){if(!e)return t;const r=n&&n.encode||yl,i=n&&n.serialize;let o;if(i?o=i(e,n):o=v.isURLSearchParams(e)?e.toString():new ss(e,n).toString(r),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Qs{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Xi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_l=typeof URLSearchParams<"u"?URLSearchParams:ss,bl=typeof FormData<"u"?FormData:null,gl=typeof Blob<"u"?Blob:null,wl={isBrowser:!0,classes:{URLSearchParams:_l,FormData:bl,Blob:gl},protocols:["http","https","file","blob","url","data"]},Qi=typeof window<"u"&&typeof document<"u",ml=(t=>Qi&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),vl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qi,hasStandardBrowserEnv:ml,hasStandardBrowserWebWorkerEnv:vl},Symbol.toStringTag,{value:"Module"})),ct={...Tl,...wl};function Al(t,e){return rr(t,new ct.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ct.isNode&&v.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Ul(t){return v.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sl(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function Zi(t){function e(n,r,i,o){let c=n[o++];const d=Number.isFinite(+c),p=o>=n.length;return c=!c&&v.isArray(i)?i.length:c,p?(v.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!d):((!i[c]||!v.isObject(i[c]))&&(i[c]=[]),e(n,r,i[c],o)&&v.isArray(i[c])&&(i[c]=Sl(i[c])),!d)}if(v.isFormData(t)&&v.isFunction(t.entries)){const n={};return v.forEachEntry(t,(r,i)=>{e(Ul(r),i,n,0)}),n}return null}function El(t,e,n){if(v.isString(t))try{return(e||JSON.parse)(t),v.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xn={transitional:Xi,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=v.isObject(e);if(o&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return i&&i?JSON.stringify(Zi(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Al(e,this.formSerializer).toString();if((d=v.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return rr(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),El(e)):e}],transformResponse:[function(e){const n=this.transitional||xn.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&v.isString(e)&&(r&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?le.from(d,le.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],t=>{xn.headers[t]={}});const Bl=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Il=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!n||e[n]&&Bl[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Zs=Symbol("internals");function rn(t){return t&&String(t).trim().toLowerCase()}function Dn(t){return t===!1||t==null?t:v.isArray(t)?t.map(Dn):String(t)}function Cl(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const kl=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zr(t,e,n,r,i){if(v.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!v.isString(e)){if(v.isString(r))return e.indexOf(r)!==-1;if(v.isRegExp(r))return r.test(e)}}function zl(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ol(t,e){const n=v.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,c){return this[r].call(this,e,i,o,c)},configurable:!0})})}class Ze{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(d,p,_){const m=rn(p);if(!m)throw new Error("header name must be a non-empty string");const x=v.findKey(i,m);(!x||i[x]===void 0||_===!0||_===void 0&&i[x]!==!1)&&(i[x||p]=Dn(d))}const c=(d,p)=>v.forEach(d,(_,m)=>o(_,m,p));return v.isPlainObject(e)||e instanceof this.constructor?c(e,n):v.isString(e)&&(e=e.trim())&&!kl(e)?c(Il(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=rn(e),e){const r=v.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Cl(i);if(v.isFunction(n))return n.call(this,i,r);if(v.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=rn(e),e){const r=v.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||zr(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(c){if(c=rn(c),c){const d=v.findKey(r,c);d&&(!n||zr(r,r[d],d,n))&&(delete r[d],i=!0)}}return v.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||zr(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return v.forEach(this,(i,o)=>{const c=v.findKey(r,o);if(c){n[c]=Dn(i),delete n[o];return}const d=e?zl(o):String(o).trim();d!==o&&delete n[o],n[d]=Dn(i),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return v.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&v.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Zs]=this[Zs]={accessors:{}}).accessors,i=this.prototype;function o(c){const d=rn(c);r[d]||(Ol(i,c),r[d]=!0)}return v.isArray(e)?e.forEach(o):o(e),this}}Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(Ze.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});v.freezeMethods(Ze);function Or(t,e){const n=this||xn,r=e||n,i=Ze.from(r.headers);let o=r.data;return v.forEach(t,function(d){o=d.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function eo(t){return!!(t&&t.__CANCEL__)}function yn(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}v.inherits(yn,le,{__CANCEL__:!0});function Ll(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Nl=ct.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const c=[t+"="+encodeURIComponent(e)];v.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),v.isString(r)&&c.push("path="+r),v.isString(i)&&c.push("domain="+i),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hl(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $l(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function to(t,e){return t&&!Hl(e)?$l(t,e):e}const Rl=ct.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let c=o;return e&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(c){const d=v.isString(c)?i(c):c;return d.protocol===r.protocol&&d.host===r.host}}():function(){return function(){return!0}}();function Pl(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ml(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,c;return e=e!==void 0?e:1e3,function(p){const _=Date.now(),m=r[o];c||(c=_),n[i]=p,r[i]=_;let x=o,E=0;for(;x!==i;)E+=n[x++],x=x%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),_-c<e)return;const L=m&&_-m;return L?Math.round(E*1e3/L):void 0}}function ei(t,e){let n=0;const r=Ml(50,250);return i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-n,p=r(d),_=o<=c;n=o;const m={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&_?(c-o)/p:void 0,event:i};m[e?"download":"upload"]=!0,t(m)}}const Dl=typeof XMLHttpRequest<"u",Fl=Dl&&function(t){return new Promise(function(n,r){let i=t.data;const o=Ze.from(t.headers).normalize();let{responseType:c,withXSRFToken:d}=t,p;function _(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}let m;if(v.isFormData(i)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((m=o.getContentType())!==!1){const[C,...j]=m?m.split(";").map(Q=>Q.trim()).filter(Boolean):[];o.setContentType([C||"multipart/form-data",...j].join("; "))}}let x=new XMLHttpRequest;if(t.auth){const C=t.auth.username||"",j=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(C+":"+j))}const E=to(t.baseURL,t.url);x.open(t.method.toUpperCase(),Ji(E,t.params,t.paramsSerializer),!0),x.timeout=t.timeout;function L(){if(!x)return;const C=Ze.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),Q={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:C,config:t,request:x};Ll(function(z){n(z),_()},function(z){r(z),_()},Q),x=null}if("onloadend"in x?x.onloadend=L:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(L)},x.onabort=function(){x&&(r(new le("Request aborted",le.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let j=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const Q=t.transitional||Xi;t.timeoutErrorMessage&&(j=t.timeoutErrorMessage),r(new le(j,Q.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,x)),x=null},ct.hasStandardBrowserEnv&&(d&&v.isFunction(d)&&(d=d(t)),d||d!==!1&&Rl(E))){const C=t.xsrfHeaderName&&t.xsrfCookieName&&Nl.read(t.xsrfCookieName);C&&o.set(t.xsrfHeaderName,C)}i===void 0&&o.setContentType(null),"setRequestHeader"in x&&v.forEach(o.toJSON(),function(j,Q){x.setRequestHeader(Q,j)}),v.isUndefined(t.withCredentials)||(x.withCredentials=!!t.withCredentials),c&&c!=="json"&&(x.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&x.addEventListener("progress",ei(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",ei(t.onUploadProgress)),(t.cancelToken||t.signal)&&(p=C=>{x&&(r(!C||C.type?new yn(null,t,x):C),x.abort(),x=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p)));const k=Pl(E);if(k&&ct.protocols.indexOf(k)===-1){r(new le("Unsupported protocol "+k+":",le.ERR_BAD_REQUEST,t));return}x.send(i||null)})},Dr={http:hl,xhr:Fl};v.forEach(Dr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ti=t=>`- ${t}`,ql=t=>v.isFunction(t)||t===null||t===!1,no={getAdapter:t=>{t=v.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let c;if(r=n,!ql(n)&&(r=Dr[(c=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${c}'`);if(r)break;i[c||"#"+o]=r}if(!r){const o=Object.entries(i).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(ti).join(`
`):" "+ti(o[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:Dr};function Lr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yn(null,t)}function ni(t){return Lr(t),t.headers=Ze.from(t.headers),t.data=Or.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),no.getAdapter(t.adapter||xn.adapter)(t).then(function(r){return Lr(t),r.data=Or.call(t,t.transformResponse,r),r.headers=Ze.from(r.headers),r},function(r){return eo(r)||(Lr(t),r&&r.response&&(r.response.data=Or.call(t,t.transformResponse,r.response),r.response.headers=Ze.from(r.response.headers))),Promise.reject(r)})}const ri=t=>t instanceof Ze?t.toJSON():t;function qt(t,e){e=e||{};const n={};function r(_,m,x){return v.isPlainObject(_)&&v.isPlainObject(m)?v.merge.call({caseless:x},_,m):v.isPlainObject(m)?v.merge({},m):v.isArray(m)?m.slice():m}function i(_,m,x){if(v.isUndefined(m)){if(!v.isUndefined(_))return r(void 0,_,x)}else return r(_,m,x)}function o(_,m){if(!v.isUndefined(m))return r(void 0,m)}function c(_,m){if(v.isUndefined(m)){if(!v.isUndefined(_))return r(void 0,_)}else return r(void 0,m)}function d(_,m,x){if(x in e)return r(_,m);if(x in t)return r(void 0,_)}const p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(_,m)=>i(ri(_),ri(m),!0)};return v.forEach(Object.keys(Object.assign({},t,e)),function(m){const x=p[m]||i,E=x(t[m],e[m],m);v.isUndefined(E)&&x!==d||(n[m]=E)}),n}const ro="1.6.2",is={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{is[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const si={};is.transitional=function(e,n,r){function i(o,c){return"[Axios v"+ro+"] Transitional option '"+o+"'"+c+(r?". "+r:"")}return(o,c,d)=>{if(e===!1)throw new le(i(c," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!si[c]&&(si[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,c,d):!0}};function jl(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],c=e[o];if(c){const d=t[o],p=d===void 0||c(d,o,t);if(p!==!0)throw new le("option "+o+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+o,le.ERR_BAD_OPTION)}}const Fr={assertOptions:jl,validators:is},mt=Fr.validators;class Bt{constructor(e){this.defaults=e,this.interceptors={request:new Qs,response:new Qs}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qt(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Fr.assertOptions(r,{silentJSONParsing:mt.transitional(mt.boolean),forcedJSONParsing:mt.transitional(mt.boolean),clarifyTimeoutError:mt.transitional(mt.boolean)},!1),i!=null&&(v.isFunction(i)?n.paramsSerializer={serialize:i}:Fr.assertOptions(i,{encode:mt.function,serialize:mt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&v.merge(o.common,o[n.method]);o&&v.forEach(["delete","get","head","post","put","patch","common"],k=>{delete o[k]}),n.headers=Ze.concat(c,o);const d=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(p=p&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const _=[];this.interceptors.response.forEach(function(C){_.push(C.fulfilled,C.rejected)});let m,x=0,E;if(!p){const k=[ni.bind(this),void 0];for(k.unshift.apply(k,d),k.push.apply(k,_),E=k.length,m=Promise.resolve(n);x<E;)m=m.then(k[x++],k[x++]);return m}E=d.length;let L=n;for(x=0;x<E;){const k=d[x++],C=d[x++];try{L=k(L)}catch(j){C.call(this,j);break}}try{m=ni.call(this,L)}catch(k){return Promise.reject(k)}for(x=0,E=_.length;x<E;)m=m.then(_[x++],_[x++]);return m}getUri(e){e=qt(this.defaults,e);const n=to(e.baseURL,e.url);return Ji(n,e.params,e.paramsSerializer)}}v.forEach(["delete","get","head","options"],function(e){Bt.prototype[e]=function(n,r){return this.request(qt(r||{},{method:e,url:n,data:(r||{}).data}))}});v.forEach(["post","put","patch"],function(e){function n(r){return function(o,c,d){return this.request(qt(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Bt.prototype[e]=n(),Bt.prototype[e+"Form"]=n(!0)});class os{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const c=new Promise(d=>{r.subscribe(d),o=d}).then(i);return c.cancel=function(){r.unsubscribe(o)},c},e(function(o,c,d){r.reason||(r.reason=new yn(o,c,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new os(function(i){e=i}),cancel:e}}}function Gl(t){return function(n){return t.apply(null,n)}}function Kl(t){return v.isObject(t)&&t.isAxiosError===!0}const qr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qr).forEach(([t,e])=>{qr[e]=t});function so(t){const e=new Bt(t),n=Ri(Bt.prototype.request,e);return v.extend(n,Bt.prototype,e,{allOwnKeys:!0}),v.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return so(qt(t,i))},n}const ze=so(xn);ze.Axios=Bt;ze.CanceledError=yn;ze.CancelToken=os;ze.isCancel=eo;ze.VERSION=ro;ze.toFormData=rr;ze.AxiosError=le;ze.Cancel=ze.CanceledError;ze.all=function(e){return Promise.all(e)};ze.spread=Gl;ze.isAxiosError=Kl;ze.mergeConfig=qt;ze.AxiosHeaders=Ze;ze.formToJSON=t=>Zi(v.isHTMLForm(t)?new FormData(t):t);ze.getAdapter=no.getAdapter;ze.HttpStatusCode=qr;ze.default=ze;async function Wl(t){var e;const{params:n,method:r,url:i,headers:o,body:c,overrides:d}=t,p={headers:o,method:r,url:i,params:n,data:c,withCredentials:(e=d==null?void 0:d.WITH_CREDENTIALS)!=null?e:!0};try{const _=await ze(p);return{status:_.status,statusText:_.statusText,data:_.data,headers:_.headers,config:_.config}}catch(_){const m=_;if(m.response)return m.response;throw _}}var io=Object.defineProperty,Vl=Object.getOwnPropertyDescriptor,sr=(t,e)=>{for(var n in e)io(t,n,{get:e[n],enumerable:!0})},ye=(t,e,n,r)=>{for(var i=Vl(e,n),o=t.length-1,c;o>=0;o--)(c=t[o])&&(i=c(e,n,i)||i);return i&&io(e,n,i),i},Yl=/^m(\/[0-9]+')+$/,oo=t=>t.replace("'",""),Jl="ed25519 seed",Xl=2147483648,Ql=t=>{const n=ns.create($i,Jl).update(Ai(t)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},Zl=({key:t,chainCode:e},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),o=new Uint8Array([0]),c=new Uint8Array([...o,...t,...i]),d=ns.create($i,e).update(c).digest(),p=d.slice(0,32),_=d.slice(32);return{key:p,chainCode:_}},eu=t=>Yl.test(t)?!t.split("/").slice(1).map(oo).some(Number.isNaN):!1,tu=(t,e,n=Xl)=>{if(!eu(t))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=Ql(e);return t.split("/").slice(1).map(oo).map(c=>parseInt(c,10)).reduce((c,d)=>Zl(c,d+n),{key:r,chainCode:i})},nu="1.21.0";async function ru(t){return new Promise(e=>{setTimeout(e,t)})}var ii="/v1";function su(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(ii)||(e=`${e}${ii}`),e}var ao=2e5,co=20,iu=20,jr="0x1::aptos_coin::AptosCoin";function ir(t){let e,n,r;return typeof t=="object"?(e=t.hashFunction,n=t.ttlMs,r=t.tags):e=t,(i,o,c)=>{if(c.value!=null)c.value=oi(c.value,e,n,r);else if(c.get!=null)c.get=oi(c.get,e,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function fo(t,e){return ir({ttlMs:t,hashFunction:e})}var Fn=new Map;function ou(t){const e=new Set;for(const n of t){const r=Fn.get(n);if(r)for(const i of r)e.has(i)||(i.clear(),e.add(i))}return e.size}function oi(t,e,n=0,r){const i=Symbol("__memoized_map__");return function(...o){let c;const d=this;d.hasOwnProperty(i)||Object.defineProperty(d,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const p=d[i];if(Array.isArray(r))for(const _ of r)Fn.has(_)?Fn.get(_).push(p):Fn.set(_,[p]);if(e||o.length>0||n>0){let _;e===!0?_=o.map(E=>E.toString()).join("!"):e?_=e.apply(d,o):_=o[0];const m=`${_}__timestamp`;let x=!1;if(n>0)if(!p.has(m))x=!0;else{const E=p.get(m);x=Date.now()-E>n}p.has(_)&&!x?c=p.get(_):(c=t.apply(d,o),p.set(_,c),n>0&&p.set(m,Date.now()))}else{const _=d;p.has(_)?c=p.get(_):(c=t.apply(d,o),p.set(_,c))}return c}}var lo=class extends Error{constructor(t,e,n){super(n),this.name="AptosApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.data=e.data,this.request=t}},au={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function cu(t,e,n,r,i,o){const c={...o==null?void 0:o.HEADERS,"x-aptos-client":`aptos-ts-sdk/${nu}`,"content-type":r??"application/json"};return o!=null&&o.TOKEN&&(c.Authorization=`Bearer ${o==null?void 0:o.TOKEN}`),await Wl({url:t,method:e,body:n,params:i,headers:c,overrides:o})}async function uo(t){const{url:e,endpoint:n,method:r,body:i,contentType:o,params:c,overrides:d}=t,p=`${e}/${n??""}`,_=await cu(p,r,i,o,c,d),m={status:_.status,statusText:_.statusText,data:_.data,headers:_.headers,config:_.config,url:p};if(m.status>=200&&m.status<300)return m;const x=au[m.status];throw new lo(t,m,x??"Generic Error")}async function Ke(t){return await uo({...t,method:"GET"})}async function sn(t){return await uo({...t,method:"POST"})}async function ai(t){const e=[];let n;const r=t.params;for(;;){r.start=n;const i=await Ke({url:t.url,endpoint:t.endpoint,params:r,originMethod:t.originMethod,overrides:t.overrides});if(n=i.headers["x-aptos-cursor"],delete i.headers,e.push(...i.data),n==null)break}return e}var Gr={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},fu={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},ci={"https://fullnode.mainnet.aptoslabs.com/v1":"mainnet","https://fullnode.testnet.aptoslabs.com/v1":"testnet","https://fullnode.devnet.aptoslabs.com/v1":"devnet","http://127.0.0.1:8080/v1":"local"},F=class qn{static fromBuffer(e){return qn.fromUint8Array(e)}static fromUint8Array(e){return new qn(Ti(e))}static ensure(e){return typeof e=="string"?new qn(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(Ai(this.noPrefix()))}},me={};sr(me,{AccountAddress:()=>xe,AccountAuthenticator:()=>At,AccountAuthenticatorEd25519:()=>Uo,AccountAuthenticatorMultiEd25519:()=>Eo,ArgumentABI:()=>lr,AuthenticationKey:()=>Jr,ChainId:()=>bs,ChangeSet:()=>Iu,Ed25519PublicKey:()=>st,Ed25519Signature:()=>ht,EntryFunction:()=>ar,EntryFunctionABI:()=>dn,FeePayerRawTransaction:()=>xs,Identifier:()=>qe,Module:()=>Bu,ModuleId:()=>un,MultiAgentRawTransaction:()=>ps,MultiEd25519PublicKey:()=>or,MultiEd25519Signature:()=>cs,MultiSig:()=>Vo,MultiSigTransactionPayload:()=>Ko,RawTransaction:()=>Jt,RawTransactionWithData:()=>hs,RotationProofChallenge:()=>ku,Script:()=>ds,ScriptABI:()=>ur,SignedTransaction:()=>cr,StructTag:()=>Yt,Transaction:()=>pa,TransactionArgument:()=>it,TransactionArgumentAddress:()=>Us,TransactionArgumentBool:()=>Es,TransactionArgumentU128:()=>Ts,TransactionArgumentU16:()=>ws,TransactionArgumentU256:()=>As,TransactionArgumentU32:()=>ms,TransactionArgumentU64:()=>vs,TransactionArgumentU8:()=>gs,TransactionArgumentU8Vector:()=>Ss,TransactionAuthenticator:()=>Gt,TransactionAuthenticatorEd25519:()=>fs,TransactionAuthenticatorFeePayer:()=>To,TransactionAuthenticatorMultiAgent:()=>mo,TransactionAuthenticatorMultiEd25519:()=>ls,TransactionPayload:()=>vn,TransactionPayloadEntryFunction:()=>_s,TransactionPayloadMultisig:()=>na,TransactionPayloadScript:()=>ys,TransactionScriptABI:()=>Bs,TypeArgumentABI:()=>fr,TypeTag:()=>Pe,TypeTagAddress:()=>It,TypeTagBool:()=>Kt,TypeTagParser:()=>mn,TypeTagParserError:()=>qo,TypeTagSigner:()=>Ro,TypeTagStruct:()=>Ct,TypeTagU128:()=>Vt,TypeTagU16:()=>_n,TypeTagU256:()=>gn,TypeTagU32:()=>bn,TypeTagU64:()=>Wt,TypeTagU8:()=>Ut,TypeTagVector:()=>wn,UserTransaction:()=>xa,WriteSet:()=>Cu,objectStructTag:()=>Au,optionStructTag:()=>Tu,stringStructTag:()=>us});var lu={};sr(lu,{Deserializer:()=>as,Serializer:()=>Ae,bcsSerializeBool:()=>wu,bcsSerializeBytes:()=>vt,bcsSerializeFixedBytes:()=>vu,bcsSerializeStr:()=>mu,bcsSerializeU128:()=>bu,bcsSerializeU16:()=>yu,bcsSerializeU256:()=>gu,bcsSerializeU32:()=>_u,bcsSerializeU8:()=>Kr,bcsSerializeUint64:()=>xu,bcsToBytes:()=>pt,deserializeVector:()=>Ge,serializeVector:()=>Re,serializeVectorWithFunc:()=>pu});var uu=2**8-1,du=2**16-1,ln=2**32-1,ho=BigInt(2**64)-BigInt(1),po=BigInt(2**128)-BigInt(1),hu=BigInt(2**256)-BigInt(1),Ae=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,n){this.ensureBufferWillHandleSize(e);const r=new DataView(this.buffer,this.offset);t.apply(r,[0,n,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if(typeof t!="boolean")throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(ln),n=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(n))}serializeU128(t){const e=BigInt(t.toString())&ho,n=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(n)}serializeU256(t){const e=BigInt(t.toString())&po,n=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(n)}serializeU32AsUleb128(t){let e=t;const n=[];for(;e>>>7;)n.push(e&127|128),e>>>=7;n.push(e),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};ye([kt(0,uu)],Ae.prototype,"serializeU8");ye([kt(0,du)],Ae.prototype,"serializeU16");ye([kt(0,ln)],Ae.prototype,"serializeU32");ye([kt(BigInt(0),ho)],Ae.prototype,"serializeU64");ye([kt(BigInt(0),po)],Ae.prototype,"serializeU128");ye([kt(BigInt(0),hu)],Ae.prototype,"serializeU256");ye([kt(0,ln)],Ae.prototype,"serializeU32AsUleb128");function kt(t,e,n){return(r,i,o)=>{const c=o.value;return o.value=function(p){const _=BigInt(p.toString());if(_>BigInt(e.toString())||_<BigInt(t.toString()))throw new Error("Value is out of range");c.apply(this,[p])},o}}var as=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<ln;){const n=this.deserializeU8();if(t|=BigInt(n&127)<<BigInt(e),!(n&128))break;e+=7}if(t>ln)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function Re(t,e){e.serializeU32AsUleb128(t.length),t.forEach(n=>{n.serialize(e)})}function pu(t,e){const n=new Ae;n.serializeU32AsUleb128(t.length);const r=n[e];return t.forEach(i=>{r.call(n,i)}),n.getBytes()}function Ge(t,e){const n=t.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(e.deserialize(t));return r}function pt(t){const e=new Ae;return t.serialize(e),e.getBytes()}function xu(t){const e=new Ae;return e.serializeU64(t),e.getBytes()}function Kr(t){const e=new Ae;return e.serializeU8(t),e.getBytes()}function yu(t){const e=new Ae;return e.serializeU16(t),e.getBytes()}function _u(t){const e=new Ae;return e.serializeU32(t),e.getBytes()}function bu(t){const e=new Ae;return e.serializeU128(t),e.getBytes()}function gu(t){const e=new Ae;return e.serializeU256(t),e.getBytes()}function wu(t){const e=new Ae;return e.serializeBool(t),e.getBytes()}function mu(t){const e=new Ae;return e.serializeStr(t),e.getBytes()}function vt(t){const e=new Ae;return e.serializeBytes(t),e.getBytes()}function vu(t){const e=new Ae;return e.serializeFixedBytes(t),e.getBytes()}var Jn=class rt{constructor(e){if(e.length!==rt.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let n=F.ensure(e);n.noPrefix().length%2!==0&&(n=new F(`0${n.noPrefix()}`));const r=n.toUint8Array();if(r.length>rt.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===rt.LENGTH)return new rt(r);const i=new Uint8Array(rt.LENGTH);return i.set(r,rt.LENGTH-r.length),new rt(i)}static isValid(e){if(e==="")return!1;let n=F.ensure(e);return n.noPrefix().length%2!==0&&(n=new F(`0${n.noPrefix()}`)),n.toUint8Array().length<=rt.LENGTH}toHexString(){return F.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new rt(e.deserializeFixedBytes(rt.LENGTH))}static standardizeAddress(e){const n=e.toLowerCase();return`0x${(n.startsWith("0x")?n.slice(2):n).padStart(64,"0")}`}};Jn.LENGTH=32;Jn.CORE_CODE_ADDRESS=Jn.fromHex("0x1");var xe=Jn,xo=class jn{constructor(e){if(e.length!==jn.LENGTH)throw new Error(`Ed25519PublicKey length should be ${jn.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const n=e.deserializeBytes();return new jn(n)}};xo.LENGTH=32;var st=xo,yo=class Gn{constructor(e){if(this.value=e,e.length!==Gn.LENGTH)throw new Error(`Ed25519Signature length should be ${Gn.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const n=e.deserializeBytes();return new Gn(n)}};yo.LENGTH=64;var ht=yo,Wr=32,or=class _o{constructor(e,n){if(this.public_keys=e,this.threshold=n,n>Wr)throw new Error(`"threshold" cannot be larger than ${Wr}`)}toBytes(){const e=new Uint8Array(this.public_keys.length*st.LENGTH+1);return this.public_keys.forEach((n,r)=>{e.set(n.value,r*st.LENGTH)}),e[this.public_keys.length*st.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const n=e.deserializeBytes(),r=n[n.length-1],i=[];for(let o=0;o<n.length-1;o+=st.LENGTH){const c=o;i.push(new st(n.subarray(c,c+st.LENGTH)))}return new _o(i,r)}},bo=class on{constructor(e,n){if(this.signatures=e,this.bitmap=n,n.length!==on.BITMAP_LEN)throw new Error(`"bitmap" length should be ${on.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*ht.LENGTH+on.BITMAP_LEN);return this.signatures.forEach((n,r)=>{e.set(n.value,r*ht.LENGTH)}),e.set(this.bitmap,this.signatures.length*ht.LENGTH),e}static createBitmap(e){const r=new Uint8Array([0,0,0,0]),i=new Set;return e.forEach(o=>{if(o>=Wr)throw new Error(`Invalid bit value ${o}.`);if(i.has(o))throw new Error("Duplicated bits detected.");i.add(o);const c=Math.floor(o/8);let d=r[c];d|=128>>o%8,r[c]=d}),r}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const n=e.deserializeBytes(),r=n.subarray(n.length-4),i=[];for(let o=0;o<n.length-r.length;o+=ht.LENGTH){const c=o;i.push(new ht(n.subarray(c,c+ht.LENGTH)))}return new on(i,r)}};bo.BITMAP_LEN=4;var cs=bo,Gt=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return fs.load(t);case 1:return ls.load(t);case 2:return mo.load(t);case 3:return To.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},fs=class go extends Gt{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=st.deserialize(e),r=ht.deserialize(e);return new go(n,r)}},ls=class wo extends Gt{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=or.deserialize(e),r=cs.deserialize(e);return new wo(n,r)}},mo=class vo extends Gt{constructor(e,n,r){super(),this.sender=e,this.secondary_signer_addresses=n,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),Re(this.secondary_signer_addresses,e),Re(this.secondary_signers,e)}static load(e){const n=At.deserialize(e),r=Ge(e,xe),i=Ge(e,At);return new vo(n,r,i)}},To=class Ao extends Gt{constructor(e,n,r,i){super(),this.sender=e,this.secondary_signer_addresses=n,this.secondary_signers=r,this.fee_payer=i}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),Re(this.secondary_signer_addresses,e),Re(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(e){const n=At.deserialize(e),r=Ge(e,xe),i=Ge(e,At),o=xe.deserialize(e),c=At.deserialize(e),d={address:o,authenticator:c};return new Ao(n,r,i,d)}},At=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Uo.load(t);case 1:return Eo.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},Uo=class So extends At{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=st.deserialize(e),r=ht.deserialize(e);return new So(n,r)}},Eo=class Bo extends At{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=or.deserialize(e),r=cs.deserialize(e);return new Bo(n,r)}},qe=class Io{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const n=e.deserializeStr();return new Io(n)}},Pe=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Kt.load(t);case 1:return Ut.load(t);case 2:return Wt.load(t);case 3:return Vt.load(t);case 4:return It.load(t);case 5:return Ro.load(t);case 6:return wn.load(t);case 7:return Ct.load(t);case 8:return _n.load(t);case 9:return bn.load(t);case 10:return gn.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Kt=class Co extends Pe{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Co}},Ut=class ko extends Pe{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new ko}},_n=class zo extends Pe{serialize(e){e.serializeU32AsUleb128(8)}static load(e){return new zo}},bn=class Oo extends Pe{serialize(e){e.serializeU32AsUleb128(9)}static load(e){return new Oo}},Wt=class Lo extends Pe{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Lo}},Vt=class No extends Pe{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new No}},gn=class Ho extends Pe{serialize(e){e.serializeU32AsUleb128(10)}static load(e){return new Ho}},It=class $o extends Pe{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new $o}},Ro=class Po extends Pe{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new Po}},wn=class Mo extends Pe{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const n=Pe.deserialize(e);return new Mo(n)}},Ct=class Do extends Pe{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const n=Yt.deserialize(e);return new Do(n)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===xe.CORE_CODE_ADDRESS.toHexString()}},Yt=class Vr{constructor(e,n,r,i){this.address=e,this.module_name=n,this.name=r,this.type_args=i}static fromString(e){const n=new mn(e).parseTypeTag();return new Vr(n.value.address,n.value.module_name,n.value.name,n.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),Re(this.type_args,e)}static deserialize(e){const n=xe.deserialize(e),r=qe.deserialize(e),i=qe.deserialize(e),o=Ge(e,Pe);return new Vr(n,r,i,o)}},us=new Yt(xe.fromHex("0x1"),new qe("string"),new qe("String"),[]);function Tu(t){return new Yt(xe.fromHex("0x1"),new qe("option"),new qe("Option"),[t])}function Au(t){return new Yt(xe.fromHex("0x1"),new qe("object"),new qe("Object"),[t])}function Tt(t){throw new qo(t)}function fi(t){return!!t.match(/\s/)}function li(t){return!!t.match(/[_A-Za-z0-9]/g)}function Uu(t){return!!t.match(/T\d+/g)}function Su(t,e){const n=t[e];if(n===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];Tt("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(fi(n)){let r="";for(let i=e;i<t.length;i+=1){const o=t[i];if(fi(o))r=`${r}${o}`;else break}return[["SPACE",r],r.length]}else if(li(n)){let r="";for(let i=e;i<t.length;i+=1){const o=t[i];if(li(o))r=`${r}${o}`;else break}return Uu(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function Eu(t){let e=0;const n=[];for(;e<t.length;){const[r,i]=Su(t,e);r[0]!=="SPACE"&&n.push(r),e+=i}return n}var mn=class Fo{constructor(e,n){this.typeTags=[],this.tokens=Eu(e),this.typeTags=n||[]}consume(e){const n=this.tokens.shift();(!n||n[1]!==e)&&Tt("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");this.tokens[0][1]!==">";)this.tokens[0][1]==="<"?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(e,n){const r=[];for(this.tokens.length<=0&&Tt("Invalid type tag.");this.tokens[0][1]!==e&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&n)));)this.tokens.length<=0&&Tt("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&Tt("Invalid type tag.");const[e,n]=this.tokens.shift();if(n==="u8")return new Ut;if(n==="u16")return new _n;if(n==="u32")return new bn;if(n==="u64")return new Wt;if(n==="u128")return new Vt;if(n==="u256")return new gn;if(n==="bool")return new Kt;if(n==="address")return new It;if(n==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new wn(r)}if(n==="string")return new Ct(us);if(e==="IDENT"&&(n.startsWith("0x")||n.startsWith("0X"))){const r=xe.fromHex(n);this.consume("::");const[i,o]=this.tokens.shift();i!=="IDENT"&&Tt("Invalid type tag."),this.consume("::");const[c,d]=this.tokens.shift();if(c!=="IDENT"&&Tt("Invalid type tag."),xe.CORE_CODE_ADDRESS.toHexString()===r.toHexString()&&o==="object"&&d==="Object")return this.consumeWholeGeneric(),new It;let p=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),p=this.parseCommaList(">",!0),this.consume(">"));const _=new Yt(r,new qe(o),new qe(d),p);return new Ct(_)}if(e==="GENERIC"){this.typeTags.length===0&&Tt("Can't convert generic type since no typeTags were specified.");const r=parseInt(n.substring(1),10);return new Fo(this.typeTags[r]).parseTypeTag()}throw new Error("Invalid type tag.")}},qo=class extends Error{constructor(t){super(t),this.name="TypeTagParserError"}},Jt=class jo{constructor(e,n,r,i,o,c,d){this.sender=e,this.sequence_number=n,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=o,this.expiration_timestamp_secs=c,this.chain_id=d}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const n=xe.deserialize(e),r=e.deserializeU64(),i=vn.deserialize(e),o=e.deserializeU64(),c=e.deserializeU64(),d=e.deserializeU64(),p=bs.deserialize(e);return new jo(n,r,i,o,c,d,p)}},ds=class Go{constructor(e,n,r){this.code=e,this.ty_args=n,this.args=r}serialize(e){e.serializeBytes(this.code),Re(this.ty_args,e),Re(this.args,e)}static deserialize(e){const n=e.deserializeBytes(),r=Ge(e,Pe),i=Ge(e,it);return new Go(n,r,i)}},ar=class Kn{constructor(e,n,r,i){this.module_name=e,this.function_name=n,this.ty_args=r,this.args=i}static natural(e,n,r,i){return new Kn(un.fromStr(e),new qe(n),r,i)}static natual(e,n,r,i){return Kn.natural(e,n,r,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),Re(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(n=>{e.serializeBytes(n)})}static deserialize(e){const n=un.deserialize(e),r=qe.deserialize(e),i=Ge(e,Pe),o=e.deserializeUleb128AsU32(),c=[];for(let p=0;p<o;p+=1)c.push(e.deserializeBytes());const d=c;return new Kn(n,r,i,d)}},Ko=class Wo{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new Wo(ar.deserialize(e))}},Vo=class Yo{constructor(e,n){this.multisig_address=e,this.transaction_payload=n}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const n=xe.deserialize(e),r=e.deserializeBool();let i;return r&&(i=Ko.deserialize(e)),new Yo(n,i)}},Bu=class Jo{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const n=e.deserializeBytes();return new Jo(n)}},un=class Yr{constructor(e,n){this.address=e,this.name=n}static fromStr(e){const n=e.split("::");if(n.length!==2)throw new Error("Invalid module id.");return new Yr(xe.fromHex(new F(n[0])),new qe(n[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const n=xe.deserialize(e),r=qe.deserialize(e);return new Yr(n,r)}},Iu=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},Cu=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},cr=class Xo{constructor(e,n){this.raw_txn=e,this.authenticator=n}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const n=Jt.deserialize(e),r=Gt.deserialize(e);return new Xo(n,r)}},hs=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return ps.load(t);case 1:return xs.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},ps=class Qo extends hs{constructor(e,n){super(),this.raw_txn=e,this.secondary_signer_addresses=n}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),Re(this.secondary_signer_addresses,e)}static load(e){const n=Jt.deserialize(e),r=Ge(e,xe);return new Qo(n,r)}},xs=class Zo extends hs{constructor(e,n,r){super(),this.raw_txn=e,this.secondary_signer_addresses=n,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),Re(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(e){const n=Jt.deserialize(e),r=Ge(e,xe),i=xe.deserialize(e);return new Zo(n,r,i)}},vn=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return ys.load(t);case 2:return _s.load(t);case 3:return na.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},ys=class ea extends vn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const n=ds.deserialize(e);return new ea(n)}},_s=class ta extends vn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const n=ar.deserialize(e);return new ta(n)}},na=class ra extends vn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const n=Vo.deserialize(e);return new ra(n)}},bs=class sa{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const n=e.deserializeU8();return new sa(n)}},it=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return gs.load(t);case 1:return vs.load(t);case 2:return Ts.load(t);case 3:return Us.load(t);case 4:return Ss.load(t);case 5:return Es.load(t);case 6:return ws.load(t);case 7:return ms.load(t);case 8:return As.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},gs=class ia extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const n=e.deserializeU8();return new ia(n)}},ws=class oa extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const n=e.deserializeU16();return new oa(n)}},ms=class aa extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const n=e.deserializeU32();return new aa(n)}},vs=class ca extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const n=e.deserializeU64();return new ca(n)}},Ts=class fa extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const n=e.deserializeU128();return new fa(n)}},As=class la extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const n=e.deserializeU256();return new la(n)}},Us=class ua extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const n=xe.deserialize(e);return new ua(n)}},Ss=class da extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const n=e.deserializeBytes();return new da(n)}},Es=class ha extends it{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const n=e.deserializeBool();return new ha(n)}},pa=class{getHashSalt(){const t=Ft.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return xa.load(t);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},xa=class ya extends pa{constructor(e){super(),this.value=e}hash(){const e=Ft.create();return e.update(this.getHashSalt()),e.update(pt(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new ya(cr.deserialize(e))}},fr=class _a{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const n=e.deserializeStr();return new _a(n)}},lr=class ba{constructor(e,n){this.name=e,this.type_tag=n}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const n=e.deserializeStr(),r=Pe.deserialize(e);return new ba(n,r)}},ur=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Bs.load(t);case 1:return dn.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Bs=class ga extends ur{constructor(e,n,r,i,o){super(),this.name=e,this.doc=n,this.code=r,this.ty_args=i,this.args=o}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Re(this.ty_args,e),Re(this.args,e)}static load(e){const n=e.deserializeStr(),r=e.deserializeStr(),i=e.deserializeBytes(),o=Ge(e,fr),c=Ge(e,lr);return new ga(n,r,i,o,c)}},dn=class wa extends ur{constructor(e,n,r,i,o){super(),this.name=e,this.module_name=n,this.doc=r,this.ty_args=i,this.args=o}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Re(this.ty_args,e),Re(this.args,e)}static load(e){const n=e.deserializeStr(),r=un.deserialize(e),i=e.deserializeStr(),o=Ge(e,fr),c=Ge(e,lr);return new wa(n,r,i,o,c)}},Tn=class $t{constructor(e){if(e.length!==$t.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const n=e.toBytes(),r=new Uint8Array(n.length+1);r.set(n),r.set([$t.MULTI_ED25519_SCHEME],n.length);const i=Ft.create();return i.update(r),new $t(i.digest())}static fromEd25519PublicKey(e){const n=e.value,r=new Uint8Array(n.length+1);r.set(n),r.set([$t.ED25519_SCHEME],n.length);const i=Ft.create();return i.update(r),new $t(i.digest())}derivedAddress(){return F.fromUint8Array(this.bytes)}};Tn.LENGTH=32;Tn.MULTI_ED25519_SCHEME=1;Tn.ED25519_SCHEME=0;Tn.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Jr=Tn,ku=class{constructor(t,e,n,r,i,o,c){this.accountAddress=t,this.moduleName=e,this.structName=n,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=o,this.newPublicKey=c}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},ma=class Wn{static fromAptosAccountObject(e){return new Wn(F.ensure(e.privateKeyHex).toUint8Array(),e.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(e,n){if(!Wn.isValidPath(e))throw new Error("Invalid derivation path");const r=n.trim().split(/\s+/).map(o=>o.toLowerCase()).join(" "),{key:i}=tu(e,Ti(Gc(r)));return new Wn(i)}constructor(e,n){e?this.signingKey=Ln.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=Ln.sign.keyPair(),this.accountAddress=F.ensure(n||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new st(this.signingKey.publicKey);return Jr.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,n){const r=pt(xe.fromHex(e)),i=new Uint8Array([...r,...n,Jr.DERIVE_RESOURCE_ACCOUNT_SCHEME]),o=Ft.create();return o.update(i),F.fromUint8Array(o.digest())}static getCollectionID(e,n){const r=new TextEncoder().encode(`${e}::${n}`),i=rf.create();return i.update(r),F.fromUint8Array(i.digest())}pubKey(){return F.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const n=Ln.sign.detached(e,this.signingKey.secretKey);return F.fromUint8Array(n)}signHexString(e){const n=F.ensure(e).toUint8Array();return this.signBuffer(n)}verifySignature(e,n){const r=F.ensure(e).toUint8Array(),i=F.ensure(n).toUint8Array();return Ln.sign.detached.verify(r,i,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:F.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};ye([ir()],ma.prototype,"authKey");var Xn=ma;function $n(t){return t instanceof Xn?t.address():F.ensure(t)}var An=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,zu=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,Ou=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,va=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,Lu=`
    query getAccountCoinsDataCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,Nu=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,Hu=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${zu}
${Ou}`,$u=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,Ru=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,Pu=`
    query getAccountTransactionsData($where_condition: account_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [account_transactions_order_by!]) {
  account_transactions(
    where: $where_condition
    order_by: $order_by
    limit: $limit
    offset: $offset
  ) {
    token_activities_v2 {
      ...TokenActivitiesFields
    }
    transaction_version
    account_address
  }
}
    ${va}`,Mu=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collections_v2_order_by!]) {
  current_collections_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,Du=`
    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,Fu=`
    query getCurrentObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,qu=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,ju=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,Gu=`
    query getNumberOfDelegators($poolAddress: String) {
  num_active_delegator_per_pool(
    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}
    distinct_on: pool_address
  ) {
    num_active_delegator
    pool_address
  }
}
    `,Ku=`
    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${An}`,Wu=`
    query getOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${An}`,Vu=`
    query getTokenActivities($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${va}`,Yu=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_v2_aggregate(where: {token_data_id: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,Ju=`
    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${An}`,Xu=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,Qu=`
    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${An}`,Zu=`
    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${An}`,ed=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,td=`
    query getUserTransactions($where_condition: user_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [user_transactions_order_by!]) {
  user_transactions(
    order_by: $order_by
    where: $where_condition
    limit: $limit
    offset: $offset
  ) {
    version
  }
}
    `;function dr(t,e,n){if(!(e!=null&&e.includes(typeof t)))throw new Error(`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function Ta(t){if(dr(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function Pt(t){if(dr(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function Mt(t){return dr(t,["number","bigint","string"]),BigInt(t)}function nd(t,e,n){Is(t,e,n)}function Is(t,e,n,r){if(e instanceof Kt)n.serializeBool(Ta(t));else if(e instanceof Ut)n.serializeU8(Pt(t));else if(e instanceof _n)n.serializeU16(Pt(t));else if(e instanceof bn)n.serializeU32(Pt(t));else if(e instanceof Wt)n.serializeU64(Mt(t));else if(e instanceof Vt)n.serializeU128(Mt(t));else if(e instanceof gn)n.serializeU256(Mt(t));else if(e instanceof It)Aa(t,n);else if(e instanceof wn)rd(t,e,n);else if(e instanceof Ct)sd(t,e,n);else throw new Error("Unsupported arg type.")}function Aa(t,e){let n;if(typeof t=="string"||t instanceof F)n=xe.fromHex(t);else if(t instanceof xe)n=t;else throw new Error("Invalid account address.");n.serialize(e)}function rd(t,e,n,r){if(e.value instanceof Ut){if(t instanceof Uint8Array){n.serializeBytes(t);return}if(t instanceof F){n.serializeBytes(t.toUint8Array());return}if(typeof t=="string"){n.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(t.length),t.forEach(i=>Is(i,e.value,n))}function sd(t,e,n,r){const{address:i,module_name:o,name:c,type_args:d}=e.value,p=`${F.fromUint8Array(i.address).toShortString()}::${o.value}::${c.value}`;if(p==="0x1::string::String")dr(t,["string"]),n.serializeStr(t);else if(p==="0x1::object::Object")Aa(t,n);else if(p==="0x1::option::Option"){if(d.length!==1)throw new Error(`Option has the wrong number of type arguments ${d.length}`);id(t,d[0],n)}else throw new Error("Unsupported struct type in function argument")}function id(t,e,n,r){t==null?n.serializeU32AsUleb128(0):(n.serializeU32AsUleb128(1),Is(t,e,n))}function od(t,e){if(e instanceof Kt)return new Es(Ta(t));if(e instanceof Ut)return new gs(Pt(t));if(e instanceof _n)return new ws(Pt(t));if(e instanceof bn)return new ms(Pt(t));if(e instanceof Wt)return new vs(Mt(t));if(e instanceof Vt)return new Ts(Mt(t));if(e instanceof gn)return new As(Mt(t));if(e instanceof It){let n;if(typeof t=="string"||t instanceof F)n=xe.fromHex(t);else if(t instanceof xe)n=t;else throw new Error("Invalid account address.");return new Us(n)}if(e instanceof wn&&e.value instanceof Ut){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Ss(t)}throw new Error("Unknown type for TransactionArgument.")}var ad="APTOS::RawTransaction",ui="APTOS::RawTransactionWithData",hn=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,n)}static getSigningMessage(t){const e=Ft.create();if(t instanceof Jt)e.update(ad);else if(t instanceof ps)e.update(ui);else if(t instanceof xs)e.update(ui);else throw new Error("Unknown transaction type.");const n=e.digest(),r=pt(t),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),i}},Nr=class extends hn{constructor(t,e,n){super(t,n),this.publicKey=e}rawToSigned(t){const e=hn.getSigningMessage(t),n=this.signingFunction(e),r=new fs(new st(this.publicKey),n);return new cr(t,r)}sign(t){return pt(this.rawToSigned(t))}},cd=class extends hn{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=hn.getSigningMessage(t),n=this.signingFunction(e),r=new ls(this.publicKey,n);return new cr(t,r)}sign(t){return pt(this.rawToSigned(t))}},fd=class Xr{constructor(e,n){this.abiMap=new Map,e.forEach(r=>{const i=new as(r),o=ur.deserialize(i);let c;if(o instanceof dn){const d=o,{address:p,name:_}=d.module_name;c=`${F.fromUint8Array(p.address).toShortString()}::${_.value}::${d.name}`}else c=o.name;if(this.abiMap.has(c))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(c,o)}),this.builderConfig={maxGasAmount:BigInt(ao),expSecFromNow:co,...n}}static toBCSArgs(e,n){if(e.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>{const o=new Ae;return nd(r,e[i].type_tag,o),o.getBytes()})}static toTransactionArguments(e,n){if(e.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>od(r,e[i].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,n,r){const i=n.map(d=>new mn(d).parseTypeTag());let o;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const c=this.abiMap.get(e);if(c instanceof dn){const d=c,p=Xr.toBCSArgs(d.args,r);o=new _s(new ar(d.module_name,new qe(d.name),i,p))}else if(c instanceof Bs){const d=c,p=Xr.toTransactionArguments(d.args,r);o=new ys(new ds(d.code,i,p))}else throw new Error("Unknown ABI format.");return o}build(e,n,r){const{sender:i,sequenceNumber:o,gasUnitPrice:c,maxGasAmount:d,expSecFromNow:p,chainId:_}=this.builderConfig;if(!c)throw new Error("No gasUnitPrice provided.");const m=i instanceof xe?i:xe.fromHex(i),x=BigInt(Math.floor(Date.now()/1e3)+Number(p)),E=this.buildTransactionPayload(e,n,r);if(E)return new Jt(m,BigInt(o),E,BigInt(d),BigInt(c),x,new bs(Number(_)));throw new Error("Invalid ABI.")}},hr=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const n=(await this.aptosClient.getAccountModules(t)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(o=>o.is_entry).map(o=>({fullName:`${i.address}::${i.name}::${o.name}`,...o}))),r=new Map;return n.forEach(i=>{r.set(i.fullName,i)}),r}async build(t,e,n){if(t=(z=>z.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[o,c]=t.split("::"),d=await this.fetchABI(o);if(!d.has(t))throw new Error(`${t} doesn't exist.`);const p=d.get(t),m=p.params.filter(z=>z!=="signer"&&z!=="&signer").map((z,pe)=>new lr(`var${pe}`,new mn(z,e).parseTypeTag())),x=new dn(p.name,un.fromStr(`${o}::${c}`),"",p.generic_type_params.map((z,pe)=>new fr(`${pe}`)),m),{sender:E,...L}=this.builderConfig,k=E instanceof xe?F.fromUint8Array(E.address):E,[{sequence_number:C},j,{gas_estimate:Q}]=await Promise.all([L!=null&&L.sequenceNumber?Promise.resolve({sequence_number:L==null?void 0:L.sequenceNumber}):this.aptosClient.getAccount(k),L!=null&&L.chainId?Promise.resolve(L==null?void 0:L.chainId):this.aptosClient.getChainId(),L!=null&&L.gasUnitPrice?Promise.resolve({gas_estimate:L==null?void 0:L.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new fd([pt(x)],{sender:E,sequenceNumber:C,chainId:j,gasUnitPrice:BigInt(Q),...L}).build(t,e,n)}};ye([fo(10*60*1e3)],hr.prototype,"fetchABI");var Be=class Rt{constructor(e,n,r=!1){if(!e)throw new Error("Node URL cannot be empty.");r?this.nodeUrl=e:this.nodeUrl=su(e),this.config=n==null?{}:{...n}}async getAccount(e){const{data:n}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}`,originMethod:"getAccount",overrides:{...this.config}});return n}async getAccountTransactions(e,n){const{data:r}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/transactions`,originMethod:"getAccountTransactions",params:{start:n==null?void 0:n.start,limit:n==null?void 0:n.limit},overrides:{...this.config}});return r}async getAccountModules(e,n){return await ai({url:this.nodeUrl,endpoint:`accounts/${e}/modules`,params:{ledger_version:n==null?void 0:n.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:{...this.config}})}async getAccountModule(e,n,r){const{data:i}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/module/${n}`,originMethod:"getAccountModule",params:{ledger_version:r==null?void 0:r.ledgerVersion},overrides:{...this.config}});return i}async getAccountResources(e,n){return await ai({url:this.nodeUrl,endpoint:`accounts/${e}/resources`,params:{ledger_version:n==null?void 0:n.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:{...this.config}})}async getAccountResource(e,n,r){const{data:i}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/resource/${n}`,originMethod:"getAccountResource",params:{ledger_version:r==null?void 0:r.ledgerVersion},overrides:{...this.config}});return i}static generateBCSTransaction(e,n){return new Nr(i=>{const o=e.signBuffer(i);return new me.Ed25519Signature(o.toUint8Array())},e.pubKey().toUint8Array()).sign(n)}static generateBCSSimulation(e,n){return new Nr(i=>{const o=new Uint8Array(64);return new me.Ed25519Signature(o)},e.pubKey().toUint8Array()).sign(n)}async generateTransaction(e,n,r){const i={sender:e};if(r!=null&&r.sequence_number&&(i.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(i.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(i.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const c=Number.parseInt(r.expiration_timestamp_secs,10);i.expSecFromNow=c-Math.floor(Date.now()/1e3)}return new hr(this,i).build(n.function,n.type_arguments,n.arguments)}async generateFeePayerTransaction(e,n,r,i=[],o){const c=await this.generateTransaction(e,n,o),d=i.map(_=>xe.fromHex(_));return new me.FeePayerRawTransaction(c,d,xe.fromHex(r))}async submitFeePayerTransaction(e,n,r,i=[]){const o=new me.TransactionAuthenticatorFeePayer(n,e.secondary_signer_addresses,i,{address:e.fee_payer_address,authenticator:r}),c=pt(new me.SignedTransaction(e.raw_txn,o));return await this.submitSignedBCSTransaction(c)}async signMultiTransaction(e,n){const r=new me.Ed25519Signature(e.signBuffer(hn.getSigningMessage(n)).toUint8Array()),i=new me.AccountAuthenticatorEd25519(new me.Ed25519PublicKey(e.signingKey.publicKey),r);return Promise.resolve(i)}async signTransaction(e,n){return Promise.resolve(Rt.generateBCSTransaction(e,n))}async getEventsByCreationNumber(e,n,r){const{data:i}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/events/${n}`,originMethod:"getEventsByCreationNumber",params:{start:r==null?void 0:r.start,limit:r==null?void 0:r.limit},overrides:{...this.config}});return i}async getEventsByEventHandle(e,n,r,i){const{data:o}=await Ke({url:this.nodeUrl,endpoint:`accounts/${F.ensure(e).hex()}/events/${n}/${r}`,originMethod:"getEventsByEventHandle",params:{start:i==null?void 0:i.start,limit:i==null?void 0:i.limit},overrides:{...this.config}});return o}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,n,r){let i;return e instanceof Xn?i=Rt.generateBCSSimulation(e,n):e instanceof or?i=new cd(()=>{const{threshold:c}=e,d=[],p=[];for(let m=0;m<c;m+=1)d.push(m),p.push(new me.Ed25519Signature(new Uint8Array(64)));const _=me.MultiEd25519Signature.createBitmap(d);return new me.MultiEd25519Signature(p,_)},e).sign(n):i=new Nr(()=>{const c=new Uint8Array(64);return new me.Ed25519Signature(c)},e.toBytes()).sign(n),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(e){const{data:n}=await sn({url:this.nodeUrl,body:e,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return n}async submitBCSSimulation(e,n){var r,i,o;const c={estimate_gas_unit_price:(r=n==null?void 0:n.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(i=n==null?void 0:n.estimateMaxGasAmount)!=null?i:!1,estimate_prioritized_gas_unit_price:(o=n==null?void 0:n.estimatePrioritizedGasUnitPrice)!=null?o:!1},{data:d}=await sn({url:this.nodeUrl,body:e,endpoint:"transactions/simulate",params:c,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return d}async getTransactions(e){var n;const{data:r}=await Ke({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:(n=e==null?void 0:e.start)==null?void 0:n.toString(),limit:e==null?void 0:e.limit},overrides:{...this.config}});return r}async getTransactionByHash(e){const{data:n}=await Ke({url:this.nodeUrl,endpoint:`transactions/by_hash/${e}`,originMethod:"getTransactionByHash",overrides:{...this.config}});return n}async getTransactionByVersion(e){const{data:n}=await Ke({url:this.nodeUrl,endpoint:`transactions/by_version/${e}`,originMethod:"getTransactionByVersion",overrides:{...this.config}});return n}async transactionPending(e){try{return(await this.getTransactionByHash(e)).type==="pending_transaction"}catch(n){if((n==null?void 0:n.status)===404)return!0;throw n}}async waitForTransactionWithResult(e,n){var r,i;const o=(r=n==null?void 0:n.timeoutSecs)!=null?r:iu,c=(i=n==null?void 0:n.checkSuccess)!=null?i:!1;let d=!0,p=0,_;for(;d&&!(p>=o);){try{if(_=await this.getTransactionByHash(e),d=_.type==="pending_transaction",!d)break}catch(m){const x=m instanceof Cs,E=x&&m.status!==404&&m.status>=400&&m.status<500;if(!x||E)throw m}await ru(1e3),p+=1}if(_===void 0)throw new Error(`Waiting for transaction ${e} failed`);if(d)throw new ld(`Waiting for transaction ${e} timed out after ${o} seconds`,_);if(!c)return _;if(!(_!=null&&_.success))throw new ud(`Transaction ${e} failed with an error: ${_.vm_status}`,_);return _}async waitForTransaction(e,n){await this.waitForTransactionWithResult(e,n)}async getLedgerInfo(){const{data:e}=await Ke({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:{...this.config}});return e}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,n,r){var i;return(await sn({url:this.nodeUrl,body:n,endpoint:`tables/${e}/item`,originMethod:"getTableItem",params:{ledger_version:(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString()},overrides:{...this.config}})).data}async generateRawTransaction(e,n,r){const[{sequence_number:i},o,{gas_estimate:c}]=await Promise.all([r!=null&&r.providedSequenceNumber?Promise.resolve({sequence_number:r.providedSequenceNumber}):this.getAccount(e),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:d,gasUnitPrice:p,expireTimestamp:_}={maxGasAmount:BigInt(ao),gasUnitPrice:BigInt(c),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+co),...r};return new me.RawTransaction(me.AccountAddress.fromHex(e),BigInt(i),n,d,p,_,new me.ChainId(o))}async generateSignSubmitTransaction(e,n,r){const i=await this.generateRawTransaction(e.address(),n,r),o=Rt.generateBCSTransaction(e,i);return(await this.submitSignedBCSTransaction(o)).hash}async signAndSubmitTransaction(e,n){const r=Rt.generateBCSTransaction(e,n);return(await this.submitSignedBCSTransaction(r)).hash}async publishPackage(e,n,r,i){const o=new Ae;Re(r,o);const c=new me.TransactionPayloadEntryFunction(me.EntryFunction.natural("0x1::code","publish_package_txn",[],[vt(n),o.getBytes()]));return this.generateSignSubmitTransaction(e,c,i)}async createResourceAccountAndPublishPackage(e,n,r,i,o){const c=new Ae;Re(i,c);const d=new me.TransactionPayloadEntryFunction(me.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[vt(n),vt(r),c.getBytes()]));return this.generateSignSubmitTransaction(e,d,o)}async generateSignSubmitWaitForTransaction(e,n,r){const i=await this.generateSignSubmitTransaction(e,n,r);return this.waitForTransactionWithResult(i,r)}async estimateGasPrice(){const{data:e}=await Ke({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:{...this.config}});return e}async estimateMaxGasAmount(e){const n=`0x1::coin::CoinStore<${jr}>`,[{gas_estimate:r},i]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),o=i.find(d=>d.type===n);return BigInt(o.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(e,n,r){const{sequence_number:i,authentication_key:o}=await this.getAccount(e.address()),c=new Xn(n),d=new me.RotationProofChallenge(me.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),me.AccountAddress.fromHex(e.address()),new me.AccountAddress(new F(o).toUint8Array()),c.pubKey().toUint8Array()),p=F.fromUint8Array(pt(d)),_=e.signHexString(p),m=c.signHexString(p),x=new me.TransactionPayloadEntryFunction(me.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[Kr(0),vt(e.pubKey().toUint8Array()),Kr(0),vt(c.pubKey().toUint8Array()),vt(_.toUint8Array()),vt(m.toUint8Array())])),E=await this.generateRawTransaction(e.address(),x,r),L=Rt.generateBCSTransaction(e,E);return this.submitSignedBCSTransaction(L)}async lookupOriginalAddress(e){const n=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=n.data,i=await this.getTableItem(r,{key_type:"address",value_type:"address",key:F.ensure(e).hex()});return new F(i)}async getBlockByHeight(e,n){const{data:r}=await Ke({url:this.nodeUrl,endpoint:`blocks/by_height/${e}`,originMethod:"getBlockByHeight",params:{with_transactions:n},overrides:{...this.config}});return r}async getBlockByVersion(e,n){const{data:r}=await Ke({url:this.nodeUrl,endpoint:`blocks/by_version/${e}`,originMethod:"getBlockByVersion",params:{with_transactions:n},overrides:{...this.config}});return r}async view(e,n){const{data:r}=await sn({url:this.nodeUrl,body:e,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:n},overrides:{...this.config}});return r}clearCache(e){ou(e)}};ye([Oe],Be.prototype,"getAccount");ye([Oe],Be.prototype,"getAccountTransactions");ye([Oe,fo(10*60*1e3)],Be.prototype,"getAccountModules");ye([Oe],Be.prototype,"getAccountModule");ye([Oe],Be.prototype,"getAccountResources");ye([Oe],Be.prototype,"getAccountResource");ye([Oe],Be.prototype,"getEventsByCreationNumber");ye([Oe],Be.prototype,"getEventsByEventHandle");ye([Oe],Be.prototype,"submitSignedBCSTransaction");ye([Oe],Be.prototype,"submitBCSSimulation");ye([Oe],Be.prototype,"getTransactions");ye([Oe],Be.prototype,"getTransactionByHash");ye([Oe],Be.prototype,"getTransactionByVersion");ye([Oe],Be.prototype,"getLedgerInfo");ye([ir()],Be.prototype,"getChainId");ye([Oe],Be.prototype,"getTableItem");ye([Oe,ir({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Be.prototype,"estimateGasPrice");ye([Oe],Be.prototype,"estimateMaxGasAmount");ye([Oe],Be.prototype,"getBlockByHeight");ye([Oe],Be.prototype,"getBlockByVersion");ye([Oe],Be.prototype,"view");var pr=Be,ld=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},ud=class extends Error{constructor(t,e){super(t),this.transaction=e}},Cs=class extends Error{constructor(t,e,n,r){super(e),this.status=t,this.message=e,this.errorCode=n,this.vmErrorCode=r}};function Oe(t,e,n){const r=n.value;return n.value=async function(...o){var c,d;try{return await r.apply(this,[...o])}catch(p){throw p instanceof lo?new Cs(p.status,JSON.stringify({message:p.message,...p.data}),(c=p.data)==null?void 0:c.error_code,(d=p.data)==null?void 0:d.vm_error_code):p}},n}var Ua=class Ce{constructor(e,n){this.endpoint=e,this.config=n}static validateAddress(e){if(e.length<66)throw new Error(`${e} is less than 66 chars long.`)}async queryIndexer(e){const n=await sn({url:this.endpoint,body:e,overrides:{WITH_CREDENTIALS:!1,...this.config}});if(n.data.errors)throw new Cs(n.data.errors[0].extensions.code,JSON.stringify({message:n.data.errors[0].message,error_code:n.data.errors[0].extensions.code}));return n.data.data}async getIndexerLedgerInfo(){const e={query:ju};return this.queryIndexer(e)}async getAccountNFTs(e,n){const r=F.ensure(e).hex();Ce.validateAddress(r);const i={query:Hu,variables:{address:r,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit}};return this.queryIndexer(i)}async getTokenActivities(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={token_data_id:{_eq:o}};n!=null&&n.tokenStandard&&(c.token_standard={_eq:n==null?void 0:n.tokenStandard});const d={query:Vu,variables:{where_condition:c,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}async getTokenActivitiesCount(e){const n={query:Yu,variables:{token_id:e}};return this.queryIndexer(n)}async getAccountTokensCount(e,n){var r,i;const o={owner_address:{_eq:e},amount:{_gt:"0"}};n!=null&&n.tokenStandard&&(o.token_standard={_eq:n==null?void 0:n.tokenStandard});const c=F.ensure(e).hex();Ce.validateAddress(c);const d={query:$u,variables:{where_condition:o,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit}};return this.queryIndexer(d)}async getTokenData(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={token_data_id:{_eq:o}};n!=null&&n.tokenStandard&&(c.token_standard={_eq:n==null?void 0:n.tokenStandard});const d={query:Xu,variables:{where_condition:c,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}async getTokenOwnersData(e,n,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d={token_data_id:{_eq:c},amount:{_gt:"0"}};n&&(d.property_version_v1={_eq:n}),r!=null&&r.tokenStandard&&(d.token_standard={_eq:r==null?void 0:r.tokenStandard});const p={query:Zu,variables:{where_condition:d,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(p)}async getTokenCurrentOwnerData(e,n,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d={token_data_id:{_eq:c},amount:{_gt:"0"}};n&&(d.property_version_v1={_eq:n}),r!=null&&r.tokenStandard&&(d.token_standard={_eq:r==null?void 0:r.tokenStandard});const p={query:Ju,variables:{where_condition:d,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(p)}async getOwnedTokens(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={owner_address:{_eq:o},amount:{_gt:0}};n!=null&&n.tokenStandard&&(c.token_standard={_eq:n==null?void 0:n.tokenStandard});const d={query:Ku,variables:{where_condition:c,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}async getOwnedTokensByTokenData(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={token_data_id:{_eq:o},amount:{_gt:0}};n!=null&&n.tokenStandard&&(c.token_standard={_eq:n==null?void 0:n.tokenStandard});const d={query:Wu,variables:{where_condition:c,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}async getTokenOwnedFromCollectionAddress(e,n,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d=F.ensure(n).hex();Ce.validateAddress(d);const p={owner_address:{_eq:c},current_token_data:{collection_id:{_eq:d}},amount:{_gt:0}};r!=null&&r.tokenStandard&&(p.token_standard={_eq:r==null?void 0:r.tokenStandard});const _={query:Qu,variables:{where_condition:p,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(_)}async getTokenOwnedFromCollectionNameAndCreatorAddress(e,n,r,i){const o=await this.getCollectionAddress(r,n,i);return await this.getTokenOwnedFromCollectionAddress(e,o,i)}async getCollectionData(e,n,r){var i,o;const c=F.ensure(e).hex();Ce.validateAddress(c);const d={collection_name:{_eq:n},creator_address:{_eq:c}};r!=null&&r.tokenStandard&&(d.token_standard={_eq:r==null?void 0:r.tokenStandard});const p={query:Mu,variables:{where_condition:d,offset:(i=r==null?void 0:r.options)==null?void 0:i.offset,limit:(o=r==null?void 0:r.options)==null?void 0:o.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(p)}async getCollectionAddress(e,n,r){return(await this.getCollectionData(e,n,r)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const c={owner_address:{_eq:o}};n!=null&&n.tokenStandard&&(c.current_collection={token_standard:{_eq:n==null?void 0:n.tokenStandard}});const d={query:Du,variables:{where_condition:c,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}async getAccountTransactionsCount(e){const n=F.ensure(e).hex();Ce.validateAddress(n);const r={query:Ru,variables:{address:n}};return this.queryIndexer(r)}async getAccountTransactionsData(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const d={query:Pu,variables:{where_condition:{account_address:{_eq:o}},offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}async getTopUserTransactions(e){const n={query:ed,variables:{limit:e}};return this.queryIndexer(n)}async getUserTransactions(e){var n,r;const i={version:{_lte:e==null?void 0:e.startVersion}},o={query:td,variables:{where_condition:i,offset:(n=e==null?void 0:e.options)==null?void 0:n.offset,limit:(r=e==null?void 0:e.options)==null?void 0:r.limit,order_by:e==null?void 0:e.orderBy}};return this.queryIndexer(o)}async getDelegatedStakingActivities(e,n){const r=F.ensure(e).hex(),i=F.ensure(n).hex();Ce.validateAddress(r),Ce.validateAddress(i);const o={query:qu,variables:{delegatorAddress:r,poolAddress:i}};return this.queryIndexer(o)}async getNumberOfDelegators(e){const n=F.ensure(e).hex();Ce.validateAddress(n);const r={query:Gu,variables:{poolAddress:n}};return this.queryIndexer(r)}async getAccountCoinsData(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const d={query:Nu,variables:{where_condition:{owner_address:{_eq:o}},offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}async getAccountCoinsDataCount(e){const n=F.ensure(e).hex();Ce.validateAddress(n);const r={query:Lu,variables:{address:n}};return this.queryIndexer(r)}async getAccountOwnedObjects(e,n){var r,i;const o=F.ensure(e).hex();Ce.validateAddress(o);const d={query:Fu,variables:{where_condition:{owner_address:{_eq:o}},offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(i=n==null?void 0:n.options)==null?void 0:i.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(d)}},Qn=class{constructor(t,e,n=!1){let r=null,i=null;if(typeof t=="object"&&dd(t)?(r=t.fullnodeUrl,i=t.indexerUrl,this.network="CUSTOM"):(r=fu[t],i=Gr[t],this.network=t),this.network==="CUSTOM"&&!r)throw new Error("fullnode url is not provided");i&&(this.indexerClient=new Ua(i,e)),this.aptosClient=new pr(r,e,n)}};function Sa(t,e,n){Object.getOwnPropertyNames(e.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e.prototype,r);i&&(i.value=function(...o){return this[n][r](...o)},Object.defineProperty(t.prototype,r,i))}),Object.getOwnPropertyNames(e).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);i&&(i.value=function(...o){return this[n][r](...o)},!t.hasOwnProperty.call(t,r)&&Object.defineProperty(t,r,i))})}Sa(Qn,pr,"aptosClient");Sa(Qn,Ua,"indexerClient");function dd(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"}var Ea=class{constructor(t,e){this.type=t,this.value=e}},Ba=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function hd(t){let e;return t==="string"||t==="String"?e=new Ct(us):e=new mn(t).parseTypeTag(),e}function Ia(t){const e=t.map.data,n=new Ba;return e.forEach(r=>{const{key:i}=r,o=r.value.value,c=r.value.type,d=hd(c),p=pd(d,o),_=new Ea(c,p);n.setProperty(i,_)}),n}function pd(t,e){const n=new as(new F(e).toUint8Array());let r="";return t instanceof Ut?r=n.deserializeU8().toString():t instanceof Wt?r=n.deserializeU64().toString():t instanceof Vt?r=n.deserializeU128().toString():t instanceof Kt?r=n.deserializeBool()?"true":"false":t instanceof It?r=F.fromUint8Array(n.deserializeFixedBytes(32)).hex():t instanceof Ct&&t.isStringTypeTag()?r=n.deserializeStr():r=e,r}var xd={};sr(xd,{PropertyMap:()=>Ba,PropertyValue:()=>Ea,Token:()=>_d,TokenData:()=>yd});var yd=class{constructor(t,e,n,r,i,o,c,d){this.collection=t,this.description=e,this.name=n,this.maximum=r,this.supply=i,this.uri=o,this.default_properties=Ia(c),this.mutability_config=d}},_d=class{constructor(t,e,n){this.id=t,this.amount=e,this.token_properties=Ia(n)}},di=class{constructor(t){this.assetType="0x1::fungible_asset::Metadata",this.provider=t}async transfer(t,e,n,r,i){const o=await this.generateTransfer(t,e,n,r,i);return await this.provider.signAndSubmitTransaction(t,o)}async getPrimaryBalance(t,e){const n={function:"0x1::primary_fungible_store::balance",type_arguments:[this.assetType],arguments:[F.ensure(t).hex(),F.ensure(e).hex()]},r=await this.provider.view(n);return BigInt(r[0])}async generateTransfer(t,e,n,r,i){return await new hr(this.provider,{sender:t.address(),...i}).build("0x1::primary_fungible_store::transfer",[this.assetType],[F.ensure(e).hex(),F.ensure(n).hex(),r])}},hi="0x1::aptos_account::transfer_coins",bd="0x1::coin::transfer",gd=class{constructor(t){this.aptosClient=t}async transfer(t,e,n,r){var i,o,c;const d=((i=r==null?void 0:r.coinType)!=null?i:"").toString().includes("::");if(r!=null&&r.coinType&&!d&&xe.isValid(r.coinType)){console.warn("to transfer a fungible asset, use `FungibleAssetClient()` class for better support");const C=new Qn({fullnodeUrl:this.aptosClient.nodeUrl,indexerUrl:(o=Gr[ci[this.aptosClient.nodeUrl]])!=null?o:this.aptosClient.nodeUrl});return await new di(C).transfer(t,r==null?void 0:r.coinType,$n(e),n)}const p=(c=r==null?void 0:r.coinType)!=null?c:jr;let _;(r==null?void 0:r.createReceiverIfMissing)===void 0?_=hi:_=r!=null&&r.createReceiverIfMissing?hi:bd;const m=$n(e),E=await new hr(this.aptosClient,{sender:t.address(),...r}).build(_,[p],[m,n]),L=pr.generateBCSTransaction(t,E);return(await this.aptosClient.submitSignedBCSTransaction(L)).hash}async checkBalance(t,e){var n,r,i;const o=((n=e==null?void 0:e.coinType)!=null?n:"").toString().includes("::");if(e!=null&&e.coinType&&!o&&xe.isValid(e.coinType)){console.warn("to check balance of a fungible asset, use `FungibleAssetClient()` class for better support");const m=new Qn({fullnodeUrl:this.aptosClient.nodeUrl,indexerUrl:(r=Gr[ci[this.aptosClient.nodeUrl]])!=null?r:this.aptosClient.nodeUrl});return await new di(m).getPrimaryBalance($n(t),e==null?void 0:e.coinType)}const d=`0x1::coin::CoinStore<${(i=e==null?void 0:e.coinType)!=null?i:jr}>`,p=$n(t),_=await this.aptosClient.getAccountResource(p,d);return BigInt(_.data.coin.value)}},wd={};sr(wd,{AptosErrorCode:()=>Ca,MoveFunctionVisibility:()=>ka,RoleType:()=>za});var Ca=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.STATE_VALUE_NOT_FOUND="state_value_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(Ca||{}),ka=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(ka||{}),za=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(za||{});const Hr=1e8,Rn={network:null,connection:null,PENNIES_PER_APT:Hr,formatBalance(t){return t=Number(t)/Hr,t.toFixed(5)},toPennies(t){return t*Hr},getNetwork(){return this.network},setNetwork(t){this.network=t},setConnection(t){this.setNetwork(t);const e=new pr(t);this.connection=new gd(e)},getConnection(){return this.connection},getBalance(t){const e=this.getConnection(),n=new Xn(void 0,t);return e.checkBalance(n)},deposit(t,e,n,r,i){return(async()=>{const c={arguments:[e,n],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]},d=await r.send(c);return i&&i(),d})()}},md={key:0},vd={class:"tw-flex tw-justify-between"},Td={class:"tw-text-text-error-primary tw-mb-2"},Ad={key:1},Ud=["href"],Kd=qa({__name:"DepositAptosPetra",props:{provider:{}},setup(t){const{setWalletModal:e}=ja(),n=t,r=Ga(),{getWeb3AuthProviders:i}=Ka(r),o=$e(!1),c=$e(),d=$e(),p=$e(""),_=$e(!1),m=$e(0),x=$e(0),E=$e(n.provider.extra.main_currency),L=$e(0),k=$e(""),C=$e(""),j=$e(0),Q=$e(null),be=$e(""),z=$e(!1),pe=$e(n.provider.extra.address),we=$e({amount:0});async function He(){p.value=await d.value.connect();const ge=await Rn.getBalance(p.value);return _.value=!0,m.value=Rn.formatBalance(ge),{extraData:{to:pe.value,from:p.value,amount:we.value.amount,checker:n.provider.extra.checker,currency:n.provider.extra.currency,mainCurrency:n.provider.extra.main_currency},isWaitingResponse:!0}}function Ve(ge,ke){x.value=ge.main_amount,L.value=ge.pennies,k.value=ge.payment_id,C.value=ke,Te(),z.value=!0}async function ve(){if(be.value="",m.value<x.value){be.value="not_enough_funds";return}const ke={txid:(await Rn.deposit(p.value,pe.value,L.value,d.value)).hash,from:p.value,to:pe.value,payment_id:k.value,main_amount:x.value,currency:n.provider.extra.currency,initial_data:C.value};await Qa.post(n.provider.extra.webhook,ke),e()}function Te(){j.value=n.provider.extra.time_to_commit,Q.value=Za(()=>{if(j.value<=0){clearInterval(Q.value);return}j.value--},1e3)}function je(){c.value=i.value.petra||null,d.value=new ec("petra"),o.value=d.value.hasUserApp(),Rn.setConnection(n.provider.extra.network_url)}return Wa(()=>{je()}),Va(()=>{o.value&&d.value.disconnect()}),(ge,ke)=>{var Je;const Ye=Ma,lt=Da;return Ne(o)?(tn(),Er(lt,{key:0,"field-variables":Ne(we),"is-form-valid":!0,provider:ge.provider,"on-before-submit":He,"hide-deposit-button":Ne(z),onOnResponse:Ve},{default:On(()=>[Ya(Ye,{amount:Ne(we).amount,"onUpdate:amount":ke[0]||(ke[0]=et=>Ne(we).amount=et),disabled:Ne(z),"min-limit":ge.provider.min_limit,"max-limit":ge.provider.max_limit,"is-required":""},Ja({_:2},[Ne(_)?{name:"titleAfter",fn:On(()=>[Ht("span",null,ot(ge.$t("available"))+" ("+ot(Ne(E))+"): "+ot(Ne(m)),1)]),key:"0"}:void 0]),1032,["amount","disabled","min-limit","max-limit"]),Ne(z)?(tn(),js("div",md,[Ht("div",vd,[Ht("div",Td,ot(ge.$t("click_approve "))+": "+ot(Ne(j)),1),Ht("div",null,[Ht("span",null,ot(Ne(x))+" ("+ot(Ne(E))+")",1)])])])):Br("",!0),Ne(be)?(tn(),Er(nc,{key:1},{default:On(()=>[Ir(ot(ge.$t(Ne(be))),1)]),_:1})):Br("",!0),Ne(z)?(tn(),Er(Xa,{key:2,"is-disabled":Ne(j)<=0,onClick:ve},{default:On(()=>[Ir(ot(ge.$t("send")),1)]),_:1},8,["is-disabled"])):Br("",!0)]),_:1},8,["field-variables","provider","hide-deposit-button"])):(tn(),js("div",Ad,[Ir(ot(ge.$t("you_have_to_install"))+" ",1),Ht("a",{target:"_blank",href:(Je=Ne(c))==null?void 0:Je.url,class:"tw-text-text-brand tw-cursor-pointer"}," Petra ",8,Ud)]))}}});export{Kd as default};
