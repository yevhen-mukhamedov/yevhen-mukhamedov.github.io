import{d as H,aa as L,m as U,j as z,X as j,ax as q,s as K,a0 as m,H as _,ay as X,o as n,B as c,C as f,T as F,b as u,g as o,e as l,t as w,O as G,i as v,c as h,W as J,p as Q,A as Y,h as Z,ac as ee,_ as oe}from"./7PQ9d4dP.js";import{_ as te}from"./DqC-nx6a.js";import{_ as se}from"./BQWyzQZp.js";import{_ as ne}from"./UCCBr-NG.js";import"./DD170oM2.js";import"./D0WEjs_T.js";const ae={class:"welcome-img"},le={class:"welcome-info"},re={class:"welcome-title"},ce={class:"tw-text-text-tertiary tw-text-base tw-font-bold"},ue=["innerHTML"],ie=H({__name:"WelcomeBonusModal",props:{bonus:{}},setup(B){const s=B,y=L(),g=U(),x=z(),C=j(),M=q(),{actualizeUserData:k}=g,{setWelcomeBonusID:d,setActiveBonus:$,postActivateBonus:N}=M,{isContainerMobile:S}=K(x),a=m(""),p=m(!1),r=m(null),I=_(()=>b.value&&!a.value.length),b=_(()=>s.bonus.actions.includes(X.PROMO_CODE)),T=_(()=>S.value&&s.bonus.mobile_banner||s.bonus.banner),V=async()=>{r.value=null;try{await N(s.bonus.id,a.value??void 0),d(null),$(s.bonus),await k(),y.push(C({path:J.promotions}))}catch(t){console.error("activateBonus /Bonuses/WelcomeBonusModal",t);const e=t;r.value=e}};return(t,e)=>{const W=Q,D=te,O=Y,R=Z,A=se,P=ne,E=ee;return n(),c(E,null,{default:f(()=>[(n(),c(F,{to:"#globalModal"},[u(P,{"without-bg":"","without-header":"",class:"welcome-modal","modal-width":"100%","modal-max-width":"360px",onClose:e[2]||(e[2]=i=>o(d)(null))},{content:f(()=>[l("div",null,[l("div",ae,[u(W,{src:o(T),alt:"Welcome bonus"},null,8,["src"])]),l("div",le,[l("h2",re,w(t.$t("you_want_active_bonus_deposit")),1),o(b)?(n(),c(D,{key:0,modelValue:o(a),"onUpdate:modelValue":e[0]||(e[0]=i=>G(a)?a.value=i:null),"placeholder-text":t.$t("bonus_enter_promo_code"),"is-required":""},null,8,["modelValue","placeholder-text"])):v("",!0),u(O,{"is-disabled":o(I),class:"tw-w-full","color-type":"primary","label-key":"activate",onClick:V},null,8,["is-disabled"]),o(p)?(n(),h("div",{key:2,innerHTML:t.bonus.desc},null,8,ue)):(n(),h("div",{key:1,class:"tw-flex tw-items-center tw-cursor-pointer",onClick:e[1]||(e[1]=i=>p.value=!0)},[u(R,{name:"history",size:20,class:"tw-me-1 tw-text-text-tertiary"}),l("span",ce,w(t.$t("read_description")),1)])),o(r)?(n(),c(A,{key:3,error:o(r),class:"tw-w-full"},null,8,["error"])):v("",!0)])])]),_:1})]))]),_:1})}}}),we=oe(ie,[["__scopeId","data-v-49dd1fca"]]);export{we as default};
