import{d as N,o as u,c as _,a1 as q,aE as G,B as S,C as m,b as i,m as E,E as J,s as W,H as w,e as r,f as B,t as l,g as e,n as F,i as f,aO as K,p as M,az as Q,ah as X,I as Y,j as Z,a as P,a0 as A,w as ee,r as te,O as oe,A as re}from"./7PQ9d4dP.js";import{_ as se}from"./CXUEa_s4.js";import{_ as R}from"./DqC-nx6a.js";import{a as ne,F as ae}from"./BQWyzQZp.js";import{_ as le}from"./CML6iTNl.js";import{a as ie,_ as ce}from"./RQfXHScZ.js";import{_ as ue}from"./Dty3woGA.js";const de={class:"tw-flex tw-flex-col tw-gap-2"},me=N({__name:"WithdrawErrors",props:{errors:{}},setup(C){return(n,b)=>{const y=ne,x=le;return u(),_("div",de,[(u(!0),_(q,null,G(n.errors,(o,c)=>(u(),S(x,{key:c},{default:m(()=>[i(y,{"error-code":o.code,"error-message":o.msg},null,8,["error-code","error-message"])]),_:2},1024))),128))])}}}),pe={class:"withdrawal-balance-container"},_e={class:"tw-flex tw-justify-between tw-items-center"},we={class:"withdrawal-balance-label"},fe={class:"withdrawal-balance-value"},ve=r("div",{class:"bg-divider"},null,-1),ye={class:"wager-progress"},he={class:"wager-progress-container"},ge={class:"wager-progress-label"},be={class:"wager-progress-amount"},xe=["src"],Ve=N({__name:"WithdrawalsBalance",setup(C){const n=E(),{PLATFORM_ID:b}=J().public,{getCurrency:y,getWithdrawable:x,getAmountAlreadyWagered:o,getRequirementAmount:c}=W(n),v=w(()=>ie.mglbt.includes(b)),V=w(()=>o.value<c.value),$=d=>v.value?K(d):d;return(d,U)=>{const k=ce,a=M,s=Q;return u(),_("div",pe,[r("div",_e,[r("div",we,[B(l(d.$t("available_withdraw"))+" ",1),i(k,{class:"withdrawal-balance-icon",name:"payment-card",text:d.$t("available_withdraw_tooltip")},null,8,["text"])]),r("div",fe,[B(l($(e(x)))+" ",1),i(a,{src:("getCurrencyIconUrl"in d?d.getCurrencyIconUrl:e(F))(e(y)),alt:"currency",width:"16",height:"16"},null,8,["src"])])]),e(V)?(u(),_(q,{key:0},[ve,r("div",ye,[r("div",he,[r("span",ge,l(d.$t("wager_required")),1),r("span",be,[B(l(e(o))+" / "+l(e(c))+" ",1),r("img",{src:("getCurrencyIconUrl"in d?d.getCurrencyIconUrl:e(F))(e(y)),alt:"currency",width:"16",height:"16"},null,8,xe)])]),i(s,{max:e(c),value:e(o)},null,8,["max","value"])])],64)):f("",!0)])}}}),$e={class:"tw-flex tw-justify-center"},Ie=N({__name:"WithdrawFrame",props:{filedValues:{},provider:{},error:{},isFormValid:{type:Boolean}},setup(C){const n=X(),b=E(),y=Y(),x=Z(),{t:o}=P(),c=C,v=A(null),{actualizeUserData:V}=b,{setTransacitonsModalTab:$}=y,{getCurrency:d,get2faControl:U}=W(b),{is2FA:k}=W(x),a=w(()=>c.provider.id&&!U.value&&k.value),s=A(""),I=A(!1),T=async()=>{if(k.value&&U.value&&!I.value){I.value=!0;return}const p={amount:Number(c.filedValues.amount??0),currency:d.value,cancel_url:window.location.origin,type:c.provider.id,return_url:window.location.origin};v.value=null;try{const h=I.value?{...p,code_2fa:s.value}:p,t=c.filedValues.crypto?c.filedValues.crypto:{...c.filedValues},{data:g}=await n.sendWithdrawalOrder({...h,...t});if(g.action_key==="show_payment_history")return await V(),$("payment"),!1;if(g.redirect_url){if(g.redirect_url==="no_redirect")return await V(),$("payment"),!1;window.location.replace(g.redirect_url)}else return await V(),$("payment"),!1}catch(h){const{msg:t,error_code:g}=h;v.value=[{code:g,msg:t}]}};return ee(()=>c.error,p=>{p&&(v.value=[{msg:p}])}),(p,h)=>{const t=me,g=Ve,D=ue,O=R,z=re,L=ae;return u(),_("div",null,[i(L,{class:"tw-flex tw-flex-col tw-gap-4",onSubmit:T},{default:m(()=>{var j;return[(j=e(v))!=null&&j.length?(u(),S(t,{key:0,errors:e(v)},null,8,["errors"])):f("",!0),i(g),te(p.$slots,"default"),e(a)?(u(),S(D,{key:1})):f("",!0),e(I)?(u(),S(O,{key:2,modelValue:e(s),"onUpdate:modelValue":h[0]||(h[0]=H=>oe(s)?s.value=H:null),"input-name":"code_2fa","placeholder-text":e(o)("code_2fa"),"is-required":!0,"is-validated-separately":!0},null,8,["modelValue","placeholder-text"])):f("",!0),r("div",$e,[i(z,{type:"submit","label-key":"withdraw","is-disabled":!c.isFormValid,class:"tw-w-full"},null,8,["is-disabled"])])]}),_:3})])}}}),Te={key:0},ke={class:"tw-flex tw-items-center"},Ce={class:"tw-w-16 tw-h-8 tw-overflow-hidden tw-rounded-sm tw-mr-3"},Ue={class:"fg-main-12-regular tw-text-text-tertiary"},Se={class:"fg-info-14-regular"},Ae={class:"tw-flex tw-items-center"},We={class:"tw-w-16 tw-h-8 tw-overflow-hidden tw-rounded-sm tw-mr-3"},Fe={class:"fg-main-14-thin"},Ne={key:1},Be={key:2},Ee={class:"tw-flex tw-items-center"},je={class:"tw-flex tw-items-center"},qe={key:3},Me={class:"tw-flex tw-items-center"},Pe={class:"tw-flex tw-items-center"},Re={key:4},De={class:"tw-flex tw-items-center"},Oe={class:"tw-flex tw-items-center"},ze={key:5},Le={class:"tw-flex tw-items-center"},He={class:"tw-flex tw-items-center"},Ge=N({__name:"WithdrawalExternalMonnet",props:{provider:{}},setup(C){const{provider:n}=C,{t:b}=P(),y=E(),{getCurrency:x}=W(y),o=A({currency:null,amount:null,country:null,customerIdType:null,accountType:null,paymentAccount:"",firstname:"",lastname:"",bank:null,customerId:"",other_currency:!0}),c=w(()=>n.extra&&n.extra.currencies&&n.extra.currencies.length),v=w(()=>n.extra&&n.extra.rates&&o.value.currency&&o.value.amount),V=w(()=>n.extra&&n.extra.countries&&n.extra.countries.length),$=w(()=>n.extra&&n.extra.accountTypes&&n.extra.accountTypes.length),d=w(()=>n.extra&&n.extra.customerIdTypes&&n.extra.customerIdTypes.length),U=w(()=>n.extra&&n.extra.banks&&n.extra.banks.length),k=w(()=>"");return(a,s)=>{const I=M,T=se,p=R,h=Ie;return u(),S(h,{"filed-values":e(o),provider:a.provider},{default:m(()=>[e(c)?(u(),_("div",Te,[i(T,{modelValue:e(o).currency,"onUpdate:modelValue":s[0]||(s[0]=t=>e(o).currency=t),"default-option":e(o).currency,"item-list":a.provider.extra.currencies,class:"tw-mb-4","modal-overflow":!0},{"selected-option":m(({props:t})=>[r("div",ke,[r("div",Ce,[i(I,{class:"tw-block tw-object-cover tw-w-16 tw-h-8",src:("getCurrencyIconUrl"in a?a.getCurrencyIconUrl:e(F))(t),alt:t},null,8,["src","alt"])]),r("div",null,[r("div",Ue,l(a.$t("currency")),1),r("h4",Se,l(t),1)])])]),option:m(({props:t})=>[r("div",Ae,[r("div",We,[i(I,{class:"tw-block tw-object-cover tw-w-16 tw-h-8",src:("getCurrencyIconUrl"in a?a.getCurrencyIconUrl:e(F))(t),alt:t},null,8,["src","alt"])]),r("div",null,[r("h4",Fe,l(t),1)])])]),_:1},8,["modelValue","default-option","item-list"])])):f("",!0),e(v)?(u(),_("div",Ne,[r("div",null,l(e(b)("convert_possible_amount"))+" "+l(e(k))+" ("+l(e(x))+")",1)])):f("",!0),e(V)?(u(),_("div",Be,[i(T,{modelValue:e(o).country,"onUpdate:modelValue":s[1]||(s[1]=t=>e(o).country=t),"default-option":e(o).country,"item-list":a.provider.extra.countries,class:"tw-mb-4","modal-overflow":!0},{"selected-option":m(({props:t})=>[r("div",Ee,l(t),1)]),option:m(({props:t})=>[r("div",je,l(t),1)]),_:1},8,["modelValue","default-option","item-list"])])):f("",!0),e($)?(u(),_("div",qe,[i(T,{modelValue:e(o).accountType,"onUpdate:modelValue":s[2]||(s[2]=t=>e(o).accountType=t),"default-option":e(o).accountType,"item-list":a.provider.extra.accountTypes,class:"tw-mb-4","modal-overflow":!0},{"selected-option":m(({props:t})=>[r("div",Me,l(t),1)]),option:m(({props:t})=>[r("div",Pe,l(t),1)]),_:1},8,["modelValue","default-option","item-list"])])):f("",!0),e(d)?(u(),_("div",Re,[i(T,{modelValue:e(o).customerIdType,"onUpdate:modelValue":s[3]||(s[3]=t=>e(o).customerIdType=t),"default-option":e(o).customerIdType,"item-list":a.provider.extra.customerIdTypes,class:"tw-mb-4","modal-overflow":!0},{"selected-option":m(({props:t})=>[r("div",De,l(t),1)]),option:m(({props:t})=>[r("div",Oe,l(t),1)]),_:1},8,["modelValue","default-option","item-list"])])):f("",!0),e(U)?(u(),_("div",ze,[i(T,{modelValue:e(o).bank,"onUpdate:modelValue":s[4]||(s[4]=t=>e(o).bank=t),"default-option":e(o).bank,"item-list":a.provider.extra.banks,class:"tw-mb-4","modal-overflow":!0},{"selected-option":m(({props:t})=>[r("div",Le,l(t),1)]),option:m(({props:t})=>[r("div",He,l(t),1)]),_:1},8,["modelValue","default-option","item-list"])])):f("",!0),r("div",null,[i(p,{modelValue:e(o).firstname,"onUpdate:modelValue":s[5]||(s[5]=t=>e(o).firstname=t),"input-name":"firstname","is-required":!0,"placeholder-text":a.$t("firstname")},null,8,["modelValue","placeholder-text"])]),r("div",null,[i(p,{modelValue:e(o).lastname,"onUpdate:modelValue":s[6]||(s[6]=t=>e(o).lastname=t),"input-name":"lastname","is-required":!0,"placeholder-text":a.$t("lastname")},null,8,["modelValue","placeholder-text"])]),r("div",null,[i(p,{modelValue:e(o).paymentAccount,"onUpdate:modelValue":s[7]||(s[7]=t=>e(o).paymentAccount=t),"input-name":"paymentAccount","is-required":!0,"placeholder-text":a.$t("paymentAccount")},null,8,["modelValue","placeholder-text"])]),r("div",null,[i(p,{modelValue:e(o).customerId,"onUpdate:modelValue":s[8]||(s[8]=t=>e(o).customerId=t),"input-name":"customerId","is-required":!0,"placeholder-text":a.$t("customerId")},null,8,["modelValue","placeholder-text"])])]),_:1},8,["filed-values","provider"])}}}),tt=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));export{tt as W,Ie as _};
