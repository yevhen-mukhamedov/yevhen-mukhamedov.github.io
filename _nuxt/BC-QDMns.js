import{_ as z}from"./DzA2N62b.js";import{M as H,C as f,_ as K}from"./BrvGPcun.js";import{_ as X}from"./3N86B1rU.js";import{_ as Z}from"./1-N0yLDQ.js";import{_ as q}from"./sQNTZNBq.js";import{_ as J}from"./ChQlXKMR.js";import{_ as Q}from"./B850H_fa.js";import{V as W,_ as Y,ak as tt,a1 as v,a7 as et,a0 as ot,a2 as at,i as l,j as L,k as st,c as w,X as a,f as k,b as p,u as n,x,n as nt,$ as rt,Z as it,o as r}from"./JoFQSik9.js";import{u as ct}from"./CXetEtI4.js";import"./ElL4sWVy.js";import"./D0zd4JXZ.js";import"./R92wxnHx.js";import"./Bcnv4IFf.js";import"./Cf_ozb67.js";import"./D8aEg3BZ.js";import"./BZw8aVXh.js";import"./B92FZ1g3.js";import"./BM2BYuY2.js";import"./ClZaf3ID.js";import"./BKAhWZth.js";import"./DTX8-FfK.js";import"./DdIClELx.js";import"./Cel6GgYv.js";import"./LijCuOwn.js";import"./CXQSc-M8.js";import"./K-WBeQ-v.js";import"./BQxgWOyN.js";import"./R1J_LkVd.js";import"./56Y_7FHu.js";const mt={class:"tw-mt-10 tw-mb-20"},lt={key:1,class:"tw-my-8"},pt={key:2,class:"tw-mt-8"},Dt=W({__name:"[id]",setup(ut){const{t:i}=Y(),u=tt(),{getCurrentBonus:c}=v(u),_=et(),S=ot(),A=at(),{isLeaderBoard:N}=v(S),{isLoggedIn:I,tokenChanging:O}=v(A),h=l([]),s=l([]),o=l(null),C=l({}),R={type:H.ACCORDION,style:{accordionContainerClass:"tw-flex tw-flex-col tw-gap-4"}},E=L(()=>{var t,e;return((e=(t=c.value)==null?void 0:t.info)==null?void 0:e.categories)||[]}),b=L(()=>{var t,e;return((e=(t=c.value)==null?void 0:t.info)==null?void 0:e.providers)||[]}),P=()=>{h.value=[{target:"search",componentName:f.SEARCH_INPUT,props:{modelValue:"",classes:"tw-col-span-6 desktop:tw-col-span-4"}},{target:"category",componentName:f.SINGLE_SELECTOR,props:{modelValue:"",additionalLabel:`${i("categories")}: `,placeholder:i("categories"),displayedOption:"category",returnedOption:"id",isAllowEmpty:!0,itemList:E.value,classList:"tw-col-span-1"},mobile:{redirect:!0}},{target:"provider",componentName:f.MULTI_SELECTOR,props:{modelValue:"",additionalLabel:`${i("providers")}: `,placeholder:i("providers"),displayedOption:"soft",returnedOption:"id",trackOption:"id",isAllowEmpty:!0,defaultOption:b.value[0],itemList:b.value,classList:"tw-col-span-1"},mobile:{redirect:!0}}]},$=async t=>{C.value={...t,category:t.category?[t.category]:void 0},s.value=[],o.value.current_page=1,await d()},G=async()=>{o.value.page=+o.value.next_page,await d()},M=t=>{t&&Array.isArray(t)&&(s.value=[...s.value,...t])},d=async()=>{var t;try{const e=await u.getBonusGames(+_.params.id,{...C.value,...o.value});if(M(e.data.items),o.value=e.data.pagination,!((t=o.value)!=null&&t.next_page))return;const g=new URL(o.value.next_page.toString()),m=new URLSearchParams(g.search);if(!m.has("page"))return;const y=m.get("page");o.value={...o.value,next_page:y}}catch(e){console.error("getGames pages/bonus-wagering/[id].vue",e)}},T=async()=>{try{await u.getBonusById(+_.params.id,!0)}catch(t){console.error("getBonusByIdCallAction pages/bonus-wagering/[id].vue",t),t.error_code===417&&rt().push({path:it.promotions})}};return ct("getBonusByIdCallAction",async()=>await T(),{watch:[I,O]}),st(async()=>{_.params.id&&(await d(),P())}),(t,e)=>{var B;const g=z,m=K,y=X,V=Z,U=q,F=J,D=Q;return r(),w("div",mt,[a(c)?(r(),k(g,{key:0,bonus:a(c)},null,8,["bonus"])):p("",!0),n(m,{class:"tw-mt-4",list:a(h),"order-settings":{gridCols:6},"mobile-settings":R,onChange:$},null,8,["list"]),a(s).length?(r(),w("section",lt,[n(V,{"key-name":"leader-board-tab","key-identify":"game_id",list:a(s),class:nt(["ng-casino-recent-grid","ng-casino-recent-grid-activity"])},{item:x(({item:j})=>[n(y,{class:"tw-mt-1",game:j},null,8,["game"])]),_:1},8,["list"]),(B=a(o))!=null&&B.next_page?(r(),k(F,{key:0,"class-list":"tw-my-8","item-count":a(s).length,item:a(o)},{action:x(()=>[n(U,{"label-key":"show_more","color-type":"outline",class:"content-btn",onClick:G})]),_:1},8,["item-count","item"])):p("",!0)])):p("",!0),a(N)?(r(),w("section",pt,[n(D)])):p("",!0)])}}});export{Dt as default};
