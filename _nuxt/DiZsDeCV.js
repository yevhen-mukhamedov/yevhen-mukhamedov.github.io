import{V as M,_ as C,i as R,j as m,o as p,c as h,X as s,t as I,b as f,a as b,d as H,n as $,aK as L,aL as _,g as q,v as E,u as B,a5 as P,a0 as W,ae as r,aM as A,ac as U}from"./JoFQSik9.js";import{u as X}from"./BM2BYuY2.js";import{R as G,a as j}from"./56Y_7FHu.js";const O=["for"],Y={class:"input-container"},J={key:0,class:"input-placeholder"},Q=["id","autocomplete","disabled","name","readonly","required","type","value","maxlength"],Z={key:0,class:"input-suffix"},x={class:"input-message"},ee={key:0,class:"input-support-text"},oe={key:1,class:"ng-control-error-message"},ae=M({__name:"NgInputPassword",props:{isLabelShown:{type:Boolean,default:!1},inputName:{default:""},labelKey:{default:""},isReadonly:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},placeholderKey:{default:""},isRequired:{type:Boolean,default:!0},isAutocomplete:{type:Boolean,default:!0},classes:{default:""},modelValue:{type:[String,Boolean],default:""},isValidatedSeparately:{type:Boolean,default:!1},validationRules:{default:null},isWithShowHideIcon:{type:Boolean,default:!0},shownIconName:{default:"eye_show"},hiddenIconName:{default:"eye_hide"},shownIconSize:{default:24},hiddenIconSize:{default:24},shownIconWidth:{default:null},hiddenIconWidth:{default:null},shownIconHeight:{default:null},hiddenIconHeight:{default:null},shownIconColor:{default:""},hiddenIconColor:{default:""},shownIconFolder:{default:""},hiddenIconFolder:{default:""},shownIconIsInitColor:{type:Boolean,default:!1},hiddenIconIsInitColor:{type:Boolean,default:!1},supportingTextKey:{},suffixKey:{}},emits:["input","blur","focus","update:modelValue"],setup(N,{emit:d}){const{t:l}=C(),n=N,{value:S,errorMessage:c}=X(()=>n.inputName,n.isValidatedSeparately?n.validationRules:null,{syncVModel:!0}),t=R(!1),v=m(()=>`
      ${n.classes}
      ${c.value?"ng-control-error":""}
      `),k=m(()=>n.isLabelShown&&n.labelKey),e=m(()=>n.isRequired?l(n.labelKey):`${l(n.labelKey)} (${l("optional")})`),i=m(()=>!n.isRequired&&!k.value?`${l(n.placeholderKey)} (${l("optional")})`:l(n.placeholderKey)),u=R(!1),g=()=>{u.value=!u.value},V=m(()=>u.value?"text":"password"),F=m(()=>n.isWithShowHideIcon&&n.shownIconName&&n.hiddenIconName),w=d,T=o=>{const a=o.target;w("update:modelValue",a.value),w("input",a.value)},z=o=>{const a=o.target;t.value=!0,w("focus",a.value)},D=o=>{const a=o.target;t.value=!1,w("blur",a.value)};return(o,a)=>{const K=P;return p(),h("div",{class:$([[s(v),{focus:s(t),active:o.modelValue,placeholder:o.placeholderKey,error:s(c),disabled:o.isDisabled}],"ng-control ng-input-password"])},[s(k)?(p(),h("label",{key:0,class:"ng-control-label",for:o.inputName},I(s(e)),9,O)):f("",!0),b("div",{class:$([[{"ng-control-inner-icon-left":o.$slots.leftIcon,"ng-control-inner-icon-right":o.$slots.rightIcon}],"ng-control-inner"])},[H(o.$slots,"leftIcon"),b("div",Y,[o.placeholderKey?(p(),h("div",J,I(s(i)),1)):f("",!0),b("input",{id:o.inputName,autocomplete:o.isAutocomplete?"on":"off",class:$([{"tw-pr-14":o.suffixKey},"ng-control-input"]),disabled:o.isDisabled,name:o.inputName,readonly:"isReadonly"in o?o.isReadonly:s(L),required:o.isRequired,type:s(V),value:s(S),maxlength:s(_),onBlur:a[0]||(a[0]=y=>D(y)),onFocus:a[1]||(a[1]=y=>z(y)),onInput:a[2]||(a[2]=y=>T(y))},null,42,Q)]),o.suffixKey?(p(),h("div",Z,I(o.$t(o.suffixKey)),1)):f("",!0),s(F)?(p(),h("div",{key:1,class:"ng-control-password-icon-wrapper",onClick:g},[q(B(K,{color:o.shownIconColor,folder:o.shownIconFolder,height:o.shownIconHeight,"is-init-color":o.shownIconIsInitColor,name:o.shownIconName,size:o.shownIconSize,width:o.shownIconWidth},null,8,["color","folder","height","is-init-color","name","size","width"]),[[E,s(u)]]),q(B(K,{color:o.hiddenIconColor,folder:o.hiddenIconFolder,height:o.hiddenIconHeight,"is-init-color":o.hiddenIconIsInitColor,name:o.hiddenIconName,size:o.hiddenIconSize,width:o.hiddenIconWidth},null,8,["color","folder","height","is-init-color","name","size","width"]),[[E,!s(u)]])])):f("",!0)],2),b("div",x,[o.supportingTextKey&&!s(c)?(p(),h("span",ee,I(o.$t(o.supportingTextKey)),1)):f("",!0),s(c)?(p(),h("span",oe,I(s(l)(s(c))),1)):f("",!0)])],2)}}}),re=N=>{const{t:d}=C(),{getPasswordData:l}=W(),n={},S=e=>e!=null&&e.required&&(e!=null&&e.hasUsername)?r().required():e!=null&&e.required&&!(e!=null&&e.hasUsername)?r().matches(j,e.errorText):r(),c=e=>e!=null&&e.required&&!(e!=null&&e.mask)?r().required():r(),t=(e,i)=>{n[e]=n[e]?n[e].concat(i):i},v=e=>`${d(e)} a required field`;return N.forEach(e=>{if(e.required&&t(e.inputName,r().required(v(e.inputName))),e.validate){if(!e.validate.regexp)return;t(e.inputName,r().matches(new RegExp(e.validate.regexp),{message:e.validate.error,excludeEmptyString:!0}))}switch(e.inputName){case"email":t("email",S(e));break;case"personal_number":t("personal_number",c(e));break;case"password":t("password",r().matches(new RegExp(l.regular,"g"),l.msg));break;case"password_confirmation":t("password_confirmation",r().oneOf([A("password")],e.errorText));break;case"bank_account_number":t("bank_account_number",e.required?r().max(14,`${d(e.inputName)} must be only digits between 8 - 14`).min(8,`${d(e.inputName)} must be only digits between 8 - 14`):r());break;case"birthday":t("birthday",r().transform((i,u)=>u===null?"":i).test({message:`${d("you_must_be_adult")}`,test:i=>{if(!i)return;const u=new Date(i),g=new Date;return g.setFullYear(g.getFullYear()-18),u<=g}}));break;case"username":t("username",r().matches(G,{message:d("symbol_error"),excludeEmptyString:!0}));break}}),U().shape(n)};export{ae as _,re as u};
